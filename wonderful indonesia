

<!DOCTYPE HTML>
<html class="container-max-width" style="background-color: #fcfcfc;">
    <head>
	<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    
    <meta property="description" content="Catch a glimpse of Indonesia&#39;s bewitching attractions without having to put on your shoes and discover the ultimate destination that matches your soul. So go ahead and steal a glance at your ideal holiday."/>
    <meta property="og:description" content="Catch a glimpse of Indonesia&#39;s bewitching attractions without having to put on your shoes and discover the ultimate destination that matches your soul. So go ahead and steal a glance at your ideal holiday."/>
    <meta property="og:title" content="The Official Website of Indonesia Tourism - Wonderful Indonesia"/>
    
       	<meta name="taggingpage">
       	
		<meta property="og:image" content="//www.indonesia.travel/content/dam/indtravelrevamp/en/destinations/java/dki-jakarta/jakarta/9fe4c537ae976df197ea11dfbd43e42e8a886816-cd2d9.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png"/>
        <meta property="og:image:width" content="600"/>
		<meta property="og:image:height" content="600"/>
	
	<meta property="og:type" content="article"/>        
    
    
    
<link rel="stylesheet" href="/etc/clientlibs/foundation/main.min.css" type="text/css">
<script type="text/javascript" src="/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
<script type="text/javascript" src="/etc.clientlibs/clientlibs/granite/utils.min.js"></script>
<script type="text/javascript" src="/etc.clientlibs/clientlibs/granite/jquery/granite.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/foundation/jquery.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/foundation/main.min.js"></script>



    
    <link href="/etc/designs/indtravelrevamp.css" rel="stylesheet" type="text/css"/>

    








    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="canonical" href="https://www.indonesia.travel/gb/en/home"/>
    <!--p>ini total param 0 </p-->
	
    	<link rel="alternate" href="https://www.indonesia.travel/gb/en/home" hreflang="x-default"/>
        <link rel="alternate" href="https://www.indonesia.travel/cn/en/home" hreflang="en-cn"/>
        <link rel="alternate" href="https://www.indonesia.travel/kr/en/home" hreflang="en-kr"/>
        <link rel="alternate" href="https://www.indonesia.travel/jp/en/home" hreflang="en-jp"/>
        <link rel="alternate" href="https://www.indonesia.travel/fr/en/home" hreflang="en-fr"/>
        <link rel="alternate" href="https://www.indonesia.travel/sa/en/home" hreflang="en-sa"/>
        <link rel="alternate" href="https://www.indonesia.travel/au/en/home" hreflang="en-au"/>
        <link rel="alternate" href="https://www.indonesia.travel/tw/en/home" hreflang="en-tw"/>
        <link rel="alternate" href="https://www.indonesia.travel/hk/en/home" hreflang="en-hk"/>
        <link rel="alternate" href="https://www.indonesia.travel/nl/en/home" hreflang="en-nl"/>
        <link rel="alternate" href="https://www.indonesia.travel/uk/en/home" hreflang="en-gb"/>
        <link rel="alternate" href="https://www.indonesia.travel/de/en/home" hreflang="en-de"/>
        <link rel="alternate" href="https://www.indonesia.travel/us/en/home" hreflang="en-us"/>
        <link rel="alternate" href="https://www.indonesia.travel/ph/en/home" hreflang="en-ph"/>
        <link rel="alternate" href="https://www.indonesia.travel/in/en/home" hreflang="en-in"/>
        <link rel="alternate" href="https://www.indonesia.travel/uae/en/home" hreflang="en-ae"/>
        <link rel="alternate" href="https://www.indonesia.travel/sg/en/home" hreflang="en-sg"/>
        <link rel="alternate" href="https://www.indonesia.travel/my/en/home" hreflang="en-my"/>
        <link rel="alternate" href="https://www.indonesia.travel/th/en/home" hreflang="en-th"/>
        <link rel="alternate" href="https://www.indonesia.travel/cn/zh-cn/home" hreflang="zh-cn"/>
        <link rel="alternate" href="https://www.indonesia.travel/kr/ko/home" hreflang="ko-kr"/>
        <link rel="alternate" href="https://www.indonesia.travel/jp/ja/home" hreflang="ja-jp"/>
        <link rel="alternate" href="https://www.indonesia.travel/fr/fr/home" hreflang="fr-fr"/>
        <link rel="alternate" href="https://www.indonesia.travel/sa/ar/home" hreflang="ar-sa"/>
        <link rel="alternate" href="https://www.indonesia.travel/tw/zh-tw/home" hreflang="zh-tw"/>
        <link rel="alternate" href="https://www.indonesia.travel/hk/zh-tw/home" hreflang="zh-hk"/>
        <link rel="alternate" href="https://www.indonesia.travel/uae/ar/home" hreflang="ar-ae"/>
        
    
    <script src="/etc/designs/indtravelrevamp/clientlib-site/js/jquery-3.2.1.min.js"></script>



    
<link rel="stylesheet" href="/etc/designs/indtravelrevamp/clientlib-all.min.css" type="text/css">




<link rel="shortcut icon" href="/content/dam/indtravelrevamp/page-assets/favicon.png" type="image/x-icon">
<link rel="icon" href="/content/dam/indtravelrevamp/page-assets/favicon.png" type="image/x-icon">

    <style>
        	.signika-font {
				font-family: 'Signika', sans-serif;
            }
			.opensans-font {
				font-family: 'Open Sans', sans-serif;
            }
			/*
			#headcontainer{
                position: fixed;
                width: 100%;
                z-index: 99;
                background: white;
            }
			@media screen and (min-width: 767px) {
    			#explorecontainer{
        			padding-top: 79px;
    			}
			}
			@media screen and (max-width: 766px) {
				#contentcontainer{
					padding-top: 79px;
    			}	
    			#explorecontainer{
        			top: 79px;
        			z-index: 99;
					position: fixed;
        			width: 100%;
    			}
			}
            */
		</style>
    <title>The Official Website of Indonesia Tourism - Wonderful Indonesia</title>

	<!-- remove when publish -->
    <!--Production -->
    <!--script src="//assets.adobedtm.com/11411518e186b5d2397ec926df4027ec817039d0/satelliteLib-9961ec5a8d60f89a53fb1b43aa18d06e5873fb34.js"></script-->
	<!--STAGING -->
    <script src="//assets.adobedtm.com/11411518e186b5d2397ec926df4027ec817039d0/satelliteLib-9961ec5a8d60f89a53fb1b43aa18d06e5873fb34-staging.js"></script>

<!--<meta data-sly-include=”/libs/cq/cloudserviceconfigs/components/servicelibs/servicelibs.jsp” data-sly-unwrap></meta>--></head>
    <body>
<div id="headcontainer"><style>
	.navbar {
		padding-right: 1em !important;
		padding-left: 1em !important;
		box-shadow: 0px 0px 5px #7d7d7d;
	}
	.navbar .dropdown:hover .dropdown-content {
        z-index: 100;
    }
	.search-hd-cp {
		margin-left: 0;
		padding-top: 1em;
		height: 70px;
	}
	.search-input-cp, .search-input-cp:focus {
		border-radius: 0;
		border: 1px solid #6d519c;
	}
	button.search-input-cp {
		background-image: linear-gradient(to left, #e5117e, #6553a2);
		color:white;
		font-weight:bold;
	}
	#mobile-menu-xs {
		width:80%;
		height:100%;
        background-color:white;
        background-image: linear-gradient(to left, #6d519c, #bd2881);
	}
	#mobile-menu-xs li {
		color: white;
		list-style-type: none;
		padding: 10px 0;
		border-bottom:1px solid #ffffff;
	}
	#mobile-menu-xs li>a {
        color: #ffffff;
	}
	.mobile-menu-xs-pr {
		height:100vh !important;position: fixed;z-index: 11;overflow: auto;display:none;
	}

    #mobile-menu-xs .dropdown-lang1 {
    	top: 50px;
    }
    #mobile-menu-xs .indt-language {
		border:0px;
	}
	#mobile-menu-xs .indt-language li {
		padding:4px 0;
		display: inline;
	}
	.navbar {
		background-color:white;
	}
	.navbar-brand img {
        height:50px !important;
        width:auto !important;
    }
    .navbar-toggler {
        margin-top: 10px;
    }

	/*edit erik*/
	#search-fn-trigger {
		cursor: pointer;
	}
    @media screen and (min-width: 768px) {
        .dropdown-lang1 {
            left:auto !important;
            right:0;
        }
		.navbar-brand img {
            height:auto;
            width:175px;
        }
    }
	 /* Dropdown Button */
	.dropdown a.dropbtn {
		padding-left: 15px;
		padding-right: 15px;
	}

	/* The container <div> - needed to position the dropdown content */
	.dropdown {
		position: relative;
		display: inline-block;
	}

	/* Dropdown Content (Hidden by Default) */
	.dropdown-content {
		display: none;
		position: absolute;
		background-color: #f9f9f9;
		min-width: 160px;
		box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
		z-index: 1;
	}

	/* Links inside the dropdown */
	.dropdown-content a {
		color: black;
		padding: 12px 16px;
		text-decoration: none;
		display: block;
	}

	/* Change color of dropdown links on hover */
	.dropdown-content a:hover {background-color: #f1f1f1}

	/* Show the dropdown menu on hover */
	.dropdown:hover .dropdown-content {
		display: block;
	}

	/* Change the background color of the dropdown button when the dropdown content is shown */
	.dropdown:hover .dropbtn .indt-menu-active{
		display: block;
	}

	.collapse-submenu li{
		padding: 0px 0px 0px 10px !important;
		border-bottom: none !important;
	}

	.collapse-submenu {
		padding-top: 10px;
	}

    .indt-menu-active {
        width: 100%;
    }
    .dropdown-content a {
		padding: .5em 15px !important;
    }
    .dropdown-content {
		min-width: 180px;
    }
	.dismissable-country-language {
		position:fixed;
		height:100vh;
		width:100%;
		z-index: 12;
		opacity:0.9;
		background: #6D519C;
		background: -webkit-linear-gradient(#6D519C, #d5347d);
		background: -o-linear-gradient(#6D519C, #d5347d);
		background: -moz-linear-gradient(#6D519C, #d5347d);
		background: linear-gradient(#6D519C, #d5347d);
	}
    .form-country-lang {
		padding-top:60px;
    }
	@media screen and (max-width: 767px) {
        .dismissable-country-language {
			opacity:0.97;
		}
        .form-country-lang {
			padding-top:0px;
        }
    }
	.language-shown-hide {
		height: 0px;
		opacity: 0;
		transition:all 300ms;
        overflow: hidden;
		animation-timing-function:ease;
	}
	.dropdown-country-rig .dropdown-toggle::after{
		display: block !important;
		right: 6px;
		position: absolute !important;
		top: 48% !important;
	}
	@keyframes pulse {
	    0% {
	        opacity: .3
	    }
	    to {
	        opacity: 1
	    }
	}
	.select-language-menu option {
		color: black !important;
	}
	.indt-language {
		transition:background-color .3s;
	}
	.indt-language:hover {
		cursor:pointer;
		opacity: .8;
		background-color: #6d519c;
		color: white !important;
		border-radius: 4px;
	}






/**/
.slideUp {
    transform: translateY(-100%);
}
.slideDown {
    transform: translateY(0%);
}
.slideUpExplore {
    height: 79px !important;
    transform: translateY(-100%);
    background-color:unset !important;
}
.slideDownExplore {
    transform: translateY(0%);
}
#explorecontainer {
	transition: all 300ms;
	background-color:unset !important;
}

.log {
	color: #333333 !important;
	background-color: transparent !important;
	border: none !important;
}

.bulat {
	border: 1px solid #333333;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    padding-top: 4px;
}

.btn-secondary {
	border-color: transparent;
}

</style>
<!--<link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">-->

	<!-- header -->
	<div class="navbar navbar-light rounded navbar-toggleable-md">
	  <div class="indt-container mobile-navigation container d-flex" style="padding-top: 10px;padding-bottom: 10px;">

		<!-- Mobile navigation menu -->
		<button class="navbar-toggler collapsed hidden-md-up" style="display:block" type="button" onclick="navEl.show()">
		  <!--<span class="navbar-toggler-icon"></span>-->
          <span class="lnr lnr-menu" style="font-size: xx-large;"></span>
		</button>

		<!-- Logo -->
		
		<a href="/gb/en/home" class="navbar-brand">
		  <img src="/content/dam/indtravelrevamp/en/logo.png" alt="Indonesia Travel Logo">
		</a>
		
		

		<!-- Menu Navigation -->
		<div class="float-right full-width hidden-mobile">

		  <!-- Search, Language, User -->
		  <ul class="li-none float-right mb-0 indt-right-menu">
			<li><a class="btn" id="search-fn-trigger" onclick="searchs.show()"><span class="lnr lnr-magnifier"></span></a></li>
			<li>
				<div class="dropdown indt-language" onclick="openshowmenu()">
					<ul>
						<li>
							<a class="btn" id="dropdownCountry">
                                <i class="fa fa-globe"></i>
							</a>-
							<a class="btn" id="dropdownLanguage">
							</a>
						</li>
					</ul>
				</div>
			</li>
			<li>
			
				<a href="/gb/en/partnership-opportunity" class="active btn">Partners Kit</a>
			
			
            </li>
			<!--<li>
				<button type="button" class="active btn btn-outline-info login-btn-trigger-popup log" onclick="reg.showPopup()"><i class="fa fa-user bulat"></i> Sign In</button>
            </li>-->
			<!--
			<li>
			  <div class="dropdown">
				<a class="btn dropdown-toggle" href="https://example.com" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				  Jhon Doe
				</a>

				<div class="dropdown-menu" style="right: 0;left:auto !important;" aria-labelledby="dropdownMenuLink">
				  <a class="dropdown-item" href="#">Profile</a>
				  <a class="dropdown-item" href="#">Whistlist</a>
				  <a class="dropdown-item" href="#">Logout</a>
				</div>
			  </div>
			</li>-->
		  </ul>
		  <!-- End of Search, Language, User -->

		  <!-- Menu -->
		  <ul class="indt-menu hidden-sm-down li-none float-right mb-0 text-right" id="desktop-menu-clone">
			<!--<li><a href=""><span class="lnr lnr-home"></span> <span class="indt-menu-active"></span></a></li>-->
			<li class="hidden-sm-up be-the-first" style="border-bottom:0px;">
			
				<form method="GET" accept-charset="UTF-8" action="/gb/en/search">
			
			
					<div class="row search-hd-cp justify-content-md-center">
						<div class="col-12" style="padding-left:0;">
							<div class="input-group">						
								<input name="q" type="text" autocomplete="off" required class="search-input-cp search-input-cp-1 form-control" placeholder="Search Here...">
								<span class="input-group-btn">
									<button class="search-input-cp btn btn-secondary" type="submit" style="background-image:linear-gradient(to left, #fff, #fff);color:black">
										<span class="lnr lnr-magnifier" style="font-size:14px;"></span>
									</button>
								</span>
							</div>
						</div>
					</div>
				</form>
			</li>
			<li class="dropdown">
				<a class="dropbtn">What to See <span class="indt-menu-active"></span></a>
				<div class="dropdown-content">
                    
					<a href="/gb/en/destinations">Destinations </a>
					<a href="/gb/en/attractions">Attractions </a>
                    <a href="/gb/en/event-festivals">Events &amp; Festivals </a>
					
                    
				</div>
			</li>
			<li class="dropdown">
				<a class="dropbtn">What to Do <span class="indt-menu-active"></span></a>
				<div class="dropdown-content">
					
					<a href="/gb/en/experience">5 Wonders </a>
                    <a href="/gb/en/trip-ideas">Trip Ideas </a>
                    <a href="/gb/en/travel-blog">Travel Blog</a>
                    <!--<sly data-sly-test="true">
                        <a href="/gb/en/tripofwonders">Trip Of Wonders</a>
					</sly>-->
					
					
				</div>
			</li>
			<li class="dropdown">
				<a class="dropbtn">Plan Your Trip <span class="indt-menu-active"></span></a>
				<div class="dropdown-content">
					
					<a href="/gb/en/general-information">General Information </a>
					<!--<a href="/gb/en/maps">Maps </a>-->
                    <a href="/gb/en/news">News </a>
					<a href="/gb/en/packages">Packages </a>
					
					
				</div>
			</li>
			<li><a href="#" class="go-exp" style="color:#d2347d"><img src="/content/dam/indtravelrevamp/activities/main-banner/icon/goexplore-icon-magenta.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" width="25"> Go Explore</a></li>
            
		  </ul>
		  <!-- End of Menu -->

		</div>
		<!-- End of Menu Navigation -->
	  </div>
	</div>
	<!-- End of header -->

	<!-- Search Component -->
	<div class="full-width search-hd-cp-pr" style="display:none;background-color: white;">
		<div class="indt-container">
			<form method="GET" accept-charset="UTF-8" action="http://www.indonesia.travel/gb/en/search">
				<div class="row search-hd-cp justify-content-md-center" style="padding-bottom: 1em;">
					<div class="col-lg-6">
						<div class="input-group">						
							<input name="q" type="text" autocomplete="off" required class="search-input-cp search-input-cp-1 form-control" placeholder="Search Here...">
							<span class="input-group-btn">
								<button class="search-input-cp btn btn-secondary" type="submit">Search</button>
							</span>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<!-- End of Search Component -->
	
	<!-- country menu and language -->
	<div class="language-shown-hide">
		<div class="dismissable-country-language" style="display:none" onclick="closeshowmenu()"></div>
		<div class="full-width" style="z-index: 12;position: relative;">
			<div class="indt-container">
				<form method="GET" class="form-country-lang">
					<div class="row justify-content-md-center" style="padding-bottom: 2em; padding-top: 2em;">
						<div class="col-lg-8">
							<div class="row">
                                <div class="col-12 col-md-2"></div>
								<div class="col-12 col-md-4" style="margin-top:15px;">
									<div class="input-group">
										<!--<span class="input-group-addon search-input-cp" id="basic-addon1" style="width: 157px;text-align: left;">Country</span>-->
										<div class="dropdown w-100 dropdown-country-rig">
										  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 100%;border-radius: 7px;text-align: left;border: 1px solid #ffffff; background-color: transparent;color: white;">
											Global
										  </button>
										  <div class="dropdown-menu dropdown-menu-right" id="country-Json-paste" aria-labelledby="dropdownMenu2" style="width: 100%;top:35px;max-height: 50vh;overflow-y:auto;font-size:medium !important">
												<!--<button data-sly-repeat=",,,,,,,,,,,,,,,,,,," title="" class="dropdown-item Country-Title-" type="button" style="text-indent:30px;" onclick="changeMenu('', '')" data-url=""><span class="flag flag-"></span> </button>-->
										  </div>
										</div>
									</div>
								</div>
							
								<div class="col-12 col-md-4" style="margin-top:15px;">
										<!-- <span class="input-group-addon search-input-cp" id="basic-addon1"> -->
											<!-- Languange -->
										<!-- </span> -->

                                        <div class="dropdown w-100 dropdown-country-rig">
                                          <button class="btn btn-secondary dropdown-toggle btn-block" type="button" id="dropdownMenuButtonL" style="width: 100%;border-radius: 7px;text-align: left;border: 1px solid #ffffff;background-color: transparent;color: white;" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Dropdown button
                                          </button>
                                          <div class="dropdown-menu w-100 dropdownMenuButtonP" aria-labelledby="dropdownMenuButtonL" style="font-size:medium !important">
                                            <a class="dropdown-item" href="#">Language Not Available</a>
                                          </div>
                                        </div>

                                        <!--<select class="form-control search-input-cp select-language-menu1" style="border-radius: 7px;background-color: transparent;color: white;border: 1px solid white;" onchange="JsonCL.setURL()">
										</select>-->
								</div>
								<div class="col-12 col-md-2" style="margin-top:15px;">
									<div class="input-group">
										<!--<a href="/content/indtravelrevamp/gb/en/home.html" class="btn-block search-input-cp btn btn-primary" style="padding: 8px 0;background-color: transparent;border: 1px solid white;border-radius: 7px;font-weight: normal;" id="country-choose"><span>Submit</span></a>-->
										<button type="button" class="btn btn-primary" onclick="closeshowmenu()" style="
											margin-left: auto;
											margin-right: auto;
											overflow: hidden;
											/* margin-top: 70px; */
											border: 1px solid white;
											background-color: transparent;
											border-radius: 50%;
											padding: 5px 13px;
											cursor: pointer;
											margin-left: 10px;
                                            width: 38px;
                                            height: 38px;
                                            line-height: 38px;
										"><span class="lnr lnr-cross" style="
											margin-top: -1px;
											display: block;
											margin-left: -3px;
										"></span></button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>

	<!-- Mobile Menu Navigation Hamburger -->
	<div class="mobile-menu-xs-pr full-width">
		<div class="indt-container float-left" id="mobile-menu-xs">
			<ul style="height: 60vh;overflow-y: auto;">
				<li>
					<div aria-hidden="true" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="">
						<a class="" style="position: relative;">
							What to See
							<span class="fa fa-angle-right" style="width:10px; float: right;top: 5px"></span>
						</a>
					</div>
					<div id="collapseOne" class="collapse-submenu accordion-body collapse in">
						<div class="accordion-inner">
							<ul>
							
								<li><a href="/gb/en/destinations">Destinations </a></li>
								<li><a href="/gb/en/attractions">Attractions </a></li>
								<li><a href="/gb/en/event-festivals">Events &amp; Festivals </a></li>
							
							
							</ul>
						</div>
					</div>
				</li>
				<li>
					<div aria-hidden="true" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="">
						<a class="">
							What to Do
							<span class="fa fa-angle-right" style="width:10px; float: right;top: 5px"></span>
						</a>
					</div>
					<div id="collapseTwo" class="collapse-submenu accordion-body collapse">
						<div class="accordion-inner">
							<ul>
							
								<li><a href="/gb/en/experience">5 Wonders </a></li>
								<li><a href="/gb/en/trip-ideas">Trip Ideas </a></li>
                                
                                    <li><a href="/gb/en/travel-blog">Travel Blog </a></li>
                                
                            
                            
							</ul>
						</div>
					</div>
				</li>
				<li>
					<div aria-hidden="true" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" onclick="">
					<a class="dropbtn"></a>
						Plan Your Trip
						<span class="fa fa-angle-right" style="width:10px; float: right;top: 5px"></span>
					</a>
					</div>
					<div id="collapseThree" class="collapse-submenu accordion-body collapse">
						<div class="accordion-inner">
							<ul>
							
								<li><a href="/gb/en/general-information">General Information </a></li>
								<!--<li><a href="/gb/en/maps">Maps </a></li>-->
								<li><a href="/gb/en/news">News </a></li>
								<li><a href="/gb/en/packages">Packages </a></li>
							
							
							</ul>
						</div>
					</div>
				</li>
				<li>
					<a href="http://www.indonesia.travel/gb/en/partnership-opportunity">Partners Kit</a>
				</li>
			</ul>
		</div>
		<div class="float-right" style="background-color: rgba(0, 0, 0, 0.46); height:100%;width: 20%;" onclick="navEl.hide()"></div>
	</div>

	<!-- End of Mobile Menu Navigation Hamburger -->

	<!-- Expand Header 
	<div class="bg-inverse collapse" style="z-index: 15; position: absolute;" id="navbarHeader" aria-expanded="false">
	  <div class="container">
		  <div class="row" style="margin:0;">
		  <div class="col-sm-8 py-4">
			<h4 class="text-white">Isi Disini</h4>
			<p class="text-muted">Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.</p>
		  </div>
		  <div class="col-sm-4 py-4">
			<h4 class="text-white">Isi Disini</h4>
			<ul class="list-unstyled">
			  <li><a href="#" class="text-white">Follow on Twitter</a></li>
			  <li><a href="#" class="text-white">Like on Facebook</a></li>
			  <li><a href="#" class="text-white">Email me</a></li>
			</ul>
		  </div>
		</div>
	  </div>
	</div>
	<!-- End of Expand Header -->
<script type="text/javascript">
    function guid() {
        function s4() {
            return Math.floor((1 + Math.random()) * 0x10000)
            .toString(16)
            .substring(1);
        }
        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
            s4() + '-' + s4() + s4() + s4();
    }

	$("document").ready(function(){
        //changeMenu("","");//change menu via ajax
        if(isLocalStorageNameSupported()) {
            if(localStorage.getItem("ses")==null){
                localStorage.setItem("ses",guid());
            }
        }

		//set languange cookie
		var inloc = document.location.pathname.replace('/content/indtravelrevamp','').split('/')[1];
		var inlang = document.location.pathname.replace('/content/indtravelrevamp','').split('/')[2];
        //alert(inloc);
        //alert(inlang);
		
		setCookie('inloc', inloc, 1, '', '/');
		setCookie('inlang', inlang, 1, '', '/');

    	var countryLocationAddress = getCookie('inloc').toUpperCase();
        if(countryLocationAddress == "GB") {
    		countryLocationAddress = "GLOBAL";
        }
		$('#dropdownCountry').append(countryLocationAddress);
		$('#dropdownLanguage').append(getCookie('inlang').toUpperCase());
		
		var SeeUrlRid = window.location.href;
		if(SeeUrlRid.indexOf("editor.html/") < 0){
			//$(".aem-Grid-newComponent").remove();
			//alert('tidak ada');
		}

		$('#desktop-menu-clone li a').removeClass('active');

        var winpathX = window.location.pathname;
        winpathX = winpathX.split("/");

        var xCountIng = 0;
        var act = false;

		$('#desktop-menu-clone>li').each(function(){


			if(xCountIng != 0 && winpathX.indexOf("/content/indtravelrevamp")==-1) { 
				var menuLink = $(this).find('a').attr('href');
                if(typeof menuLink !== "undefined" && menuLink != "#"){

					menuLink = menuLink.replace("/content/indtravelrevamp","");
                    menuLink = menuLink.split("/");
					menuLink = menuLink[3];
					if(menuLink.indexOf(".html")>-1){
						menuLink = menuLink.replace(".html","");
					}
					
                    menuLink = '/'+menuLink;
                    var linktoActive = '/'+winpathX[3];
					if(linktoActive.indexOf(".html")>-1){
						linktoActive = linktoActive.replace(".html","");
					}
                    if(menuLink == linktoActive) {
                        $(this).find('a').addClass('active');
                        act = true;
                        console.log('2url:'+linktoActive+' dan menulink:'+menuLink);
                    }
                }

            }else if(xCountIng != 0) {
                var menuLink = $(this).find('a').attr('href');
                if(typeof menuLink != "undefined"){
					menuLink = menuLink.split("/");
                    menuLink = menuLink[5];
                    menuLink = '/'+menuLink;
                    linktoActive = '/'+winpathX[5];
                    if(menuLink == linktoActive) {
                        $(this).find('a').addClass('active');
                        act = true;
                    }
                    if(act == false) {
                        linktoActive = linktoActive+'.html'
                        if(menuLink == linktoActive) {
                            $(this).find('a').addClass('active');
                            act = true;
                        }
                    }
                }

            }
            xCountIng += 1;
			//if($(this).find('a').attr('href') == window.location.pathname)
			//$(this).find('a').addClass('active');
		});

		navEl.cloneMenu();
	});

	var searchs = {
		el: $('.search-hd-cp-pr'),
		btn: $('#search-fn-trigger'),
		heightCo: 90,
		show: function(){
			this.el.show();
			this.btn.attr('onclick','searchs.hide()').html('<span class="lnr lnr-cross"></span>');
			this.bookPartner(1);
			$('input.search-input-cp-1').focus();
		},
		hide: function(){
			this.el.hide();
			this.btn.attr('onclick','searchs.show()').html('<span class="lnr lnr-magnifier"></span>');
			this.bookPartner(-1)
		},
		bookPartner: function(val){
			var value = val * this.heightCo;
			var el = $('.parent-book-partner');
			if(el.length > 0) {
				var nowHeight  = el.offset().top;
				el.css('top', (value+nowHeight)+'px');
			}
		}
	}



	var navEl = {
		from: $('#desktop-menu-clone'),
		toEl: $('#mobile-menu-xs'),
		parent: $('.mobile-menu-xs-pr'),
		btn: $('.navbar-toggler'),
		cloneMenu: function() {
            //$(".indt-language").clone().appendTo(this.toEl);
			this.toEl.prepend($(".indt-language").clone());
            //this.toEl.append(this.from.html());
            var a = $(".be-the-first").html();$(".be-the-first").remove()
            this.toEl.prepend(a);

		},
		show: function(){
			this.parent.show();
			this.btn.attr('onclick','navEl.hide()');
			$('body').css('overflow-y','hidden');
			closeshowmenu();
			document.getElementById('myDIV').style.display = 'none';
		},
		hide: function(){
			this.parent.hide();
			this.btn.attr('onclick','navEl.show()');
			$('body').css('overflow-y','auto');
		}
	}


    function openshowmenu(){
        setTimeout(function(){$("#dropdownMenu2").click();},300);
		//$(".language-shown-hide").show();
		$(".dismissable-country-language").show();
		$(".language-shown-hide").css({"opacity":"1","overflow": "unset"});
		setTimeout(function(){ 
			navEl.hide();
		}, 500);
	}
	function closeshowmenu(){
		$(".language-shown-hide").css({"opacity":"0","overflow": "hidden"})
		$(".dismissable-country-language").hide();
	}


    var JsonCL = {
        data: '{\x22countrylang\x22:[{\x22Global_gb\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/gb\/en\x22}]},{\x22China_cn\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/cn\/en\x22},{\x22Chinese (Simplified)\x22:\x22\/content\/indtravelrevamp\/cn\/zh\u002Dcn\x22}]},{\x22Korea_kr\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/kr\/en\x22},{\x22Korea\x22:\x22\/content\/indtravelrevamp\/kr\/ko\x22}]},{\x22Japan_jp\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/jp\/en\x22},{\x22Japan\x22:\x22\/content\/indtravelrevamp\/jp\/ja\x22}]},{\x22France_fr\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/fr\/en\x22},{\x22France\x22:\x22\/content\/indtravelrevamp\/fr\/fr\x22}]},{\x22Saudi Arabia_sa\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/sa\/en\x22},{\x22العربية\x22:\x22\/content\/indtravelrevamp\/sa\/ar\x22}]},{\x22Australia_au\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/au\/en\x22}]},{\x22Taiwan_tw\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/tw\/en\x22},{\x22Chinese (Traditional)\x22:\x22\/content\/indtravelrevamp\/tw\/zh\u002Dtw\x22}]},{\x22Hongkong_hk\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/hk\/en\x22},{\x22Chinese (Traditional)\x22:\x22\/content\/indtravelrevamp\/hk\/zh\u002Dtw\x22}]},{\x22Singapore_sg\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/sg\/en\x22}]},{\x22Malaysia_my\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/my\/en\x22}]},{\x22Thailand_th\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/th\/en\x22}]},{\x22United Arab Emirates_uae\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/uae\/en\x22},{\x22العربية\x22:\x22\/content\/indtravelrevamp\/uae\/ar\x22}]},{\x22Netherlands_nl\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/nl\/en\x22},{\x22Netherlands\x22:\x22\/content\/indtravelrevamp\/nl\/nl\x22}]},{\x22United Kingdom_uk\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/uk\/en\x22}]},{\x22Germany_de\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/de\/en\x22},{\x22Germany\x22:\x22\/content\/indtravelrevamp\/de\/de\x22}]},{\x22United States_us\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/us\/en\x22}]},{\x22Philippines_ph\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/ph\/en\x22}]},{\x22India_in\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/in\/en\x22}]},{\x22Cruise_cruise\x22:[{\x22English\x22:\x22\/content\/indtravelrevamp\/cruise\/en\x22},{\x22Indonesia\x22:\x22\/content\/indtravelrevamp\/cruise\/id\x22}]}]}',
        parse: '',
        dataParse: function(){
            if(this.data != "") {
                this.parse = JSON.parse(this.data);
            }
        }, to: function(){
            var theJson = this.parse.countrylang
            for(var i in theJson){
                var val = theJson[i];
                for(var j in val){ //j is key val[j] is value
                    var ex = '['+i+'][\''+j+'\'];';
                    var countrycode = j.split('_')[1];
                          var countryname = j.split('_')[0];
                    var btn = '<button type="button" class="dropdown-item Country-Title-'+countrycode+'" style="text-indent:30px;" onclick="JsonCL.setClass(&quot;'+countrycode+'&quot;,&quot;'+countryname+'&quot;);JsonCL.select(&quot;'+ex+'&quot;)"><span class="flag flag-'+countrycode+'"></span> '+countryname+'</button>';
                    $("#country-Json-paste").append(btn);
                }
            }
            //$(".Country-Title-tw, .Country-Title-hk").remove();
            $("#country-Json-paste .dropdown-item").click(function(){
                setTimeout(function(){$("#dropdownMenuButtonL").click();},150);
            });

            
        }, select: function(set){
            
            var xx = 'this.parse.countrylang'+set;
            xx = eval(xx);
            var extension = "";
            if(window.location.hostname != "www.indonesia.travel") {
                extension = ".html";
            }
            
            //$(".select-language-menu").html("");
            var html_dropdown_a_language = '';
            if(xx.length == 0) {
                //var option = '<option class="dropdown-item" href="">Language Not Available</option>';
                //$(".select-language-menu").append(option);
                html_dropdown_a_language += '<a href="" class="dropdown-item">Language Not Available</a>';
            } else {
                for(var i in xx){
                    var val = xx[i];
                    
                    for(var j in val){ //j is key val[j] is value
                        //var option = '<option class="dropdown-item" value="'+val[j]+'/home'+extension+'">'+j+'</option>';
                        //$(".select-language-menu").append(option);

                        html_dropdown_a_language += '<a href="'+val[j]+'/home'+extension+'" class="dropdown-item">'+j+'</a>';
                        /*$(".select-language-menu option").click(function(){
                            $(".select-language-menu").removeAttr("multiple");
                        });*/
                    }
                }
            }
            $(".dropdownMenuButtonP").html(html_dropdown_a_language);
            var first_a = $(".dropdownMenuButtonP a").eq(0);first_a.addClass("active");
            $("#dropdownMenuButtonL").html(first_a.html());
            this.setURL();
        }, do: function(){
            this.dataParse();
            this.to();
            /*$("#country-Json-paste .dropdown-item").click(function(){
                $(".select-language-menu").attr("multiple", "multiple");
            });*/

            $(".Country-Title-"+'gb').click();
            var extension = "";
            if(window.location.hostname != "www.indonesia.travel") {
                extension = ".html";
            }
            $(".select-language-menu").val('\/content\/indtravelrevamp\/gb\/en'+'/home'+extension);
        }, setClass: function(id, name){
            $(".dropdown-country-rig .dropdown-menu .dropdown-item").removeClass("active");
            $(".Country-Title-"+id).addClass("active");
            $("#dropdownMenu2").html(name);
        }, setURL: function(){
            var valueHref = $(".select-language-menu").val();
            $("#country-choose").attr("href",valueHref);
        }
    }
    JsonCL.do();




/*
var beforeScroll = 0;
var afterScroll;
var $navbar = $('#headcontainer');
//var $navbar1; var $expediaTrue = false; 
//var $expedia = $('.exph_parent_container'); 
$(document).ready(function(){
    //$expedia = $('.exph_parent_container'); 
    //$expedia.length > 0 ? $expediaTrue = true : $expediaTrue = false;
    //$navbar1 = $("#explorecontainer")
})
$(window).on("scroll", function(){
  afterScroll = $(this).scrollTop();
  if(afterScroll > 79) {
      if (beforeScroll < afterScroll) {// user is scrolling down
          $navbar.removeClass('slideDown').addClass('slideUp');
          //$navbar1.removeClass('slideDownExplore').addClass('slideUpExplore');
          //$expediaTrue == true ? $expedia.removeClass('slideDownExplore').addClass('slideUpExplore') : "";
      } else if (beforeScroll > afterScroll) {// user is scrolling up
          $navbar.removeClass('slideUp').addClass('slideDown');
          //$navbar1.removeClass('slideUpExplore').addClass('slideDownExplore');
          //$expediaTrue == true ? $expedia.removeClass('slideUpExplore').addClass('slideDownExplore') : "";
      }
      beforeScroll = afterScroll;
  }
});

$navbar.addClass('slideDown');*/

/*
var prev = 0;
var $window = $(window);
var nav = $('#headcontainer');
var nav2 = $('.exph_parent_container');
$window.on('scroll', function(){
    var scrollTop = $window.scrollTop();
    if(scrollTop > 79) {
        nav.toggleClass('hidden', scrollTop > prev);
        nav2.toggleClass('hidden', scrollTop > prev);
        prev = scrollTop;
    }
});*/


function isLocalStorageNameSupported() 
{
    var testKey = 'test';
    try 
    {
        localStorage.setItem(testKey,"1");
        localStorage.removeItem(testKey);
        return true;
    } 
    catch (error) 
    {
        return false;
    }
}
</script>
<style>
#headcontainer.hidden, .exph_parent_container.hidden {
    -webkit-transform: translateY(-100%);
    -moz-transform: translateY(-100%);
    -ms-transform: translateY(-100%);
    -o-transform: translateY(-100%);
    transform: translateY(-100%);
}
</style>




<!--ctrip-home-form-->



<!--<div data-sly-resource="trip-home" data-sly-unwrap></div>-->
</div>
        <div id="explorecontainer">
    

<style>
#contentcontainer {
	padding-top: 79px;
}
.form-explore form:nth-child(4),.form-explore .titlediv:nth-child(3){
		display:none;
	}

	.indt-right-menu .go-exp{
		display:none;
	}
	
	.modal-explore {
		display: none; /* Hidden by default */
		position: fixed; /* Stay in place */
		z-index: 999; /* Sit on top */
		left: 0;
		top: 0;
		width: 100%; /* Full width */
		height: 100%; /* Full height */
		overflow: hidden; /* Enable scroll if needed */
		background-color: rgb(0,0,0); /* Fallback color */
		background-color: rgba(0,0,0,0.5); /* Black w/ opacity */
	}

	/* Modal Content */
	.modal-content-explore {
		background-color: #6d519c;
		float:right;
		padding: 0;
	    position:relative;
		width:400px;
		height:100%;
	}

	/* The Close Button */
	.closed-exp {
		top: 10px;
		font-family: arial;
		height: 30px;
		line-height: 27px;
		width: 30px;
		text-align: center;
		color: #fff !important;
		border: 1px solid #fff;
		border-radius: 40px;
		float: right;
		right: 10px;
		position: absolute;
		font-size: 16px;

	}

	.closed-exp:hover,
	.closed-exp:focus {
		color: #fff;
		text-decoration: none;
		cursor: pointer;
	}
	.form-explore{
		padding:40px;
	}
	#type{padding : 0 8px;}
		.go-exp{
		color:#d2347d;
		text-decoration:none;
	}
	#type,#cathtmldesk{
		font-family:Arial;
	}
	
.container.explore-container {
	padding-right: 0px !important;
	padding-left: 0px !important;
}
.header_search {
	padding-top:0px!important;
    /*padding-bottom:5px !important;*/
}

#headcontainer{
    position: fixed;
    width: 100%;
    z-index: 99;
}
@media screen and (min-width: 767px) {
	/*#explorecontainer{
		padding-top: 79px;
	}*/
}
@media screen and (max-width: 766px) {
	/*#contentcontainer{
		padding-top: 79px;
	}*/
	#explorecontainer{
		z-index: 99;
		position: fixed;
		width: 100%;
	}
	.modal-explore {
		z-index:90;
	}
}
@media (max-width:767px){
    #explorecontainer {
        height:0px !important;
    }
}
select {

  /* styling */
  background-color: white;
  border: thin solid blue;
  display: inline-block;
  font: inherit;
  padding: 0px;

  /* reset */

  margin: 0;      
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-appearance: none;
  -moz-appearance: none;
}

	select.classic {
  background-image:
    linear-gradient(45deg, transparent 50%, #6D519C 50%), linear-gradient(135deg, #6D519C 50%, transparent 50%), linear-gradient(to right, #FFFFFF, #FFFFFF);
  background-position:
    calc(100% - 20px) calc(1em + 2px),
    calc(100% - 15px) calc(1em + 2px),
    100% 0;
  background-size:
    5px 5px,
    5px 5px,
    2.5em 2.5em;
  background-repeat: no-repeat;
}

select.classic:focus {
  background-image:
    linear-gradient(45deg, transparent 50%, #6D519C 50%), linear-gradient(135deg, #6D519C 50%, transparent 50%), linear-gradient(to right, #FFFFFF, #FFFFFF);
  background-position:
    calc(100% - 20px) calc(1em + 2px),
    calc(100% - 15px) calc(1em + 2px),
    100% 0;
  background-size:
    5px 5px,
    5px 5px,
    2.5em 2.5em;
  background-repeat: no-repeat;
  border-color: #FFFFFF;
  outline: 0;
}

    #explorecontainer {
		background-color: #6D519C;
	}
	.img-explore {
    	position: relative;
    	width: 100%;
    }
    .explore select {
    	color: #6D519C;
        font-size: 12px;
        margin-top: 22px;
		padding: .25rem .5rem;
    }
    .explore option {
    	padding-top: 3px;
		padding-bottom: 3px;
        padding-left: 5px;
    }
	select:focus option.holder {
 		display: none;
	}
	.bttn_ok {
        margin-top: 8px;
        width: calc(100% - 8px);
        height: 32px;
        background: linear-gradient(to right, #7C4D9B, #D5337C);
        border-radius: 4px;
        border: 1px solid #9C27B0;
        color: #FFFFFF;
    }
    .dropdown-menu {
    	font-size:12px!important;
    }
	.cat {
    	padding-top:3px;
        padding-bottom:3px;
    }
    .desktop .tooltips {
    	visibility: hidden;
    }
    .desktop:hover .tooltips {
    	visibility: visible;
    }

	@media screen and (min-width: 768px) {
    	.header_search_kiri {
   			padding-left: 0px !important;
      		width: 6% !important;
		}
    	.header_search_kiri img {
    		float: none!important;
        	padding-left: 0px!important;
    	}
    	.header_search_kanan {
     		padding-right: 0px !important;
        	width: 94% !important;
    	}
        #explorecontainer {
        	display:none;
        }
    }

   	@media screen and (max-width: 767px) and (min-width: 480px) {
		.explore {
        	padding-top: 30px!important;
        }
        .header_search_kiri img {
            /*padding-right: 50px!important;*/
        }
    }

    @media screen and (max-width: 767px) and (min-width: 320px) {
        .row-mob {
            margin: 0 !important;
        }
        .explore {
            flex: 0 0 100%!important;
            max-width: 100%!important;
        }
        .img-explore {
        	padding-top: 15px;
        }
        .header_search_kiri {
            padding-top: 35px!important;
            position: fixed;
            height: 131px;
        }

        .mobile .tooltips {
    		visibility: hidden;
    	}
    	.mobile:hover .tooltips {
    		visibility: visible;
    	}
    }

    @media screen and (max-width: 767px) {
    	.header_search_kiri {
			margin-left: unset !important;
			width:  unset !important;
			margin-top: unset !important;
			padding-left: unset !important;
			padding-top: unset !important;
			right:0px;
			border-bottom:1px solid #6d519c;
			/*background-color: #6A4F98 !important;*/
			background-color: #fff !important;
            top: 0px;
			
    	}
    	.header_search_kiri img {
			height: unset !important;
			float: unset !important;
			padding-top: 25px !important;
			padding-right: 0px;
			padding-left: 7px;
			width: 35px;
			transform: translateY(-25%);			
	    }
	    .img-explore {
		    position: unset !important;
		    top: unset !important;
		    right: unset !important;
		    padding-top: unset !important;
			padding:0 5px 0;
			margin-bottom:11px;
			margin-top:13px;
			text-align:center;
			border-left:1px solid #d2347d;
		}
		#myDIV {
			/*position: absolute;
			
			*/
			padding-left: 0px;
			z-index: 99;
			background-color: #6a4f98;
			
			margin:auto;
		}
        #explorecontainer {
			position:fixed !important;
			top:79px;
        }
    }
    
</style>
<iframe src="https://kemenpar.demdex.net/event?d_sid=9325902" width="1" height="1" frameborder="0" style="display:none"></iframe>
<!--<iframe src="https://kemenpar.demdex.net/event?aamparam=testingparam" width="1" height="1" frameborder="0" style="display:none"></iframe>-->
<div class="container indt-container explore-container">
<div class="row header_search">
		<div class="header_search_kiri">
			<div class="img-explore" onclick="myFunction()">
            	<img src="/content/dam/indtravelrevamp/activities/main-banner/icon/goexplore-icon-magenta.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png">
				<label style="color:#d2347d;font-size:13px;text-align:left;margin:0px 10px 3px 0px;line-height:14px;width:40px;vertical-align: middle;">Go Explore</label>
            </div>
			
        </div><!--end of header_search_kiri-->

		<div class="header_search_kanan hidden-mobile">
            <form name="myForm" action="http://www.indonesia.travel/gb/en/exploreresult">

			<div class="row row-mob">
				<div class="col-sm-4 explore">
					<!--Type of Travel<br-->
					<select name="type" id="type" class="classic">
						<option value="" selected="selected" class="holder">Select Destination</option>

                        <option value="Family">Family</option>
                        <option value="Couple">Couple</option>
                        <option value="Group-traveler">Group</option>
                        <option value="Adventurer">Adventurer</option>
                        <option value="Business">Business</option>
                        <option value="Senior">Senior</option>

			    	</select>
				</div><!--end of col-6 col-sm-3-->
				<div class="col-sm-4 explore">
					<!--Categories<br-->

					<div class="button-group">
                        <button type="button" class="btn btn-default btn-sm dropdown-toggle activity" style="font-size:13px; overflow:hidden; position:relative; color: #6D519C; margin-top: 22px;" data-toggle="dropdown">
                        	<span id="cathtmldesk">Select your categories...</span>
                        </button>
						<ul class="dropdown-menu activity-drop desktop">
                        	<!--span class="tooltips">Please click ok to choose the category</span-->
							<li class="cat">
								<input value="Natural" type="checkbox" class="activity-check"/>&nbsp;<label>Nature, Scenic Landscape &amp; Wildlife</label>
							</li>
                            <li class="cat">
								<input value="Cultural" type="checkbox" class="activity-check"/>&nbsp;<label>Arts, Culture &amp; Heritage</label>
							</li>
                            <li class="cat">
								<input value="Sensory" type="checkbox" class="activity-check"/>&nbsp;<label>Culinary &amp; Wellness</label>
							</li>
                            <li class="cat">
								<input value="Modern" type="checkbox" class="activity-check"/>&nbsp;<label>Recreation &amp; Leisure</label>
							</li>
							<li class="cat">
								<input value="Adventure" type="checkbox" class="activity-check"/>&nbsp;<label>Adventures</label>
							</li>
                            <li>
                            	<input type="hidden" name="activity" id="activity-list"/>
								<input class="bttn_ok" type="button" onclick="myFunction_ok_desktop()" value="Ok">
                                <script>
									$(document).ready(function(){
											var valch = "";
											var valtp = "";
											var valbgd = "";
											$("select#type").val(valtp);
											$("select#budget").val(valbgd);
											var checked_le3 = 0;
											var ctr3 = 1;
											var checked_act3 = ""; 
											var checked_act3_text = "";
											var splch = valch.split(",");
											for(var xx = 0; xx < splch.length; xx++){
												$('.activity-check').each(function() {
													if($(this).val() == splch[xx]){
														console.log($(this).val());
														$(this).attr('checked','checked');
													}
												});
											}

											$('.activity-check').each(function() {
												checked_le3 = $('.activity-check:checked').length;
												if($(this).is(':checked')){	
													var thistext3 = $(this).next('label').text();
													console.log(thistext3);
													if(ctr3 == checked_le3){
														if(thistext3.indexOf(",") != -1){
															checked_act3_text += thistext3.substring(0, thistext3.indexOf(",")).trim();
														}
														else if(thistext3.indexOf("&") != -1){
															checked_act3_text += thistext3.substring(0, thistext3.indexOf("&")).trim();
														}
														else{
															checked_act3_text += thistext3.trim();
														}

													}
													else{
														if(thistext3.indexOf(",") != -1){
															checked_act3_text += thistext3.substring(0, thistext3.indexOf(",")).trim()+",";
														}
														else if(thistext3.indexOf("&") != -1){
															checked_act3_text += thistext3.substring(0, thistext3.indexOf("&")).trim()+",";
														}
														else{
															checked_act3_text += thistext3.trim();
														}
													}
													ctr3++;													
													$("#cathtmldesk").text(checked_act3_text);
												}												
											});
											if(checked_le2 == 0){
												$("#activity-list").val("");
												$("#cathtmldesk").text("");
											}
											var checked_le2 = 0;
											$('.activity-check').click(function (){
												var ctr2 = 1;
												var checked_act2 = "";
												var checked_act2_text = "";
												$('.activity-check').each(function() {
													checked_le2 = $('.activity-check:checked').length;
													if($(this).is(':checked')){	
														var thistext = $(this).next('label').text();
														if(ctr2 == checked_le2){
															checked_act2 += $(this).val();
															if(thistext.indexOf(",") != -1){
																checked_act2_text += thistext.substring(0, thistext.indexOf(",")).trim();
															}
															else if(thistext.indexOf("&") != -1){
																checked_act2_text += thistext.substring(0, thistext.indexOf("&")).trim();
															}
															else{
																checked_act2_text += thistext.trim();
															}
														}
														else{
															checked_act2 += $(this).val()+",";
															if(thistext.indexOf(",") != -1){
																checked_act2_text += thistext.substring(0, thistext.indexOf(",")).trim()+",";
															}
															else if(thistext.indexOf("&") != -1){
																checked_act2_text += thistext.substring(0, thistext.indexOf("&")).trim()+",";
															}
															else{
																checked_act2_text += thistext.trim();
															}
														}
														ctr2++;
														$("#activity-list").val(checked_act2);
														$("#cathtmldesk").text(checked_act2_text);
													}												
												});
												if(checked_le2 == 0){
													$("#activity-list").val("");
													$("#cathtmldesk").text("");
												}
											});
										}
									);

									function myFunction_ok_desktop() {
                                    	var checked_act = "";
										var checked_act_text = "";
                                        var checked_le = $('.activity-check:checked').length;
                                        console.log(checked_le);
                                        var ctr = 1;
                                        $('.activity-check').each(function() {
											if($(this).is(':checked')){
												var thistext2 = $(this).next('label').text();
												if(ctr == checked_le){
													if(thistext2.indexOf(",") != -1){
														checked_act_text += thistext2.substring(0, thistext2.indexOf(",")).trim();
													}
													else if(thistext2.indexOf("&") != -1){
														checked_act_text += thistext2.substring(0, thistext2.indexOf("&")).trim();
													}
													else{
														checked_act_text += thistext2.trim();
													}
													checked_act += $(this).val();													
												}
												else{
													checked_act += $(this).val()+",";
													if(thistext2.indexOf(",") != -1){
														checked_act_text += thistext2.substring(0, thistext2.indexOf(",")).trim()+",";
													}
													else if(thistext2.indexOf("&") != -1){
														checked_act_text += thistext2.substring(0, thistext2.indexOf("&")).trim()+",";
													}
													else{
														checked_act_text += thistext2.trim();
													}													
												}
												ctr++;
											}
                                        });
                                        $("#activity-list").val(checked_act);
										$("#cathtmldesk").text(checked_act_text); 
										$('.explore .button-group').removeClass('show');
									}
								</script>
                            </li>
						</ul>

  					</div>

				</div><!--end of col-6 col-sm-3-->

				<script>
                    var linkcountry= "\/content\/indtravelrevamp\/gb\/en";
        			console.log(linkcountry);
					var linkcount = linkcountry.split("/");
					var arrcountry = linkcount[3];
        			console.log(arrcountry);
        			if (arrcountry=="gb") {
                        var curr=10000;
                        var currency="USD";
                    } else if (arrcountry=="sg") {
                        var curr=9000;
                        var currency="SGD";
                    } else if (arrcountry=="my") {
                        var curr=3000;
                        var currency="MYR";
                    } else if (arrcountry=="cn") {
                        var curr=2000;
                        var currency="CNY";
                    } else if (arrcountry=="jp") {
                        var curr=100;
                        var currency="JPY";
                    } else if (arrcountry=="hk") {
                        var curr=1700;
                        var currency="HKD";
                    } else if (arrcountry=="kr") {
                        var curr=10;
                        var currency="KRW";
                    } else if (arrcountry=="th") {
                        var curr=400;
                        var currency="THB";
                    } else if (arrcountry=="au") {
                        var curr=10000;
                        var currency="AUD";
                    } else if (arrcountry=="sa") {
                        var curr=3000;
                        var currency="SAR";
                    } else if (arrcountry=="nl") {
                        var curr=7000;
                        var currency="NLG";
                    } else if (arrcountry=="uk") {
                        var curr=17000;
                        var currency="GBP";
                    } else if (arrcountry=="ge") {
                        var curr=8000;
                        var currency="DEM";
                    } else if (arrcountry=="fr") {
                        var curr=2000;
                        var currency="FRF";
                    } else if (arrcountry=="us") {
                        var curr=10000;
                        var currency="USD";
                    } else if (arrcountry=="uea") {
                        var curr=3000;
                        var currency="AED";
                    } else if (arrcountry=="tw") {
                        var curr=400;
                        var currency="TWD";
                    } else if (arrcountry=="ph") {
                        var curr=700;
                        var currency="PHP";
                    } else if (arrcountry=="in") {
                        var curr=200;
                        var currency="INR";
                    }
                </script>
				<div class="col-sm-4 explore">
                	<button class="bttn_explore">Explore Indonesia</button>
                </div><!--end of col-6 col-sm-3-->
        	</div><!--end of row-->
            <p id="demo"></p>

            </form>
		</div>


        <div id="myDIV" class="col-sm-12 header_search_kanan show-mobile" style="display:none; padding-top: 20px; padding-bottom: 10px;">
            <form name="myForm" action="http://www.indonesia.travel/gb/en/exploreresult">

			<div class="row row-mob">
				<div class="col-sm-3 explore">
					<!--Type of Travel<br-->
					<select name="typemob" id="typemob">
                    	<option value="" selected="selected" class="holder">Select Destination</option>

						<option value="Family">Family</option>
                        <option value="Couple">Couple</option>
                        <option value="Group-traveler">Group</option>
                        <option value="Adventurer">Adventurer</option>
                        <option value="Business">Business</option>
                        <option value="Senior">Senior</option>

			    	</select>
				</div><!--end of col-6 col-sm-3-->
				<div class="col-sm-3 explore">
					<!--Categories<br-->

					<div class="button-group">
                        <button type="button" class="btn btn-default btn-sm dropdown-toggle activity" style="font-size:12px; position:relative; color: #6D519C;" data-toggle="dropdown">
                        	<span id="cathtml">Select your categories...</span>
                        </button>
						<ul class="dropdown-menu activity-drop mobile">
							<!--span class="tooltips">Please click ok to choose the category</span-->
                            <li class="cat">
								<input value="Nature" type="checkbox" class="activity-check-mobile"/><label>&nbsp;Nature, Scenic Landscape &amp; Wildlife</label>
							</li>
                            <li class="cat">
								<input value="Culture" type="checkbox" class="activity-check-mobile"/><label>&nbsp;Arts, Culture &amp; Heritage</label>
							</li>
                            <li class="cat">
								<input value="Culinary" type="checkbox" class="activity-check-mobile"/><label>&nbsp;Culinary &amp; Wellness</label>
							</li>
                            <li class="cat">
								<input value="Recreation" type="checkbox" class="activity-check-mobile"/><label>&nbsp;Recreation &amp; Leisure</label>
							</li>
  							<li class="cat">
								<input value="Adventures" type="checkbox" class="activity-check-mobile"/><label>&nbsp;Adventures</label>
							</li>


                            <li>
                            	<input type="hidden" name="activity" id="activity-list-mobile"/>
								<input class="bttn_ok" type="button" onclick="myFunction_ok()" value="Ok">

								<script>
									$(document).ready(function(){
										var valchm = "";
										var valtpm = "";
										var valbgdm = "";
										$("select#typemob").val(valtpm);
										$("select#budget").val(valbgdm);
										var checked_le3m = 0;
										var ctr3m = 1;
										var checked_act3m = "";
										var checked_act3_textm = "";
										var splchm = valchm.split(",");
										for(var xxm = 0; xxm < splchm.length; xxm++){
											$('.activity-check-mobile').each(function() {
												if($(this).val() == splchm[xxm]){
													console.log($(this).val());
													$(this).attr('checked','checked');
												}
											});
										}
										
										$('.activity-check-mobile').each(function() {
											checked_le3m = $('.activity-check-mobile:checked').length;
											if($(this).is(':checked')){	
												var thistext3m = $(this).next('label').text();
												console.log(thistext3m);
												if(ctr3m == checked_le3m){
													if(thistext3m.indexOf(",") != -1){
														checked_act3_textm += thistext3m.substring(0, thistext3m.indexOf(",")).trim();
													}
													else if(thistext3m.indexOf("&") != -1){
														checked_act3_textm += thistext3m.substring(0, thistext3m.indexOf("&")).trim();
													}
													else{
														checked_act3_textm += thistext3m.trim();
													}
												}
												else{
													if(thistext3m.indexOf(",") != -1){
														checked_act3_textm += thistext3m.substring(0, thistext3m.indexOf(",")).trim()+",";
													}
													else if(thistext3m.indexOf("&") != -1){
														checked_act3_textm += thistext3m.substring(0, thistext3m.indexOf("&")).trim()+",";
													}
													else{
														checked_act3_textm += thistext3m.trim();
													}
												}
												ctr3m++;													
												$("#cathtml").text(checked_act3_textm);
											}												
										});
										if(checked_le2m == 0){
											$("#activity-list-mobile").val("");
											$("#cathtml").text("");
										}
										var checked_le2m = 0;
										$('.activity-check-mobile').click(function (){
											
											var ctr2m = 1;
											var checked_act2m = "";
											var checked_act2_textm = "";
											$('.activity-check-mobile').each(function() {
												checked_le2m = $('.activity-check-mobile:checked').length;
												if($(this).is(':checked')){	
													var thistextm = $(this).next('label').text();
													if(ctr2m == checked_le2m){
														checked_act2m += $(this).val();
														if(thistextm.indexOf(",") != -1){
															checked_act2_textm += thistextm.substring(0, thistextm.indexOf(",")).trim();
														}
														else if(thistextm.indexOf("&") != -1){
															checked_act2_textm += thistextm.substring(0, thistextm.indexOf("&")).trim();
														}
														else{
															checked_act2_textm += thistextm.trim();
														}
													}
													else{
														checked_act2m += $(this).val()+",";
														if(thistextm.indexOf(",") != -1){
															checked_act2_textm += thistextm.substring(0, thistextm.indexOf(",")).trim()+",";
														}
														else if(thistextm.indexOf("&") != -1){
															checked_act2_textm += thistextm.substring(0, thistextm.indexOf("&")).trim()+",";
														}
														else{
															checked_act2_textm += thistextm.trim();
														}
													}
													ctr2m++;
													$("#activity-list-mobile").val(checked_act2m);
													$("#cathtml").text(checked_act2_textm);
												}												
											});
											if(checked_le2m == 0){
												$("#activity-list-mobile").val("");
												$("#cathtml").text("");
											}
										});
									});
									function myFunction_ok(){
    									var checked_actm = "";
										var checked_act_textm = "";
                                        var checked_lem = $('.activity-check-mobile:checked').length;
                                        console.log(checked_lem);
                                        var ctrm = 1;
                                        $('.activity-check-mobile').each(function() {
											if($(this).is(':checked')){
												var thistext2m = $(this).next('label').text();
												if(ctrm == checked_lem){
													if(thistext2m.indexOf(",") != -1){
														checked_act_textm += thistext2m.substring(0, thistext2m.indexOf(",")).trim();
													}
													else if(thistext2m.indexOf("&") != -1){
														checked_act_textm += thistext2m.substring(0, thistext2m.indexOf("&")).trim();
													}
													else{
														checked_act_textm += thistext2m.trim();
													}
													checked_actm += $(this).val();													
												}
												else{
													checked_actm += $(this).val()+",";
													if(thistext2m.indexOf(",") != -1){
														checked_act_textm += thistext2m.substring(0, thistext2m.indexOf(",")).trim()+",";
													}
													else if(thistext2m.indexOf("&") != -1){
														checked_act_textm += thistext2m.substring(0, thistext2m.indexOf("&")).trim()+",";
													}
													else{
														checked_act_textm += thistext2m.trim();
													}													
												}
												ctrm++;
											}
                                        });
                                        $("#activity-list-mobile").val(checked_actm);
										$("#cathtml").text(checked_act_textm); 
										$('.explore .button-group').removeClass('show');
									}
								</script>

                            </li>
						</ul>
  					</div>
				</div>
				<div class="col-sm-3 explore">
                	<button class="bttn_explore">Explore Indonesia</button>
                </div>
        	</div>
            <p id="demo"></p>

            </form>
		</div>

		<div class="clear"></div>

	</div>
</div>
<script>
	$(document).ready(function() {	
		if( window.innerWidth > 768 ) {
			
		
			//$("#explorecontainer").hide();
			setTimeout(function(){
				
				
				/*$("<li><a href='#' class='go-exp' style='color:#d2347d'><img src='//indonesia.travel/content/dam/indtravelrevamp/activities/main-banner/icon/goexplore-icon-magenta.png' width='25'/> Go Explore</a></li>").appendTo("#desktop-menu-clone");
			
			$("#desktop-menu-clone li:eq(3) a").html("<i class='fa fa-download'></i> Logo");
				$("#desktop-menu-clone li:eq(3) a").addClass("btn");
				$("#desktop-menu-clone li:eq(3)").appendTo(".indt-right-menu");*/
			
			
			$("body").append('<div id="modelExplore" class="modal-explore"><div class="modal-content-explore"><span class="closed-exp">x</span><div class="form-explore"></div></div></div>');
			
			$("#type option.holder").html("Select your type of traveler...");
			
			$("<div class='titlediv' style='padding:40px 0 10px;'><img src='/content/dam/indtravelrevamp/activities/main-banner/icon/goexplore-icon-white.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' width='35'/> <label style='margin-left:5px;color:#fff;'>Go Explore</label></div>").appendTo(".form-explore");
			
			$("form[name='myForm']:eq(0)").appendTo(".form-explore");
			$(".form-explore .explore").removeClass("col-sm-4");
			$(".form-explore .explore").addClass("col-sm-12");
			$("<img src='/content/dam/indtravelrevamp/activities/main-banner/icon/goexplore-icon-white.png/jcr:content/renditions/cq5dam.thumbnail.48.48.png' width='40'/> Go Explore").appendTo("form-explore");
			
			
			var modal2 = document.getElementById('modelExplore');

			var span2 = document.getElementsByClassName("closed-exp")[0];

			/*window.onclick = function(event) {
				if (event.target == modal2) {
					$("#modelExplore").hide();
					$('body').css('overflow', 'auto');
				}
			}*/

			$(".go-exp").click(function(event){
				event.preventDefault();
				$("#modelExplore").fadeIn();
				$('body').css('overflow', 'hidden');
			});
			
			$(".closed-exp").click(function(){
				
				$("#modelExplore").hide();
				$('body').css('overflow', 'auto');

			});
              //setTimeout(function(){$(".form-explore form:eq(1),.form-explore div:eq(1)").remove();},1000);
			},2900);
		}
		else{
			$("#explorecontainer").css("top",79+$(".cookies-banner-parent").outerHeight()+"px");
			//$("#explorecontainer").css("right","17px");
		}
    });
function myFunction() {
    var $window = $(window);
    var windowsize = $window.width();
	var x = document.getElementById('myDIV');
    if(windowsize < 780){
		var divModalLength = $('body #modelExplore').length;
		$("#typemob option.holder").html("Select your type of traveler...");
		if (x.style.display === 'none') {
			if(divModalLength == 0){
				$("body").append('<div id="modelExplore" class="modal-explore"></div>');
			}
			$("#modelExplore").fadeIn();
			x.style.display = 'block';
            navEl.hide();
            closeshowmenu();
			$('body').css('overflow', 'hidden');
		} else {
			x.style.display = 'none';
			$("#modelExplore").fadeOut();
			if(divModalLength > 0){
				$('body #modelExplore').remove();
			}
			
			$('body').css('overflow', 'auto');
		}
	}	
}

$("document").ready(function(){
    var explore = $("#explorecontainer")
    $("#headcontainer").append(explore);
})
</script>
</div>

        <div id="contentcontainer">
<div class="aem-Grid aem-Grid--12 aem-Grid--default--12  ">
    
    <div class="slideshow-responsive-AT aem-GridColumn aem-GridColumn--default--12"><style>
.slideshow__parent {
	width:100%;
    height:auto;
    position:relative;
    margin-bottom:0px !important;
}
.slideshow__item {
    position:relative;
    background-color:#868686;
    display:none;
}
.slideshow__item:first-child {
    display:block;
}
.slideshow__aspect {
	width:100%;
	padding-top:44%;
    position:relative;

}
.slideshow__img {
	position:absolute;	
    top:0px;right:0px;left:0px;bottom:0px;

	background-size: cover !important;
    background-repeat: no-repeat !important;
    background-position: 50%, 50% !important;
}
.slideshow__img:after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.2);
    z-index: 1;
}

.slideshow__content {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
}

.slideshow__content span {
    display: block;
    color: white;
}
.slideshow__content h2 {
    color: white;
    /*border-left: 3px solid #fb1783;
    padding: 0px 15px;*/
    margin-top: 5px;
    margin-bottom: .75em;
    font-weight: bold;
	font-size: 2.5rem;
}
.slideshow__content .btn {
	border-radius: 0px;
    position: relative;
    border: 0;
    cursor:pointer;
    overflow: hidden;
    background: #ff167f;
    background: linear-gradient(to right,#ff167f,#8c337b);
	transition: background 300ms;
	will-change: background;

	border-radius: 2px;
    letter-spacing: 2px;
    font-weight: bold;
    padding-left: 30px;
    padding-right: 30px;
}
.slideshow__content .btn:hover {
	background: linear-gradient(to right,#ff167f,#ff167f);
}
/*.slideshow__content .btn:after {
    content: '';
    display: block;
    position: absolute;
    bottom: 0px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #ffdf00;
}
.slideshow__content .btn:before {
    z-index: 1;
    content: '';
    display: block;
    position: absolute;
    bottom: 0px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #ffffff;
    transform: translateX(-100%);
    transition:transform 300ms;
    will-change:transform;
}
.slideshow__content .btn:hover:before {
    transform: translateX(0%);
}*/
.slideshow__content .btn-primary:focus, .slideshow__content .btn-primary.focus {
    -webkit-box-shadow: 0 0 0 2px rgba(3, 169, 244, 0.71);
    box-shadow: 0 0 0 2px rgba(3, 169, 244, 0.71);
    color:white;
}

@media (min-width: 768px) {
    .slideshow__content h2 {
        width:60%;
    }
	.slideshow__parent .slick-dots {
        bottom: 80px;
        display:flex;
    
        margin-left: 0;
        margin-right: 0;
        left: 50%;
        transform: translateX(-50%);
        border-top: 1px solid rgba(255, 255, 255, 0.32);
    }
    .slideshow__parent ul.slick-dots.row.container.indt-container::after {
        content: '';
        display: block;
        width: 100%;
        height: 85px;
        position: absolute;
        
        /*background: rgba(0, 0, 0, 0.42);
        background: -webkit-linear-gradient(rgba(255, 0, 0, 0),rgba(0, 0, 0, 0.42));
        background: -o-linear-gradient(rgba(255, 0, 0, 0),rgba(0, 0, 0, 0.42));
        background: -moz-linear-gradient(rgba(255, 0, 0, 0),rgba(0, 0, 0, 0.42));
        background: linear-gradient(rgba(255, 0, 0, 0),rgba(0, 0, 0, 0.42));*/
    }
    .slideshow__parent .slick-dots li {
        z-index: 1;
    }
    
    .slideshow__parent .slick-dots li button {
        width: 100% !important;
        padding: 10px 20px;
        height: 60px;
        color: white;
        position: absolute;
        top: 0px;
        left: 0;
        display: block;
        font: menu;
        font-size: medium;
    }
    .slideshow__parent .slick-dots li.slick-active button:before, .slideshow__parent .slick-dots li button:before {
        content:none;
    }
    .slideshow__parent .slick-dots li button span {
        font-size: smaller;
    }
    .slideshow__parent .slick-dots li.slick-active button span {
        color:yellow;
    }
    .slideshow__parent li::before {
        position: absolute;
        display: block;
        content: '';
        width: 100%;
        height: 3px;
        background-color: white;
        top: -2px;
        left: 0px;
        opacity: 0;
        border-radius: 42px;
        transition: opacity 300ms;
        will-change: opacity;
    }
    .slideshow__parent li.slick-active::before {
        opacity:1;
    }
}
@media (max-width: 1250px) {
    .slideshow__content {
        padding-left: 15px !important;
        padding-right: 15px !important;
    }
}
@media (max-width:1250px) and (min-width:768px) {
    .slideshow__content {
        top: 45%;
    }
    .slideshow__parent .slick-dots {
		bottom: 60px;
    }
    .slideshow__parent .slick-dots li button {
		font-size: 14px;
    }
    .slideshow__content h2 {
        margin-bottom: 15px;
        font-size: 1.5rem;
    }
    .slideshow__content .btn {
        padding: 7px;
        font-size: 13px;
    }
}
@media (max-width: 767px) {
    .slideshow__parent {
        margin-bottom: 0px;
    }
    .slideshow__aspect {
        padding-top: 73.5vh;
        padding-top: calc(100vh - 129px);
    }
    .slideshow__aspect__chrome {
        padding-top:calc(100vh - 185px);
    }
	.slideshow__content {
        top: 65%;
    }
    .slideshow__content h2 {
	    font-size: 7vw;
    }
    .slideshow__content span {
        font-size: 4vw;
        font-weight: bold;
    }
    .slideshow__content .btn {
        font-size: 4vw;
        padding: 7px 20px;
    }
	.slideshow__parent .slick-dots {
        bottom: 5vh;
    }
    .slideshow__parent .slick-dots li.slick-active button:before {
        color:white;
        opacity: 1;
    }
    .slideshow__parent .slick-dots li button:before {
		color:white;
        opacity: .5;
    }
	/*.slideshow__parent .slideshow__item:nth-child(2) .slideshow__img, .slideshow__parent .slideshow__item:nth-child(6) .slideshow__img {
		background-image: url('/content/dam/indtravelrevamp/partner-assets/GOTF_MOBILE_NEW.jpg') !important;
    }*/
}

.slideshow__logo {
	width: auto;
    max-width: 95vw;
    height: 55px;
    position: absolute;
    top: 55px;
    right: 55px;
    z-index: 2;
}
</style>
<div class="full-width slideshow_AT">
    <style>
		@media (min-width: 768px) {
        	
        }
		@media (max-width: 767px) {
			
        }
    </style>
	<div class="slideshow__parent">
		<div class="slideshow__item">
        	<div class="slideshow__aspect">
                <!--<div class="slideshow__img slideshow__img__lazyload lazy" data-src="/content/dam/indtravelrevamp/en/main-banner/global/package.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg" data-image="/content/dam/indtravelrevamp/en/main-banner/global/package.jpg" style="" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">-->
                <div class="slideshow__img slideshow__img__lazyload" data-image="/content/dam/indtravelrevamp/en/main-banner/global/package.jpg" style="background-image:url(/content/dam/indtravelrevamp/en/main-banner/global/package.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg);" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">
					
					<div class="slideshow__content container indt-container" menu-description="Best Travel Deals">
                    	<span>Indonesia Tour Packages</span>
                    	<h2>Realize your dream journey with these amazing offers</h2>
                        
                            <a href="http://www.indonesia.travel/gb/en/packages/indonesia-tour-packages" class="btn btn-primary btn-default">Discover</a>
                        
                    </div>
                </div>
            </div>
        </div>
<div class="slideshow__item">
        	<div class="slideshow__aspect">
                <!--<div class="slideshow__img slideshow__img__lazyload lazy" data-src="/content/dam/indtravelrevamp/en/main-banner/global/bali.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg" data-image="/content/dam/indtravelrevamp/en/main-banner/global/bali.jpg" style="" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">-->
                <div class="slideshow__img slideshow__img__lazyload" data-image="/content/dam/indtravelrevamp/en/main-banner/global/bali.jpg" style="background-image:url(/content/dam/indtravelrevamp/en/main-banner/global/bali.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg);" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">
					
					<div class="slideshow__content container indt-container" menu-description="Luxury in Style">
                    	<span>Bali</span>
                    	<h2>10 Stylish Award Winning Hotels You Should Absolutely Stay in Bali</h2>
                        
                            <a href="https://www.indonesia.travel/gb/en/trip-ideas/10-stylish-award-winning-hotel-s-you-should-absolutely-stay-in-bali.html" class="btn btn-primary btn-default">Discover</a>
                        
                    </div>
                </div>
            </div>
        </div>
<div class="slideshow__item">
        	<div class="slideshow__aspect">
                <!--<div class="slideshow__img slideshow__img__lazyload lazy" data-src="/content/dam/indtravelrevamp/en/main-banner/global/jakarta.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg" data-image="/content/dam/indtravelrevamp/en/main-banner/global/jakarta.jpg" style="" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">-->
                <div class="slideshow__img slideshow__img__lazyload" data-image="/content/dam/indtravelrevamp/en/main-banner/global/jakarta.jpg" style="background-image:url(/content/dam/indtravelrevamp/en/main-banner/global/jakarta.jpg/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg);" data-img-mobile="/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg">
					
					<div class="slideshow__content container indt-container" menu-description="The Coffee Trip">
                    	<span>Jakarta</span>
                    	<h2>20 Coffee Shops That You Will Need to Enjoy in Jakarta</h2>
                        
                            <a href="https://www.indonesia.travel/gb/en/trip-ideas/20-coffee-shop-s-that-you-will-need-to-enjoy-in-jakarta.html" class="btn btn-primary btn-default">Discover</a>
                        
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script>
        $(document).ready(function(){
            var isChrome = !!window.chrome && !!window.chrome.webstore;
            if(isChrome == true && $(window).outerWidth() < 768) {
                //alert(isChrome);
                //$(".slideshow__aspect").css("padding-top","calc(100vh - 185px)");
            }
            if($(window).outerWidth() < 768) {
                $(".slideshow__img").each(function(){
                    var imgMobile = $(this).attr("data-img-mobile");
                    //alert(imgMobile);

                    if(imgMobile != "" && imgMobile != undefined && imgMobile != "/_jcr_content/renditions/cq5dam.web.1280.1280.jpeg") {
                        $(this).css("background-image","url("+imgMobile+")");
                    }
                });
            }
            
            var country_arab = false;
            if('en' == 'ar'){
                country_arab = true;
            }
            
            $('.slideshow__parent').slick({
                dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1,
                arrows:false,
                autoplay: true,
                rtl:country_arab,
                autoplaySpeed: 3000
            });
            /*image_load.load_single(0, $('.slideshow__img__lazyload'));
            $('.slideshow__parent').on('beforeChange', function(event, slick, currentSlide, nextSlide){
                image_load.load_single(currentSlide, $('.slideshow__img__lazyload'));
            });*/

            $(".slideshow__parent .slick-dots").addClass("row container indt-container")
            $(".slideshow__parent .slick-dots li").addClass("col");

            var slide_length = $(".slideshow__content").length;
            if(country_arab){
				$(".slideshow_AT ul").css("direction","rtl");
                for(var i = 1;i<slide_length;i++) {
                    var to_item = (slide_length - i) - 1;
                    var menuDescription = $(".slideshow__content").eq(to_item).attr("menu-description");
                    if(menuDescription == ""){
                        menuDescription = $(".slideshow__content h2").eq(to_item).html();
                    }
                    $(".slick-dots li button").eq(i-1).html(menuDescription+"<br><span>"+$(".slideshow__content span").eq(to_item).html()+"</span>");
                }
            } else {
				for(var i = 1;i<slide_length;i++) {
                    var menuDescription = $(".slideshow__content").eq(i).attr("menu-description");
                    if(menuDescription == ""){
                        menuDescription = $(".slideshow__content h2").eq(i).html();
                    }
                    $(".slick-dots li button").eq(i-1).html(menuDescription+"<br><span>"+$(".slideshow__content span").eq(i).html()+"</span>");
                }
            }
        });


    var image_load = {
        break_time:0,
        load_continues: function(index, target){
           	var source = target.eq(index);
            var image_url = source.attr(this.attr);
			$('<img/>').attr('src', image_url).on('load', function() {
                $(this).remove();
                source.css('background-image', 'url('+image_url+')');

                if(index < (target.length - 1)) {
					image_load.load(index + 1);
                }
            });
        },
        load_single: function(index, target){
			var source = target.eq(index);
            var image_url = source.attr(this.attr);
            var have_background = source.css("background-image");
            if(have_background == "none") {
                $('<img/>').attr('src', image_url).on('load', function() {
                    $(this).remove();
                    source.css('background-image', 'url('+image_url+')');
                });
            }
        }, 
        attr:"data-image",
        set: function(target){
            if(target.length > 0) {
				this.load_continues(0, target);
            }
        }
    }
    </script>
</div></div>
<div class="slick-360 aem-GridColumn aem-GridColumn--default--12"><style>
 	.slick-dots li {
		width: 12px !important;
        margin: 0px !important;
    }
    .slick-dots li button {
		width: 12px !important;
        padding: 0px !important;
    }
    .slick-dots li button::before {
		width: 12px !important;
        font-size: 8px;
    }
    .slick-dots li.slick-active button::before {
		font-size: 11px;
    }
    .slideshow {
        position:relative;
    }
    .slideshow .slick-arrow {
        zoom: 1.5;
    }
	.new-slick-btn {
        color: white;
        outline: 0;
        border: 0px solid white;
        width: 4.75em;
        height: 100%;
        cursor: pointer;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
        padding-top: 3px;
        transition: opacity .3s;
        opacity: 0.7;
    	font-size:large;

    }
	.new-slick-btn:hover {
		opacity: 1;
	}
	.new-slick-btn:focus {
		outline:0px;
	}
	.new-slick-btn-left {
        left: 0px;
        padding-right: 3px;
        background:transparent !important;
        /*background: linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.54));*/
    }

	.new-slick-btn-right {
		right: 0px;
        padding-left: 3px;
        background:transparent !important;
        /*background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.54));*/
	}
	.btn-slick-center-thing {
		position: absolute;
		top: 50%;
		left: 50%;
		margin-right: -50%;
		transform: translate(-50%, -50%);
	}
	
    .slideshow-image-360 .slick-dots {
        bottom: 10 !important;
        text-align: right;
        z-index: 1;
    }
    .slideshow-image-360 {
		width:100% !important; 
        position:relative;
    }

    .slideshow-image-360 {
        margin-left:auto;
        margin-right:auto;
        position:relative;
    }
    .slideshow-image-360 .slideshow-image-new360 {
        height: 100%;
        width: 100%;
        display:block;
    }
    .slideshow-image-new360 {
        height: 100%;
        width: 100%;
        background-size: cover !important;
        background-repeat: no-repeat !important;
        background-position: 50%, 50% !important;
        position:relative;
    }
	.m-b-0 {
		margin-bottom:0px;
	} 
	.a-slide-item {
		position:relative;
		display:inline-block;
	}
    .caption {
    	position: absolute;
  		right: 0;
  		bottom: 0;
  		padding: 15px;
  		min-height: 38px;
  		background-color: rgba(255, 255, 255, 0.2);
  		z-index: 50;
        color: #000000;
    }
    .bttn_gal {
        margin-top: 20px;
        background: linear-gradient(to right, #7C4D9B, #D5337C);
        border: 0px;
        color: #FFFFFF;
        padding: 7px 30px;
        cursor: pointer;
        border-radius: 2px;
    }
    .show-desktop-360 {
    	display:block;
    }
	.show-mobile-360 {
    	display:none;
    }
    .pad {
    	/*margin-left:5%;
        margin-right:5%;
        width:90%;
		background-color:#F8F8F8;*/
        padding-bottom:30px;
        padding-top:30px;
    }

    .md360-bg-pattern {
	    position: relative;
        width:100%;
        height:100%;
        background-color:rgba(0, 0, 0, 0.25);
        cursor: pointer;
    }

	.md360-bg-pattern img {
        width: 35%;
        max-width: 60px;
        max-height: 200px;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-right: -50%;
        transform: translate(-50%, -50%);
        filter: brightness(0) invert(1);
    }

	@media (max-width: 424px) {
        .slide-link-action {
            font-size: medium !important;
        }
	}
    .overlaygradient {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        opacity: 0.67;
        z-index: 1;
        background-image: linear-gradient(to right top, #000000, rgba(0,0,0, 0) 56%);
    }
    .slide-link-action h2 {
        font-weight: bold;
        font-size: 3.2vw;
        margin-bottom: 2vw;
    }
    .slide-link-action {
        background-image: linear-gradient(to left, #d5347d, #6553a2);color: #FFFFFF; position: absolute; right: 0px;
        bottom: 0px;
        padding: 5px 20px;
    	padding-top: 3px;
        text-align: center;
        font-size: 22px;
    }
    @media screen and (min-width: 1200px) {
        .slide-link-action h2 {
            font-size: 200%;
            margin-bottom: 25px;
        }
		.slide-link-action {
            font-size:22px;
        }
    }
    @media (min-width:766px) and (max-width:1278px) { 
    }
        @media (min-width:766px) {
            .pad {
                padding-top:4em;
            }
        }
    @media (max-width:765px) {
        .new-slick-btn {
            width: 2em;
            padding-top: 1px;
            font-size:medium;
        }
        .new-slick-btn-left {
            padding-right: 0px;
        }
        .new-slick-btn-right {
            padding-left: 3px;
        }
        .slide-link-action h2 {
            font-size: x-large;
        }
        .show-desktop-360 {
    		display:none;
    	}
        .show-mobile-360 {
    		display:block;
    	}
        .bttn_gal {
        	width:100%;
    	}
        .row.carousel-360-parent {
            margin-left:0px !important;
            margin-right:0px !important;
		}

        .text-360-destination {
            font-size:small;
        }
        .slideshow-image-360 {
            margin-bottom:50px;
        }
    }

        @media screen and (min-width: 600px) {
          .slideshow-image-360 .slideshow-image-new360 {
                height:65vh;
            }
        }
        @media screen and (max-width: 599px) {
            .slideshow-image-360 .slideshow-image-new360 {
                height:calc(100vh - 180px);
            }
        }



        /*new slider css*/
        @import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700');
        .text-lnvert-nw{
            left:-30px;
            top:38px;

            width:5px;
            height:33px;
            position:absolute;
            background:#d5337e;
        }
        .text-desc{
            margin-top:15px;
        }
        .text-dest,.text-desc{
            font-family:Open Sans;
            font-size:0.8rem;
            letter-spacing:1.5px;
            margin-bottom:10px;
            color:#fff;
        }
        .text-title{
            font-family:Open Sans;
            font-size:calc(1px + 2.3vw) !important;
            color:#fff;
            line-height:42px;
        }
        .text-line{
            width:180px;
            background:#ffffff61;
            margin-top:25px;
            margin-bottom:25px;
            height:1px;
        }
        .text-discover .lnr{
            font-weight:bold;
        }
        .text-discover{
            color:#fff;
            font-size:1.1rem;
            display:inline-block;
            background: linear-gradient(to right,#7c4d9b,#d5337c);
            border-radius:3px;
            padding:5px 25px;
            font-family:Open Sans;
            letter-spacing:1px 
        }
		.md360_destination_name {
            background-color: rgba(3, 3, 3, 0.50);
            width: 100%;
            padding: 10px 15px;
            position: absolute;
            left: 0px;
            bottom: 0px;
            color: white;
            display: none;
		}
        .text-360-destination {
            width: 80%;
            padding: 10px 15px;
            padding-left:0px;
            position: absolute;
            bottom: 0px;
            transform: translateY(100%);
        }
        @media screen and (max-width: 900px) and (min-width:601px) {
            .text-title{
                font-size:calc(2px + 3vw) !important;
            }
        }
        @media screen and (min-width: 600px) {
            .text-desc{
                width:80%;
            }
            .slider-text{
                width:500px;
                position:absolute;
                left:7%;
                bottom:20%;
            }
            .text-overlay {
            	display:none;
            }
        }
        @media screen and (max-width: 599px) {
            .text-discover,.text-dest,.text-desc{
                font-size:0.8rem;
            }
            .text-desc{
                line-height:16px;
            }
            .text-lnvert-nw{
                height:20px;
                left:-25px;
                width:4px;
                top:35px;
            }
            .text-line{
                width:120px;
                margin-top:18px;
                margin-bottom:18px;
            }
            .text-title{
                font-family:Open Sans;
                font-size:calc(13px + 3vw) !important;
                color:#fff;
                line-height:30px;
            }
            .slider-text{
                width:76%;
                position:absolute;
                left:12%;
                bottom:35%;
            }
            .text-overlay {
				width:25%;
                position:absolute;
                bottom:50px;
                color:#FFFFFF;
            }
			.text-overlay h1 {
            	text-align: center;
                margin-bottom:10px;
                font-weight:bold;
            }
            .text-overlay h2 {
            	text-align: center;
                font-size:16px;
            }
		}


</style>

<dslyiv>
    <style>
        @media screen and (min-width: 800px) {
            .slideshow-image-360 .slideshow-image-new360 {
            	height:250px !important;
        	}
            .title-360 {
                padding-bottom: 20px;
                font-weight: 300;
				font-size: 2rem;
            }
            .content-360 {
				font-size: smaller;
				line-height: 27px;
            }
    	}
        @media screen and (max-width: 800px) {
			.slideshow-image-360 .slideshow-image-new360 {
            	height:150px !important;
        	}

            .title-360 {
                font-weight:300;
                padding-bottom: 20px;
                font-size: 1.25rem;
            }

            .slide-360 {
				padding-bottom: 20px;
            }
            .content-360 {
				font-size: smaller;
				line-height: 27px;
            }
    	}
	</style>




<!-- Slideshow -->

    <div class="full-width grey-bg">
        <div class="container indt-container pad">
            <div class="row carousel-360-parent">
                <div class="col-md-6 show-desktop-360 content-360">
                    <p class="title-360">Indonesia 360° Experience</p>
                    <p>Catch a glimpse of Indonesia's bewitching attractions without having to put on your shoes and discover the ultimate destination that matches your soul. So go ahead and steal a glance at your ideal holiday.<br />
<br />
</p>

                    <p><a href="http://www.indonesia.travel/gb/en/video-360"><button class="bttn_gal">Take it for a spin</button></a></p>
                </div>
                <div class="col-md-6 slide-360">
                    <div class="show-mobile-360 title-360">Indonesia 360° Experience</div>
                    <div class="slideshow-image-parent">
                        <div class="slideshow-image-360">
                            

                                
    
                                <div class="md360-video-file" style="display:none;" data-destination="Jakarta&#39;s Modern Wonder">
                                    <div style="background-image:url(/content/dam/indtravelrevamp/image-360/Thumb/hensin-jkt.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg)" class="slideshow-image-new360 md360-item-bg" data-video="/content/dam/indtravelrevamp/image-360/Jakarta.mp4" data-poster="/content/dam/indtravelrevamp/image-360/Thumb/hensin-jkt.jpg">
    
                                        <div class="md360-bg-pattern">
                                            <img src="/content/dam/indtravelrevamp/image-360/360_pink-small.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" alt="background pattern">
                                        </div>
                                        <div class="md360_destination_name">Jakarta&#39;s Modern Wonder</div>
    
                                    </div>
                                </div>
    
                            

                                
    
                                <div class="md360-video-file" style="display:none;" data-destination="Bintan&#39;s Natural Wonder ">
                                    <div style="background-image:url(/content/dam/indtravelrevamp/image-360/Thumb/bintan.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg)" class="slideshow-image-new360 md360-item-bg" data-video="/content/dam/indtravelrevamp/image-360/Bintan.mp4" data-poster="/content/dam/indtravelrevamp/image-360/Thumb/bintan.jpg">
    
                                        <div class="md360-bg-pattern">
                                            <img src="/content/dam/indtravelrevamp/image-360/360_pink-small.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" alt="background pattern">
                                        </div>
                                        <div class="md360_destination_name">Bintan&#39;s Natural Wonder </div>
    
                                    </div>
                                </div>
    
                            

                                
    
                                <div class="md360-video-file" style="display:none;" data-destination="Raja Ampat&#39;s Natural Wonder">
                                    <div style="background-image:url(/content/dam/indtravelrevamp/image-360/Thumb/rajaampat.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg)" class="slideshow-image-new360 md360-item-bg" data-video="/content/dam/indtravelrevamp/image-360/RAJA-AMPAT-WAYAG-4k30f35m_2mins-NEW.mp4" data-poster="/content/dam/indtravelrevamp/image-360/Thumb/rajaampat.jpg">
    
                                        <div class="md360-bg-pattern">
                                            <img src="/content/dam/indtravelrevamp/image-360/360_pink-small.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" alt="background pattern">
                                        </div>
                                        <div class="md360_destination_name">Raja Ampat&#39;s Natural Wonder</div>
    
                                    </div>
                                </div>
    
                            

                                
    
                                <div class="md360-video-file" style="display:none;" data-destination="Banyuwangi&#39;s Adventurous Wonder">
                                    <div style="background-image:url(/content/dam/indtravelrevamp/image-360/Thumb/banyuwangi_nature.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg)" class="slideshow-image-new360 md360-item-bg" data-video="/content/dam/indtravelrevamp/image-360/Adventur Ijen.mp4" data-poster="/content/dam/indtravelrevamp/image-360/Thumb/banyuwangi_nature.jpg">
    
                                        <div class="md360-bg-pattern">
                                            <img src="/content/dam/indtravelrevamp/image-360/360_pink-small.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" alt="background pattern">
                                        </div>
                                        <div class="md360_destination_name">Banyuwangi&#39;s Adventurous Wonder</div>
    
                                    </div>
                                </div>
    
                            

                                
    
                                <div class="md360-video-file" style="display:none;" data-destination="Bali&#39;s Cultural Wonder ">
                                    <div style="background-image:url(/content/dam/indtravelrevamp/image-360/Thumb/kecak2.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg)" class="slideshow-image-new360 md360-item-bg" data-video="/content/dam/indtravelrevamp/image-360/Tari Kecak.mp4" data-poster="/content/dam/indtravelrevamp/image-360/Thumb/kecak2.jpg">
    
                                        <div class="md360-bg-pattern">
                                            <img src="/content/dam/indtravelrevamp/image-360/360_pink-small.png/_jcr_content/renditions/cq5dam.thumbnail.48.48.png" alt="background pattern">
                                        </div>
                                        <div class="md360_destination_name">Bali&#39;s Cultural Wonder </div>
    
                                    </div>
                                </div>
    
                             
                        </div>
                    </div>
                    <!-- End of Slideshow -->
                    <div class="show-mobile-360 content-360">
                        <p>Catch a glimpse of Indonesia's bewitching attractions without having to put on your shoes and discover the ultimate destination that matches your soul. So go ahead and steal a glance at your ideal holiday.<br />
<br />
</p>

                        <p><a href="http://www.indonesia.travel/gb/en/video-360"><button class="bttn_gal">Take it for a spin</button></a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
	$('document').ready(function(){

		var cti = $(".slideshow-image-360 .slideshow-image-new360").length;

        var cqTime = "";
        var timeSlide = "";
        if(cqTime == "") {
			cqTime = 3;
        } else {
			cqTime = parseInt(cqTime);
        }

    	var root = 'en';
    	var rtl = false;

    	if(root == 'ar' && browser.chrome == undefined) {
			rtl = true;
    	}
        var timeSlide = cqTime * 1000;
        if(cti > 1) {

        	$('.slideshow-image-360').slick({
  				infinite: true,
				autoplay: true,
                slidesToShow: 1,
                draggable:false,
				slidesToScroll: 1,
				autoplaySpeed: timeSlide,
                dots:true,
                arrows:false,
    			rtl: rtl
			});
            $(".slide-360 .slick-slide").css("display","block");

            var destinationName = '<div class="text-360-destination"></div>'
            $(".slideshow-image-360").append(destinationName);

            var text = $(".slideshow-image-360 .slick-current .md360_destination_name").html();
            $(".text-360-destination").html(text);

            $('.slideshow-image-360').on('beforeChange', function(event, slick, currentSlide, nextSlide){
                $(".text-360-destination").fadeOut(300);
              	//console.log("Destination namenya " + text);
            });

            $('.slideshow-image-360').on('afterChange', function(event, slick, currentSlide, nextSlide){
				var text = $(".slideshow-image-360 .slick-current .md360_destination_name").html();
                $(".text-360-destination").html(text);
                $(".text-360-destination").fadeIn(300);
              	//console.log("Destination namenya " + text);
            });

		}

    	if(root == 'ar'){
            setTimeout(function(){$(".slick-360 .slideshow-image-parent .slick-list").attr("style","direction: rtl !important");},2500);
        }
    })

</script>




<div class="modal-container-parent">
<style>
    .panolens-container.panolens-container-paster:after {
        display: block;
        content: '';
        width: 100px;
        height: 60px;
        position: absolute;
        top: 15px;
        left: 15px;
        background-image: url(/content/dam/indtravelrevamp/page-assets/WI%20putih.svg);
        background-repeat: no-repeat;
        z-index:1000;
    }
    .panolens-container-paster {
        overflow:hidden;
        height: 80vh;
        width: 80%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        position: absolute;
        z-index:2;
    }
    .md-modal {
        background-color: rgba(0, 0, 0, 0.7);
        position:fixed;
        top:0px;
        left:0px;
        height:100vh;
        width:100%;
        z-index:99;
        display:none;
    }
	.md-360-close {
        position:absolute;
        height:100%;
        width:100%;
        cursor:pointer;
        z-index:1;        
    }
    .md-modal .indt-container {
        height: 100%;
    }

	@media screen and (min-width: 1919px) {
		.panolens-container-paster {
            width:100%;
            height:60vh;
        }
    }

    .container-btn {
        width: 60px;
        height: 60px;
        transform: rotate(45deg);
        position: absolute;
        bottom: 45px;
        left: 15px;
        z-index: 3;
    }

    .btn-360 {
        height: 30px;
        width: 30px;
        display: block;
        float: left;
        border: 0px;
        background-color: rgba(197, 197, 197, 0.8509803921568627); /*#c5c5c5;*/
        transition: all 350ms;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.48);
    }
    .btn-360:focus {
      outline:0px;
    }
    .btn-360:hover {
      background-color:#ababab;
      cursor:pointer;
    }
    .btn-c-bottom {
      border-bottom-right-radius: 100%;
    }
    .btn-c-top {
      border-top-left-radius: 100%;
    }
    .btn-c-right {
      border-top-right-radius: 100%;
    }
    .btn-c-left {
      border-bottom-left-radius: 100%;
    }
	.btn-c-bottom:after, .btn-c-top:after, .btn-c-right:after, .btn-c-left:after {
        width: 10px;
        height: 10px;
        content: '';
        display: block;
        border-bottom-left-radius: 50%;
        border:0px;
        border-style:solid;
        border-color:white;
        border-bottom-width: 1px;
        border-left-width: 1px;
        position: relative;
        left: 30%;
        top: 50%;
    }
    .btn-c-bottom:after {
        transform:rotate(270deg);
    }
    .btn-c-top:after {
        transform:rotate(90deg);
    }
    .btn-c-right:after {
        transform:rotate(180deg);
    }

	/* Panolens Setting */
    .bar-control-360 {
        position: absolute !important;
        bottom: 0px;
    }
    .video-bar-360 {
        width:calc(100% - 225px) !important;
    }
	@media screen and (max-width: 767px) {
		.panolens-container-paster {
            width: 100%;
            height: 100vh;
        }
        .panolens-canvas {
            top: 0;
            position: absolute;
            height: 100vh;
        }
        .md360-item-desc {
            height: 25px;
            overflow: hidden;
        }
        .bar-control-360 {
            position: absolute !important;
            transform: translateY(0px) !important;
        }
        .overlay-360 {
            z-index:1;
        }
        .container-btn-360 {
            display:none;
        }
        .info-360-container {
            display:block;
        }
        .overlay-360-col:nth-child(2) {
            display:none;
        }
        /*.panolens-video .container-btn-360 {
            display:none;
        }
        .panolens-image .container-btn-360 {
            display
            display: block;
            bottom: 15px;
            top: unset;
        }*/

    }
	@media screen and (min-width: 768px) {
		.bar-control-360 {
            transform: translateY(0px) !important;
        }
        .overlay-360-video, .info-360-container {
            display:none !important;
        }
        .video-bar-360 {
            width: calc(100% - 27%) !important;
        }
        .info-360-container {
    		display:none;
        }
        .overlay-360-col:nth-child(1) {
            display:none;
        }
    }

@supports (-moz-appearance:none) {
    .btn-c-bottom:after, .btn-c-top:after, .btn-c-right:after, .btn-c-left:after {
        top:unset !important;
    }
}
.overlay-360 {
    height:100%;
    width:100%;
    background-color: rgba(0, 0, 0, 0.25);
    display:block;
    position:absolute;
    top:0px;left:0px;
    text-center;
    display:none;
}
.overlay-360-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    text-align:center;
}
.overlay-360-col {
    width:100%;
    background-color: rgba(0, 0, 0, 0.50);
    text-align:center;
    color:white;
}
.overlay-360-col:nth-child(1) {
    height: 50%;
    position: relative;
}
.overlay-360-col:nth-child(2) {
    height:30%;
    border-style:solid;
    border-color:white;
    border-width:0px;
    border-top-width:1px;
    border-bottom-width:1px;
    position:relative;
}
.overlay-360-col:nth-child(1):before {
    display: block;
    color: white;
    content: 'or';
    border-radius: 40px;
    background-color: #707070;
    width: 45px;
    height: 30px;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}
.overlay-360-col:nth-child(1):after {
	top: -16px;
}
.overlay-360-col:nth-child(1):before {
    bottom:-16px;
}

.overlay-360-col:nth-child(3) {
    height: 50%;
}
.overlay-360-col img {
    height: auto;
    margin-top: 10%;
    margin-bottom: 15px;
}
.overlay-360-col:nth-child(1) img {
    margin-top: 40%;
}
.overlay-360-col:nth-child(2) img {
    margin-top: 13%;
}
.overlay-360-col:nth-child(3) img {
    margin-top: 25%;
}

.info-360-container {
    top: 5px;
    right: 35px;
    z-index: 1;
    width: 30px;
    height: 30px;
    padding-top: 2px;
    border-radius: 50%;
    text-align: center;
    padding-left: 0px;
    color: white;
    transition: all 300ms;
	cursor: pointer;
    position: absolute;
    user-select: none;
    pointer-events: auto;
}

.info-360-container .show {
    opacity: 1; 
    display:block !important;
}

span.vr-button-360:before {
    content: '';
    position: absolute;
    top: -1px;
    left: 50%;
    border-radius: 50%;
    width: 10px;
    height: 10px;
    transform: translateX(-50%);
    background-color: #03A9F4;
    opacity:0;
    transition:all 300ms;
    box-shadow: 0px 0px 11px 1px #0a69f8;
}
.vr-active:before {
    opacity: 0 !important;
}
.vr-button-360.vr-active {
    background-image:url(/content/dam/indtravelrevamp/image-360/VrGoogle_active.png) !important;
}
.cardboard-btn.vr-active {
    background-image:url(/content/dam/indtravelrevamp/image-360/Cardboard_active.png) !important;
}
.loader-360-video {
    position: absolute;
    bottom: 0px;
    left: 0px;
    background-color: black;
    color: white;
    display: none;
    z-index: 999;
    width: 100%;
    height: 100%;
}
.loader-360-video-show {
    display:block;
}
.loader-360-video-text {
    position: absolute;
    top: 47.5%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    text-align:center;
}
.loader-spin {
    -webkit-animation: spin 1s linear infinite;
    animation: spin 1s linear infinite;
    border: 3px solid #ddd;
    border-top: 3px solid #42a5f5;
    border-radius: 50%;
    height: 30px;
    width: 30px;
    margin-left: auto;
    margin-right: auto;
    margin-top: 1em;
}

@-webkit-keyframes spin {
  to {
    border-top-color: #ec407a;
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes spin {
  to {
    border-top-color: #ec407a;
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

</style>
<div class="md-modal full-width">
    <div class="md-360-close"></div>
    <div class="container indt-container">

            <div class="panolens-container panolens-container-paster panolens-image">
                <div class="overlay-360">
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/movephone.png" alt="" width="60px">
                        <br>
                        Move your device arround
                    </div>
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/control.png" alt="" width="50px">
                        <br>
                        Use the controller
                    </div>
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/slidefinger.png" alt="" width="40px">
                        <br>
                        Slide with your finger
                    </div>
                    <!--
                    <div class="overlay-360-text">
						Tilt your phone and turn around your feet
                    </div>
                    -->
                </div>
				<div class="container-btn container-btn-360">
                  <button class="btn-360 btn-c-top"></button>
                  <button class="btn-360 btn-c-right"></button>
                  <button class="btn-360 btn-c-left"></button>
                  <button class="btn-360 btn-c-bottom"></button>
                </div>
            </div>
            <div class="panolens-container panolens-container-paster panolens-video">
                <div class="overlay-360">
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/movephone.png" alt="" width="60px">
                        <br>
                        Move your device arround
                    </div>
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/control.png" alt="" width="50px">
                        <br>
                        Use the controller
                    </div>
                    <div class="overlay-360-col">
                        <img src="/content/dam/indtravelrevamp/image-360/slidefinger.png" alt="" width="40px">
                        <br>
                        Slide with your finger
                    </div>
					<!--
                    <div class="overlay-360-text">
						Tilt your phone and turn around your feet
                    </div>
                    -->
                </div>
                <div class="loader-360-video">
                    <div class="loader-360-video-text">Loading Video<br>Please wait<br><div class="loader-spin"></div></div>
                </div>
				<div class="container-btn container-btn-360">
                  <button class="btn-360 btn-c-top"></button>
                  <button class="btn-360 btn-c-right"></button>
                  <button class="btn-360 btn-c-left"></button>
                  <button class="btn-360 btn-c-bottom"></button>
                </div>
            </div>

    </div>
</div>

<script src="https://threejs.org/build/three.min.js"></script>
<!--<script src="http://indonesia.travel.s3.amazonaws.com/js/three.min.js"></script>-->
<script>
/* panolens js*/
var PANOLENS={REVISION:"10-dev"},enableInlineVideo=function(){"use strict";function t(t,e,i,n){function o(i){r=e(o,n),t(i-(a||i)),a=i}var r,a;return{start:function(){r||o(0)},stop:function(){i(r),r=null,a=0}}}function e(e){return t(e,requestAnimationFrame,cancelAnimationFrame)}function i(t,e,i){function n(n){i&&!i(t,e)||n.stopImmediatePropagation()}return t.addEventListener(e,n),n}function n(t,e,i,n){function o(){return i[e]}function r(t){i[e]=t}n&&r(t[e]),Object.defineProperty(t,e,{get:o,set:r})}function o(t,e,i){i.addEventListener(e,function(){return t.dispatchEvent(new Event(e))})}function r(t,e){Promise.resolve().then(function(){t.dispatchEvent(new Event(e))})}function a(t){var e=new Audio;return o(t,"play",e),o(t,"playing",e),o(t,"pause",e),e.crossOrigin=t.crossOrigin,e.src=t.src||t.currentSrc||"data:",e}function s(t,e,i){(m||0)+200<Date.now()&&(t[y]=!0,m=Date.now()),i||(t.currentTime=e),A[++L%3]=100*e|0}function h(t){return t.driver.currentTime>=t.video.duration}function c(t){var e=this;e.video.readyState>=e.video.HAVE_FUTURE_DATA?(e.hasAudio||(e.driver.currentTime=e.video.currentTime+t*e.video.playbackRate/1e3,e.video.loop&&h(e)&&(e.driver.currentTime=0)),s(e.video,e.driver.currentTime)):e.video.networkState===e.video.NETWORK_IDLE&&0===e.video.buffered.length&&e.video.load(),e.video.ended&&(delete e.video[y],e.video.pause(!0))}function l(){var t=this,e=t[g];if(t.webkitDisplayingFullscreen)return void t[N]();"data:"!==e.driver.src&&e.driver.src!==t.src&&(s(t,0,!0),e.driver.src=t.src),t.paused&&(e.paused=!1,0===t.buffered.length&&t.load(),e.driver.play(),e.updater.start(),e.hasAudio||(r(t,"play"),e.video.readyState>=e.video.HAVE_ENOUGH_DATA&&r(t,"playing")))}function u(t){var e=this,i=e[g];i.driver.pause(),i.updater.stop(),e.webkitDisplayingFullscreen&&e[w](),i.paused&&!t||(i.paused=!0,i.hasAudio||r(e,"pause"),e.ended&&!e.webkitDisplayingFullscreen&&(e[y]=!0,r(e,"ended")))}function d(t,i){var n={};t[g]=n,n.paused=!0,n.hasAudio=i,n.video=t,n.updater=e(c.bind(n)),i?n.driver=a(t):(t.addEventListener("canplay",function(){t.paused||r(t,"playing")}),n.driver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,h(n)&&s(t,0)},get ended(){return h(n)}}),t.addEventListener("emptied",function(){var e=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==t.src&&(s(t,0,!0),n.driver.src=t.src,e||!i&&t.autoplay?n.driver.play():n.updater.stop())},!1),t.addEventListener("webkitbeginfullscreen",function(){t.paused?i&&0===n.driver.buffered.length&&n.driver.load():(t.pause(),t[N]())}),i&&(t.addEventListener("webkitendfullscreen",function(){n.driver.currentTime=t.currentTime}),t.addEventListener("seeking",function(){A.indexOf(100*t.currentTime|0)<0&&(n.driver.currentTime=t.currentTime)}))}function p(t){var e=t[y];return delete t[y],!t.webkitDisplayingFullscreen&&!e}function f(t){var e=t[g];t[N]=t.play,t[w]=t.pause,t.play=l,t.pause=u,n(t,"paused",e.driver),n(t,"muted",e.driver,!0),n(t,"playbackRate",e.driver,!0),n(t,"ended",e.driver),n(t,"loop",e.driver,!0),i(t,"seeking",function(t){return!t.webkitDisplayingFullscreen}),i(t,"seeked",function(t){return!t.webkitDisplayingFullscreen}),i(t,"timeupdate",p),i(t,"ended",p)}function E(t,e){if(void 0===e&&(e={}),!t[g]){if(!e.everywhere){if(!v)return;if(!(e.iPad||e.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}t.pause();var i=t.autoplay;t.autoplay=!1,d(t,!t.muted),f(t),t.classList.add("IIV"),t.muted&&i&&(t.play(),t.addEventListener("playing",function e(){t.autoplay=!0,t.removeEventListener("playing",e)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}var m,v="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,g="bfred-it:iphone-inline-video",y="bfred-it:iphone-inline-video:event",N="bfred-it:iphone-inline-video:nativeplay",w="bfred-it:iphone-inline-video:nativepause",A=[],L=0;return E}(),TWEEN=TWEEN||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)},update:function(e,i){if(0===t.length)return!1;var n=0;for(e=void 0!==e?e:TWEEN.now();n<t.length;)t[n].update(e)||i?n++:t.splice(n,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof process?TWEEN.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?TWEEN.now=window.performance.now.bind(window.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(t){var e,i=t,n={},o={},r={},a=1e3,s=0,h=!1,c=!1,l=!1,u=0,d=null,p=TWEEN.Easing.Linear.None,f=TWEEN.Interpolation.Linear,E=[],m=null,v=!1,g=null,y=null,N=null;this.to=function(t,e){return o=t,void 0!==e&&(a=e),this},this.start=function(t){TWEEN.add(this),c=!0,v=!1,d=void 0!==t?t:TWEEN.now(),d+=u;for(var e in o){if(o[e]instanceof Array){if(0===o[e].length)continue;o[e]=[i[e]].concat(o[e])}void 0!==i[e]&&(n[e]=i[e],n[e]instanceof Array==!1&&(n[e]*=1),r[e]=n[e]||0)}return this},this.stop=function(){return c?(TWEEN.remove(this),c=!1,null!==N&&N.call(i,i),this.stopChainedTweens(),this):this},this.end=function(){return this.update(d+a),this},this.stopChainedTweens=function(){for(var t=0,e=E.length;t<e;t++)E[t].stop()},this.delay=function(t){return u=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return h=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return f=t,this},this.chain=function(){return E=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return g=t,this},this.onComplete=function(t){return y=t,this},this.onStop=function(t){return N=t,this},this.update=function(t){var c,N,w;if(t<d)return!0;!1===v&&(null!==m&&m.call(i,i),v=!0),N=(t-d)/a,N=N>1?1:N,w=p(N);for(c in o)if(void 0!==n[c]){var A=n[c]||0,L=o[c];L instanceof Array?i[c]=f(L,w):("string"==typeof L&&(L="+"===L.charAt(0)||"-"===L.charAt(0)?A+parseFloat(L):parseFloat(L)),"number"==typeof L&&(i[c]=A+(L-A)*w))}if(null!==g&&g.call(i,w),1===N){if(s>0){isFinite(s)&&s--;for(c in r){if("string"==typeof o[c]&&(r[c]=r[c]+parseFloat(o[c])),h){var P=r[c];r[c]=o[c],o[c]=P}n[c]=r[c]}return h&&(l=!l),d=void 0!==e?t+e:t+u,!0}null!==y&&y.call(i,i);for(var b=0,O=E.length;b<O;b++)E[b].start(d+a);return!1}return!0}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,o=Math.floor(n),r=TWEEN.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],n):e>1?r(t[i],t[i-1],i-n):r(t[o],t[o+1>i?i:o+1],n-o)},Bezier:function(t,e){for(var i=0,n=t.length-1,o=Math.pow,r=TWEEN.Interpolation.Utils.Bernstein,a=0;a<=n;a++)i+=o(1-e,n-a)*o(e,a)*t[a]*r(n,a);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,o=Math.floor(n),r=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(o=Math.floor(n=i*(1+e))),r(t[(o-1+i)%i],t[o],t[(o+1)%i],t[(o+2)%i],n-o)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(r(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):r(t[o?o-1:0],t[o],t[i<o+1?i:o+1],t[i<o+2?i:o+2],n-o)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=TWEEN.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var n=e;n>1;n--)i*=n;return t[e]=i,i}}(),CatmullRom:function(t,e,i,n,o){var r=.5*(i-t),a=.5*(n-e),s=o*o;return(2*e-2*i+r+a)*(o*s)+(-3*e+3*i-2*r-a)*s+r*o+e}}},function(t){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==t&&(t.TWEEN=TWEEN)}(this),THREE.OrbitControls=function(t,e){function i(){return 2*Math.PI/60/60*N.autoRotateSpeed}function n(){return Math.pow(.95,N.zoomSpeed)}function o(t){if(B=!1,U=k=0,!1!==N.enabled){if(t.preventDefault(),t.button===N.mouseButtons.ORBIT){if(!0===N.noRotate)return;F=j.ROTATE,w.set(t.clientX,t.clientY)}else if(t.button===N.mouseButtons.ZOOM){if(!0===N.noZoom)return;F=j.DOLLY,R.set(t.clientX,t.clientY)}else if(t.button===N.mouseButtons.PAN){if(!0===N.noPan)return;F=j.PAN,P.set(t.clientX,t.clientY)}F!==j.NONE&&(document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",a,!1),N.dispatchEvent(X)),N.update()}}function r(t){if(!1!==N.enabled){t.preventDefault();var e=N.domElement===document?N.domElement.body:N.domElement;if(F===j.ROTATE){if(!0===N.noRotate)return;A.set(t.clientX,t.clientY),L.subVectors(A,w),N.rotateLeft(2*Math.PI*L.x/e.clientWidth*N.rotateSpeed),N.rotateUp(2*Math.PI*L.y/e.clientHeight*N.rotateSpeed),w.copy(A),E&&(U=t.clientX-E.clientX,k=t.clientY-E.clientY),E=t}else if(F===j.DOLLY){if(!0===N.noZoom)return;x.set(t.clientX,t.clientY),M.subVectors(x,R),M.y>0?N.dollyIn():M.y<0&&N.dollyOut(),R.copy(x)}else if(F===j.PAN){if(!0===N.noPan)return;b.set(t.clientX,t.clientY),O.subVectors(b,P),N.pan(O.x,O.y),P.copy(b)}F!==j.NONE&&N.update()}}function a(){B=!0,E=void 0,!1!==N.enabled&&(document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",a,!1),N.dispatchEvent(q),F=j.NONE)}function s(t){if(!1!==N.enabled&&!0!==N.noZoom&&F===j.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?(N.object.fov=N.object.fov<N.maxFov?N.object.fov+1:N.maxFov,N.object.updateProjectionMatrix()):e<0&&(N.object.fov=N.object.fov>N.minFov?N.object.fov-1:N.minFov,N.object.updateProjectionMatrix()),N.update(),N.dispatchEvent(Y),N.dispatchEvent(X),N.dispatchEvent(q)}}function h(t){switch(t.keyCode){case N.keys.UP:m=!1;break;case N.keys.BOTTOM:v=!1;break;case N.keys.LEFT:g=!1;break;case N.keys.RIGHT:y=!1}}function c(t){if(!1!==N.enabled&&!0!==N.noKeys&&!0!==N.noRotate){switch(t.keyCode){case N.keys.UP:m=!0;break;case N.keys.BOTTOM:v=!0;break;case N.keys.LEFT:g=!0;break;case N.keys.RIGHT:y=!0}(m||v||g||y)&&(B=!0,m&&(k=-N.rotateSpeed*N.momentumKeydownFactor),v&&(k=N.rotateSpeed*N.momentumKeydownFactor),g&&(U=-N.rotateSpeed*N.momentumKeydownFactor),y&&(U=N.rotateSpeed*N.momentumKeydownFactor))}}function l(t){if(B=!1,U=k=0,!1!==N.enabled){switch(t.touches.length){case 1:if(!0===N.noRotate)return;F=j.TOUCH_ROTATE,w.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===N.noZoom)return;F=j.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,n=Math.sqrt(e*e+i*i);R.set(0,n);break;case 3:if(!0===N.noPan)return;F=j.TOUCH_PAN,P.set(t.touches[0].pageX,t.touches[0].pageY);break;default:F=j.NONE}F!==j.NONE&&N.dispatchEvent(X)}}function u(t){if(!1!==N.enabled){t.preventDefault(),t.stopPropagation();var e=N.domElement===document?N.domElement.body:N.domElement;switch(t.touches.length){case 1:if(!0===N.noRotate)return;if(F!==j.TOUCH_ROTATE)return;A.set(t.touches[0].pageX,t.touches[0].pageY),L.subVectors(A,w),N.rotateLeft(2*Math.PI*L.x/e.clientWidth*N.rotateSpeed),N.rotateUp(2*Math.PI*L.y/e.clientHeight*N.rotateSpeed),w.copy(A),E&&(U=t.touches[0].pageX-E.pageX,k=t.touches[0].pageY-E.pageY),E={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},N.update();break;case 2:if(!0===N.noZoom)return;if(F!==j.TOUCH_DOLLY)return;var i=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(i*i+n*n);x.set(0,o),M.subVectors(x,R),M.y<0?(N.object.fov=N.object.fov<N.maxFov?N.object.fov+1:N.maxFov,N.object.updateProjectionMatrix()):M.y>0&&(N.object.fov=N.object.fov>N.minFov?N.object.fov-1:N.minFov,N.object.updateProjectionMatrix()),R.copy(x),N.update(),N.dispatchEvent(Y);break;case 3:if(!0===N.noPan)return;if(F!==j.TOUCH_PAN)return;b.set(t.touches[0].pageX,t.touches[0].pageY),O.subVectors(b,P),N.pan(O.x,O.y),P.copy(b),N.update();break;default:F=j.NONE}}}function d(){B=!0,E=void 0,!1!==N.enabled&&(N.dispatchEvent(q),F=j.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.frameId,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.noRotate=!1,this.rotateSpeed=-.15,this.noPan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.momentumDampingFactor=.9,this.momentumScalingFactor=-.005,this.momentumKeydownFactor=20,this.minFov=30,this.maxFov=120,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var p,f,E,m,v,g,y,N=this,w=new THREE.Vector2,A=new THREE.Vector2,L=new THREE.Vector2,P=new THREE.Vector2,b=new THREE.Vector2,O=new THREE.Vector2,S=new THREE.Vector3,T=new THREE.Vector3,R=new THREE.Vector2,x=new THREE.Vector2,M=new THREE.Vector2,I=0,C=0,H=1,D=new THREE.Vector3,V=new THREE.Vector3,_=new THREE.Quaternion,U=0,k=0,B=!1,j={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=j.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var W=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),z=W.clone().inverse(),Y={type:"change"},X={type:"start"},q={type:"end"};this.setLastQuaternion=function(t){_.copy(t),N.object.quaternion.copy(t)},this.getLastPosition=function(){return V},this.rotateLeft=function(t){void 0===t&&(t=i()),C-=t},this.rotateUp=function(t){void 0===t&&(t=i()),I-=t},this.panLeft=function(t){var e=this.object.matrix.elements;S.set(e[0],e[1],e[2]),S.multiplyScalar(-t),D.add(S)},this.panUp=function(t){var e=this.object.matrix.elements;S.set(e[4],e[5],e[6]),S.multiplyScalar(t),D.add(S)},this.pan=function(t,e){var i=N.domElement===document?N.domElement.body:N.domElement;if(N.object instanceof THREE.PerspectiveCamera){var n=N.object.position,o=n.clone().sub(N.target),r=o.length();r*=Math.tan(N.object.fov/2*Math.PI/180),N.panLeft(2*t*r/i.clientHeight),N.panUp(2*e*r/i.clientHeight)}else N.object instanceof THREE.OrthographicCamera?(N.panLeft(t*(N.object.right-N.object.left)/i.clientWidth),N.panUp(e*(N.object.top-N.object.bottom)/i.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.momentum=function(){if(B){if(Math.abs(U)<1e-4&&Math.abs(k)<1e-4)return void(B=!1);k*=this.momentumDampingFactor,U*=this.momentumDampingFactor,C-=this.momentumScalingFactor*U,I-=this.momentumScalingFactor*k}},this.dollyIn=function(t){void 0===t&&(t=n()),N.object instanceof THREE.PerspectiveCamera?H/=t:N.object instanceof THREE.OrthographicCamera?(N.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),N.object.updateProjectionMatrix(),N.dispatchEvent(Y)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){void 0===t&&(t=n()),N.object instanceof THREE.PerspectiveCamera?H*=t:N.object instanceof THREE.OrthographicCamera?(N.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),N.object.updateProjectionMatrix(),N.dispatchEvent(Y)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(t){var e=this.object.position;T.copy(e).sub(this.target),T.applyQuaternion(W),p=Math.atan2(T.x,T.z),f=Math.atan2(Math.sqrt(T.x*T.x+T.z*T.z),T.y),this.autoRotate&&F===j.NONE&&this.rotateLeft(i()),this.momentum(),p+=C,f+=I,p=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,p)),f=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,f)),f=Math.max(1e-7,Math.min(Math.PI-1e-7,f));var n=T.length()*H;n=Math.max(this.minDistance,Math.min(this.maxDistance,n)),this.target.add(D),T.x=n*Math.sin(f)*Math.sin(p),T.y=n*Math.cos(f),T.z=n*Math.sin(f)*Math.cos(p),T.applyQuaternion(z),e.copy(this.target).add(T),this.object.lookAt(this.target),C=0,I=0,H=1,D.set(0,0,0),(V.distanceToSquared(this.object.position)>1e-7||8*(1-_.dot(this.object.quaternion))>1e-7)&&(!0!==t&&this.dispatchEvent(Y),V.copy(this.object.position),_.copy(this.object.quaternion))},this.reset=function(){F=j.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Y),this.update()},this.getPolarAngle=function(){return f},this.getAzimuthalAngle=function(){return p},this.domElement.addEventListener("mousedown",o,!1),this.domElement.addEventListener("mousewheel",s,!1),this.domElement.addEventListener("DOMMouseScroll",s,!1),this.domElement.addEventListener("touchstart",l,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",u,!1),window.addEventListener("keyup",h,!1),window.addEventListener("keydown",c,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,THREE.DeviceOrientationControls=function(t,e){var i=this,n={type:"change"},o=0,r=0,a=0,s=0;this.camera=t,this.camera.rotation.reorder("YXZ"),this.domElement=void 0!==e?e:document,this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alpha=0,this.alphaOffsetAngle=0;var h=function(t){i.deviceOrientation=t},c=function(){i.screenOrientation=window.orientation||0},l=function(t){t.preventDefault(),t.stopPropagation(),a=t.touches[0].pageX,s=t.touches[0].pageY},u=function(t){t.preventDefault(),t.stopPropagation(),o+=THREE.Math.degToRad((t.touches[0].pageX-a)/4),r+=THREE.Math.degToRad((s-t.touches[0].pageY)/4),i.updateAlphaOffsetAngle(o),a=t.touches[0].pageX,s=t.touches[0].pageY},d=function(t,e,n,o,a){var s,h=new THREE.Vector3(0,0,1),c=new THREE.Euler,l=new THREE.Quaternion,u=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),d=new THREE.Quaternion,p=new THREE.Quaternion;0==i.screenOrientation?(s=new THREE.Vector3(1,0,0),d.setFromAxisAngle(s,-r)):180==i.screenOrientation?(s=new THREE.Vector3(1,0,0),d.setFromAxisAngle(s,r)):90==i.screenOrientation?(s=new THREE.Vector3(0,1,0),d.setFromAxisAngle(s,r)):-90==i.screenOrientation&&(s=new THREE.Vector3(0,1,0),d.setFromAxisAngle(s,-r)),u.multiply(d),u.multiply(p),c.set(n,e,-o,"YXZ"),t.setFromEuler(c),t.multiply(u),t.multiply(l.setFromAxisAngle(h,-a))};this.connect=function(){c(),window.addEventListener("orientationchange",c,!1),window.addEventListener("deviceorientation",h,!1),window.addEventListener("deviceorientation",this.update.bind(this),!1),i.domElement.addEventListener("touchstart",l,!1),i.domElement.addEventListener("touchmove",u,!1),i.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",c,!1),window.removeEventListener("deviceorientation",h,!1),window.removeEventListener("deviceorientation",this.update.bind(this),!1),i.domElement.removeEventListener("touchstart",l,!1),i.domElement.removeEventListener("touchmove",u,!1),i.enabled=!1},this.update=function(t){if(!1!==i.enabled){var e=i.deviceOrientation.alpha?THREE.Math.degToRad(i.deviceOrientation.alpha)+this.alphaOffsetAngle:0,o=i.deviceOrientation.beta?THREE.Math.degToRad(i.deviceOrientation.beta):0,r=i.deviceOrientation.gamma?THREE.Math.degToRad(i.deviceOrientation.gamma):0,a=i.screenOrientation?THREE.Math.degToRad(i.screenOrientation):0;d(i.camera.quaternion,e,o,r,a),this.alpha=e,!0!==t&&this.dispatchEvent(n)}},this.updateAlphaOffsetAngle=function(t){this.alphaOffsetAngle=t,this.update()},this.dispose=function(){this.disconnect()},this.connect()},THREE.DeviceOrientationControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.DeviceOrientationControls.prototype.constructor=THREE.DeviceOrientationControls,THREE.BendModifier=function(){},THREE.BendModifier.prototype={constructor:THREE.BendModifier,set:function(t,e,i){return this.direction=new THREE.Vector3,this.direction.copy(t),this.axis=new THREE.Vector3,this.axis.copy(e),this.angle=i,this},_sign:function(t){return 0>t?-1:0<t?1:0},_cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},_sinhInverse:function(t){return Math.log(Math.abs(t)+Math.sqrt(t*t+1))},modify:function(t){var e=new THREE.Vector3;e.crossVectors(this.direction,this.axis);var i=new THREE.Matrix4;i.set(e.x,e.y,e.z,0,this.direction.x,this.direction.y,this.direction.z,0,this.axis.x,this.axis.y,this.axis.z,0,0,0,0,1).transpose();for(var n=(new THREE.Matrix4).getInverse(i),o=[],r=[],a=[],s=0,h=0,c=0,l=0,u=0;u<t.vertices.length;u++)o[u]=new THREE.Vector3,o[u].copy(t.vertices[u]).applyMatrix4(n),o[u].x>s&&(s=o[u].x),o[u].x<h&&(h=o[u].x),o[u].y>c&&(c=o[u].y),o[u].y<l&&(l=o[u].y);for(var d=s-h,p=c-l,f=2*this._sinhInverse(Math.tan(this.angle))/d,E=(s+h)/2,m=(c+l)/2,u=0;u<t.vertices.length;u++)r[u]=new THREE.Vector3,r[u].copy(o[u]),o[u].x=1*this._sign(o[u].x-E)/f*this._sinhInverse((o[u].x-E)*f);var v=2/f*this._sinhInverse(d/2*f),g=2*this._sinhInverse(Math.tan(this.angle))/v,y=new THREE.Vector3(v/2,-p/2,0);y.y=1/g*this._cosh(g*y.x)-1/g-p/2;for(var N=new THREE.Vector3(0,y.y+y.x/Math.tan(this.angle),0),u=0;u<t.vertices.length;u++){var w=1*this._sign(r[u].x-E)/f*this._sinhInverse((r[u].x-E)*f),A=1/g*this._cosh(g*w)-1/g,L=new THREE.Vector3(N.x-w,N.y-(A-p/2),N.z).normalize(),P=new THREE.Vector3;P.addVectors(new THREE.Vector3(w,A-p/2,r[u].z),L.multiplyScalar(r[u].y+p/2)),o[u].x=P.x,o[u].y=P.y}for(var b=E*v/d,u=0;u<t.vertices.length;u++){var O=new THREE.Vector3(E,m,r[u].z);(new THREE.Vector3).subVectors(r[u],O);(new THREE.Vector3).subVectors(o[u],O),a[u]=Math.acos(1/this._cosh(f*o[u].x))*this._sign(o[u].x),o[u].x=o[u].x+b,t.vertices[u].copy(o[u].applyMatrix4(i))}t.computeFaceNormals(),t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0;for(var S=["a","b","c","d"],T=0,R=t.faces.length;T<R;T++){var x=t.faces[T];if(void 0!==x.vertexNormals)for(var M=0,I=x.vertexNormals.length;M<I;M++){var C=a[x[S[M]]],H=this.axis.x,D=this.axis.y,V=this.axis.z,_=new THREE.Matrix3;_.set(Math.cos(C)+(1-Math.cos(C))*H*H,(1-Math.cos(C))*H*D-Math.sin(C)*V,(1-Math.cos(C))*H*V+Math.sin(C)*D,(1-Math.cos(C))*D*H+Math.sin(C)*V,Math.cos(C)+(1-Math.cos(C))*D*D,(1-Math.cos(C))*D*V-Math.sin(C)*H,(1-Math.cos(C))*V*H-Math.sin(C)*D,(1-Math.cos(C))*V*D+Math.sin(C)*H,Math.cos(C)+(1-Math.cos(C))*V*V),x.vertexNormals[M].applyMatrix3(_)}}return this}},THREE.CardboardEffect=function(t){var e=new THREE.OrthographicCamera(-1,1,1,-1,0,1),i=new THREE.Scene,n=new THREE.StereoCamera;n.aspect=.5;var o={minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat},r=new THREE.WebGLRenderTarget(512,512,o);r.scissorTest=!0,r.texture.generateMipmaps=!1;var a=new THREE.Vector2(.441,.156),s=new THREE.PlaneBufferGeometry(1,1,10,20).removeAttribute("normal").toNonIndexed(),h=s.attributes.position.array,c=s.attributes.uv.array;s.attributes.position.count*=2,s.attributes.uv.count*=2;var l=new Float32Array(2*h.length);l.set(h),l.set(h,h.length);var u=new Float32Array(2*c.length);u.set(c),u.set(c,c.length);for(var d=new THREE.Vector2,p=h.length/3,f=0,E=l.length/3;f<E;f++){d.x=l[3*f+0],d.y=l[3*f+1];var m=d.dot(d),v=1.5+(a.x+a.y*m)*m,g=f<p?0:1;l[3*f+0]=d.x/v*1.5-.5+g,l[3*f+1]=d.y/v*3,u[2*f]=.5*(u[2*f]+g)}s.attributes.position.array=l,s.attributes.uv.array=u;var y=new THREE.MeshBasicMaterial({map:r.texture}),N=new THREE.Mesh(s,y);i.add(N),this.setSize=function(e,i){t.setSize(e,i);var n=t.getPixelRatio();r.setSize(e*n,i*n)},this.render=function(o,a){o.updateMatrixWorld(),null===a.parent&&a.updateMatrixWorld(),n.update(a);var s=r.width/2,h=r.height;r.scissor.set(0,0,s,h),r.viewport.set(0,0,s,h),t.render(o,n.cameraL,r),r.scissor.set(s,0,s,h),r.viewport.set(s,0,s,h),t.render(o,n.cameraR,r),t.render(i,e)}},THREE.StereoEffect=function(t){var e=new THREE.StereoCamera;e.aspect=.5,this.setEyeSeparation=function(t){e.eyeSep=t},this.setSize=function(e,i){t.setSize(e,i)},this.render=function(i,n){i.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),e.update(n);var o=t.getSize();t.autoClear&&t.clear(),t.setScissorTest(!0),t.setScissor(0,0,o.width/2,o.height),t.setViewport(0,0,o.width/2,o.height),t.render(i,e.cameraL),t.setScissor(o.width/2,0,o.width/2,o.height),t.setViewport(o.width/2,0,o.width/2,o.height),t.render(i,e.cameraR),t.setScissorTest(!1)}};var GSVPANO=GSVPANO||{};GSVPANO.PanoLoader=function(t){"use strict";var e,i,n=t||{},o=new google.maps.StreetViewService,r=0,a=0,s=[],h=[],c=0,l=0,u="",d=[1,2,4,7,13,26],p=[1,1,2,4,7,13],f=[416,832,1664,3328,6656,13312],E=[416,416,832,1664,3328,6656],m=null;try{var v=document.createElement("canvas");m=v.getContext("experimental-webgl"),null==m&&(m=v.getContext("webgl"))}catch(t){}var g=1024,y=1024;if(m){var N=Math.max(m.getParameter(m.MAX_TEXTURE_SIZE),6656);g=y=N}this.setProgress=function(t,e){this.onProgress&&this.onProgress({loaded:t,total:e})},this.throwError=function(t){this.onError?this.onError(t):console.error(t)},this.adaptTextureToZoom=function(){var t=416*d[e],i=416*p[e];t=f[e],i=E[e],c=Math.ceil(t/g),l=Math.ceil(i/y),s=[],h=[];for(var n=0,o=0;o<l;o++)for(var r=0;r<c;r++){var a=document.createElement("canvas");a.width=r<c-1?g:t-g*r,a.height=o<l-1?y:i-y*o,s.push(a),h.push(a.getContext("2d")),n++}},this.composeFromTile=function(t,e,i){t*=512,e*=512;var n=Math.floor(t/g),o=Math.floor(e/y);t-=n*g,e-=o*y,h[o*c+n].drawImage(i,0,0,i.width,i.height,t,e,512,512),this.progress()},this.progress=function(){r++;Math.round(100*r/a);this.setProgress(r,a),r===a&&(this.canvas=s,this.panoId=i,this.zoom=e,this.onPanoramaLoad&&this.onPanoramaLoad(s[0]))},this.loadFromId=function(t){i=t,this.composePanorama()},this.composePanorama=function(){this.setProgress(0,1);var t,o,s,h=d[e],c=p[e],l=this;r=0,a=h*c;for(var u=new THREE.TextureLoader,l=this,s=0;s<c;s++)for(var o=0;o<h;o++){var t="https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom="+e+"&x="+o+"&y="+s+"&panoid="+i+"&nbt&fover=2";!function(e,i){if(n.useWebGL)var o=u.load(t,null,function(){l.composeFromTile(e,i,o)});else{var r=new Image;r.addEventListener("load",function(){l.composeFromTile(e,i,this)}),r.crossOrigin="",r.src=t}}(o,s)}},this.load=function(t){this.loadPano(t)},this.loadPano=function(t){var e=this;o.getPanoramaById(t,function(t,n){n===google.maps.StreetViewStatus.OK?(e.result=t,e.onPanoramaData&&e.onPanoramaData(t),u=t.copyright,e.copyright=t.copyright,i=t.location.pano,e.location=location,e.composePanorama()):(e.onNoPanoramaData&&e.onNoPanoramaData(n),e.throwError("Could not retrieve panorama for the following reason: "+n))})},this.setZoom=function(t){e=t,this.adaptTextureToZoom()},this.setZoom(n.zoom||1)},function(){"use strict";PANOLENS.DataImageSource="https://pchen66.github.io/Panolens/asset/icon/",PANOLENS.DataImage={Info:PANOLENS.DataImageSource+"information.png",Arrow:PANOLENS.DataImageSource+"arrow-up.png",FullscreenEnter:PANOLENS.DataImageSource+"fullscreen.png",FullscreenLeave:PANOLENS.DataImageSource+"fullscreen-exit.png",VideoPlay:PANOLENS.DataImageSource+"video-play.png",VideoPause:PANOLENS.DataImageSource+"pause.png",WhiteTile:PANOLENS.DataImageSource+"tiles.png",ReticleIdle:PANOLENS.DataImageSource+"reticle-idle.png",Setting:PANOLENS.DataImageSource+"setting.png",ChevronRight:PANOLENS.DataImageSource+"chevron-right.png",Check:PANOLENS.DataImageSource+"check.png",ViewIndicator:PANOLENS.DataImageSource+"view-indicator.svg",ReticleDwell:PANOLENS.DataImageSource+"reticle-animation.png"}}(),function(){"use strict";PANOLENS.Controls={ORBIT:0,DEVICEORIENTATION:1},PANOLENS.Modes={UNKNOWN:0,NORMAL:1,CARDBOARD:2,STEREO:3}}(),function(){"use strict";PANOLENS.Utils={},PANOLENS.Utils.checkTouchSupported=function(){return!!window&&("ontouchstart"in window||window.navigator.msMaxTouchPoints)},PANOLENS.Utils.isIOS=!!window&&/iPhone|iPad|iPod/i.test(window.navigator.userAgent),PANOLENS.Utils.isAndroid=!!window&&/Android/i.test(window.navigator.userAgent),PANOLENS.Utils.isMobile=!!window&&(PANOLENS.Utils.isIOS||PANOLENS.Utils.isAndroid||/BlackBerry|Opera Mini|IEMobile/i.test(window.navigator.userAgent))}(),function(){"use strict";PANOLENS.Utils.ImageLoader={},PANOLENS.Utils.ImageLoader.load=function(t,e,i,n){function o(){c.revokeObjectURL(l.src),e&&e(l)}var r,a,s,h,c,l,u;for(var d in PANOLENS.DataImage)PANOLENS.DataImage.hasOwnProperty(d)&&t===PANOLENS.DataImage[d]&&(u=d);return void 0!==(r=THREE.Cache.get(u||t))?(e&&setTimeout(function(){i&&i({loaded:1,total:1}),e(r)},0),r):(c=window.URL||window.webkitURL,l=document.createElementNS("http://www.w3.org/1999/xhtml","img"),THREE.Cache.add(u||t,l),0===t.indexOf("data:")?(l.addEventListener("load",o,!1),l.src=t,l):(l.crossOrigin=void 0!==this.crossOrigin?this.crossOrigin:"",a=new XMLHttpRequest,a.open("GET",t,!0),a.responseType="arraybuffer",a.onprogress=function(t){t.lengthComputable&&i&&i({loaded:t.loaded,total:t.total})},a.onloadend=function(t){s=new Uint8Array(this.response),h=new Blob([s]),l.addEventListener("load",o,!1),l.src=c.createObjectURL(h)},void a.send(null)))},THREE.Cache.enabled=!0}(),function(){"use strict";PANOLENS.Utils.TextureLoader={},PANOLENS.Utils.TextureLoader.load=function(t,e,i,n){var o=new THREE.Texture;return PANOLENS.Utils.ImageLoader.load(t,function(i){o.image=i;var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?THREE.RGBFormat:THREE.RGBAFormat,o.needsUpdate=!0,e&&e(o)},i,n),o}}(),function(){"use strict";PANOLENS.Utils.CubeTextureLoader={},PANOLENS.Utils.CubeTextureLoader.load=function(t,e,i,n){var o,r,a,s,h;return o=new THREE.CubeTexture([]),r=0,a={},s={},t.map(function(t,c){PANOLENS.Utils.ImageLoader.load(t,function(t){o.images[c]=t,6===++r&&(o.needsUpdate=!0,e&&e(o))},function(t){a[c]={loaded:t.loaded,total:t.total},s.loaded=0,s.total=0,h=0;for(var e in a)h++,s.loaded+=a[e].loaded,s.total+=a[e].total;h<6&&(s.total=s.total/h*6),i&&i(s)},n)}),o}}(),PANOLENS.StereographicShader={uniforms:{tDiffuse:{value:new THREE.Texture},resolution:{value:1},transform:{value:new THREE.Matrix4},zoom:{value:1}},
vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float resolution;","uniform mat4 transform;","uniform float zoom;","varying vec2 vUv;","const float PI = 3.141592653589793;","void main(){","vec2 position = -1.0 +  2.0 * vUv;","position *= vec2( zoom * resolution, zoom * 0.5 );","float x2y2 = position.x * position.x + position.y * position.y;","vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );","sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );","vec2 sampleUV = vec2(","(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,","(asin(sphere_pnt.z) / PI + 0.5)",");","gl_FragColor = texture2D( tDiffuse, sampleUV );","}"].join("\n")},function(){"use strict";PANOLENS.Panorama=function(t,e){THREE.Mesh.call(this),this.type="panorama",this.ImageQualityLow=1,this.ImageQualityFair=2,this.ImageQualityMedium=3,this.ImageQualityHigh=4,this.ImageQualitySuperHigh=5,this.animationDuration=1e3,this.defaultInfospotSize=350,this.container=void 0,this.loaded=!1,this.linkedSpots=[],this.isInfospotVisible=!1,this.linkingImageURL=void 0,this.linkingImageScale=void 0,this.geometry=t,this.material=e,this.material.side=THREE.BackSide,this.material.visible=!1,this.scale.x*=-1,this.infospotAnimation=new TWEEN.Tween(this).to({},this.animationDuration/2),this.addEventListener("load",this.fadeIn.bind(this)),this.addEventListener("panolens-container",this.setContainer.bind(this)),this.addEventListener("click",this.onClick.bind(this)),this.setupTransitions()},PANOLENS.Panorama.prototype=Object.create(THREE.Mesh.prototype),PANOLENS.Panorama.prototype.constructor=PANOLENS.Panorama,PANOLENS.Panorama.prototype.add=function(t){var e,i;if(e=this,arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t instanceof PANOLENS.Infospot?(i=t,t.dispatchEvent&&(this.container&&t.dispatchEvent({type:"panolens-container",container:this.container}),t.dispatchEvent({type:"panolens-infospot-focus",method:function(t,i,n){e.dispatchEvent({type:"panolens-viewer-handler",method:"tweenControlCenter",data:[t,i,n]})}}))):(i=new THREE.Object3D,i.scale.x=-1,i.scalePlaceHolder=!0,i.add(t)),THREE.Object3D.prototype.add.call(this,i)},PANOLENS.Panorama.prototype.load=function(){this.onLoad()},PANOLENS.Panorama.prototype.onClick=function(t){t.intersects&&0===t.intersects.length&&this.traverse(function(t){t.dispatchEvent({type:"dismiss"})})},PANOLENS.Panorama.prototype.setContainer=function(t){var e;t instanceof HTMLElement?e=t:t&&t.container&&(e=t.container),e&&(this.children.forEach(function(t){t instanceof PANOLENS.Infospot&&t.dispatchEvent&&t.dispatchEvent({type:"panolens-container",container:e})}),this.container=e)},PANOLENS.Panorama.prototype.onLoad=function(){onLoadVideo();this.loaded=!0,this.dispatchEvent({type:"load"})},PANOLENS.Panorama.prototype.onProgress=function(t){this.dispatchEvent({type:"progress",progress:t})},PANOLENS.Panorama.prototype.onError=function(){this.dispatchEvent({type:"error"})},PANOLENS.Panorama.prototype.getZoomLevel=function(){return window.innerWidth<=800?this.ImageQualityFair:window.innerWidth>800&&window.innerWidth<=1280?this.ImageQualityMedium:window.innerWidth>1280&&window.innerWidth<=1920?this.ImageQualityHigh:window.innerWidth>1920?this.ImageQualitySuperHigh:this.ImageQualityLow},PANOLENS.Panorama.prototype.updateTexture=function(t){this.material.map=t,this.material.needsUpdate=!0},PANOLENS.Panorama.prototype.toggleInfospotVisibility=function(t,e){e=void 0!==e?e:0;var i,n;i=this,n=void 0!==t?t:!this.isInfospotVisible,this.traverse(function(t){t instanceof PANOLENS.Infospot&&(n?t.show(e):t.hide(e))}),this.isInfospotVisible=n,this.infospotAnimation.onComplete(function(){i.dispatchEvent({type:"infospot-animation-complete",visible:n})}).delay(e).start()},PANOLENS.Panorama.prototype.setLinkingImage=function(t,e){this.linkingImageURL=t,this.linkingImageScale=e},PANOLENS.Panorama.prototype.link=function(t,e,i,n){var o,r,a,s=this;if(this.visible=!0,!e)return void console.warn("Please specify infospot position for linking");r=void 0!==i?i:void 0!==t.linkingImageScale?t.linkingImageScale:300,a=n||(t.linkingImageURL?t.linkingImageURL:PANOLENS.DataImage.Arrow),o=new PANOLENS.Infospot(r,a),o.position.copy(e),o.toPanorama=t,o.addEventListener("click",function(){s.dispatchEvent({type:"panolens-viewer-handler",method:"setPanorama",data:t})}),this.linkedSpots.push(o),this.add(o),this.visible=!1},PANOLENS.Panorama.prototype.reset=function(){this.children.length=0},PANOLENS.Panorama.prototype.setupTransitions=function(){this.fadeInAnimation=new TWEEN.Tween(this.material).easing(TWEEN.Easing.Quartic.Out).onStart(function(){this.visible=!0,this.material.visible=!0,this.dispatchEvent({type:"enter-fade-start"})}.bind(this)),this.fadeOutAnimation=new TWEEN.Tween(this.material).easing(TWEEN.Easing.Quartic.Out).onComplete(function(){this.visible=!1,this.material.visible=!0,this.dispatchEvent({type:"leave-complete"})}.bind(this)),this.enterTransition=new TWEEN.Tween(this).easing(TWEEN.Easing.Quartic.Out).onComplete(function(){this.dispatchEvent({type:"enter-animation-complete"})}.bind(this)).start(),this.leaveTransition=new TWEEN.Tween(this).easing(TWEEN.Easing.Quartic.Out)},PANOLENS.Panorama.prototype.fadeIn=function(t){t=t>=0?t:this.animationDuration,this.fadeOutAnimation.stop(),this.fadeInAnimation.to({opacity:1},t).onComplete(function(){this.toggleInfospotVisibility(!0,t/2),this.dispatchEvent({type:"enter-fade-complete"})}.bind(this)).start()},PANOLENS.Panorama.prototype.fadeOut=function(t){t=t>=0?t:this.animationDuration,this.fadeInAnimation.stop(),this.fadeOutAnimation.to({opacity:0},t).start()},PANOLENS.Panorama.prototype.onEnter=function(){var t=this.animationDuration;this.leaveTransition.stop(),this.enterTransition.to({},t).onStart(function(){this.dispatchEvent({type:"enter-animation-start"}),this.loaded?this.fadeIn(t):this.load()}.bind(this)).start(),this.dispatchEvent({type:"enter"})},PANOLENS.Panorama.prototype.onLeave=function(){var t=this.animationDuration;this.enterTransition.stop(),this.leaveTransition.to({},t).onStart(function(){this.dispatchEvent({type:"leave-animation-start"}),this.fadeOut(t),this.toggleInfospotVisibility(!1)}.bind(this)).start(),this.dispatchEvent({type:"leave"})},PANOLENS.Panorama.prototype.dispose=function(){function t(e){for(var i=e.children.length-1;i>=0;i--)t(e.children[i]),e.remove(e.children[i]);e instanceof PANOLENS.Infospot&&e.dispose(),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}this.dispatchEvent({type:"panolens-viewer-handler",method:"onPanoramaDispose",data:this}),t(this),this.parent&&this.parent.remove(this)}}(),function(){"use strict";PANOLENS.ImagePanorama=function(t,e){e=e||5e3;var i=new THREE.SphereBufferGeometry(e,60,40),n=new THREE.MeshBasicMaterial({opacity:0,transparent:!0});PANOLENS.Panorama.call(this,i,n),this.src=t},PANOLENS.ImagePanorama.prototype=Object.create(PANOLENS.Panorama.prototype),PANOLENS.ImagePanorama.prototype.constructor=PANOLENS.ImagePanorama,PANOLENS.ImagePanorama.prototype.load=function(t){if(!(t=t||this.src))return void console.warn("Image source undefined");"string"==typeof t?PANOLENS.Utils.TextureLoader.load(t,this.onLoad.bind(this),this.onProgress.bind(this),this.onError.bind(this)):t instanceof HTMLImageElement&&this.onLoad(new THREE.Texture(t))},PANOLENS.ImagePanorama.prototype.onLoad=function(t){t.minFilter=t.magFilter=THREE.LinearFilter,t.needsUpdate=!0,this.updateTexture(t),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){PANOLENS.Panorama.prototype.onLoad.call(this)}.bind(this))}.bind(this))},PANOLENS.ImagePanorama.prototype.reset=function(){PANOLENS.Panorama.prototype.reset.call(this)},PANOLENS.ImagePanorama.prototype.dispose=function(){THREE.Cache.remove(this.src),this.material.map&&this.material.map.dispose(),PANOLENS.Panorama.prototype.dispose.call(this)}}(),function(){"use strict";PANOLENS.GoogleStreetviewPanorama=function(t,e){PANOLENS.ImagePanorama.call(this,void 0,e),this.panoId=t,this.gsvLoader=void 0,this.loadRequested=!1,this.setupGoogleMapAPI()},PANOLENS.GoogleStreetviewPanorama.prototype=Object.create(PANOLENS.ImagePanorama.prototype),PANOLENS.GoogleStreetviewPanorama.constructor=PANOLENS.GoogleStreetviewPanorama,PANOLENS.GoogleStreetviewPanorama.prototype.load=function(t){this.loadRequested=!0,t=t||this.panoId||{},t&&this.gsvLoader?this.loadGSVLoader(t):this.gsvLoader={}},PANOLENS.GoogleStreetviewPanorama.prototype.setupGoogleMapAPI=function(){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js",t.onreadystatechange=this.setGSVLoader.bind(this),t.onload=this.setGSVLoader.bind(this),document.getElementsByTagName("head")[0].appendChild(t)},PANOLENS.GoogleStreetviewPanorama.prototype.setGSVLoader=function(){this.gsvLoader=new GSVPANO.PanoLoader,(this.gsvLoader==={}||this.loadRequested)&&this.load()},PANOLENS.GoogleStreetviewPanorama.prototype.getGSVLoader=function(){return this.gsvLoader},PANOLENS.GoogleStreetviewPanorama.prototype.loadGSVLoader=function(t){this.loadRequested=!1,this.gsvLoader.onProgress=this.onProgress.bind(this),this.gsvLoader.onPanoramaLoad=this.onLoad.bind(this),this.gsvLoader.setZoom(this.getZoomLevel()),this.gsvLoader.load(t),this.gsvLoader.loaded=!0},PANOLENS.GoogleStreetviewPanorama.prototype.onLoad=function(t){this.gsvLoader&&PANOLENS.ImagePanorama.prototype.onLoad.call(this,new THREE.Texture(t))},PANOLENS.GoogleStreetviewPanorama.prototype.reset=function(){this.gsvLoader=void 0,PANOLENS.ImagePanorama.prototype.reset.call(this)}}(),function(){"use strict";PANOLENS.CubePanorama=function(t,e){var i,n,o;this.images=t||[],e=e||1e4,i=JSON.parse(JSON.stringify(THREE.ShaderLib.cube)),n=new THREE.BoxBufferGeometry(e,e,e),o=new THREE.ShaderMaterial({fragmentShader:i.fragmentShader,vertexShader:i.vertexShader,uniforms:i.uniforms,side:THREE.BackSide}),PANOLENS.Panorama.call(this,n,o)},PANOLENS.CubePanorama.prototype=Object.create(PANOLENS.Panorama.prototype),PANOLENS.CubePanorama.prototype.constructor=PANOLENS.CubePanorama,PANOLENS.CubePanorama.prototype.load=function(){PANOLENS.Utils.CubeTextureLoader.load(this.images,this.onLoad.bind(this),this.onProgress.bind(this),this.onError.bind(this))},PANOLENS.CubePanorama.prototype.onLoad=function(t){this.material.uniforms.tCube.value=t,PANOLENS.Panorama.prototype.onLoad.call(this)},PANOLENS.CubePanorama.prototype.dispose=function(){this.images.forEach(function(t){THREE.Cache.remove(t)}),this.material.uniforms.tCube&&this.material.uniforms.tCube.value.dispose(),PANOLENS.Panorama.prototype.dispose.call(this)}}(),function(){"use strict";PANOLENS.BasicPanorama=function(t){var e=PANOLENS.DataImage.WhiteTile;PANOLENS.CubePanorama.call(this,[e,e,e,e,e,e],t)},PANOLENS.BasicPanorama.prototype=Object.create(PANOLENS.CubePanorama.prototype),PANOLENS.BasicPanorama.prototype.constructor=PANOLENS.BasicPanorama}(),function(){"use strict";PANOLENS.VideoPanorama=function(t,e,i){i=i||5e3;var n=new THREE.SphereBufferGeometry(i,60,40),o=new THREE.MeshBasicMaterial({opacity:0,transparent:!0});PANOLENS.Panorama.call(this,n,o),this.src=t,this.options=e||{},this.options.playsinline=!1!==this.options.playsinline,this.videoElement=void 0,this.videoProgress=0,this.isIOS=PANOLENS.Utils.isIOS,this.isMobile=PANOLENS.Utils.isMobile,this.addEventListener("leave",this.pauseVideo.bind(this)),this.addEventListener("enter-fade-start",this.resumeVideoProgress.bind(this)),this.addEventListener("video-toggle",this.toggleVideo.bind(this)),this.addEventListener("video-time",this.setVideoCurrentTime.bind(this))},PANOLENS.VideoPanorama.prototype=Object.create(PANOLENS.Panorama.prototype),PANOLENS.VideoPanorama.constructor=PANOLENS.VideoPanorama,PANOLENS.VideoPanorama.prototype.load=function(t,e){var i=this;t=t||this.src||"",e=e||this.options||{},this.videoElement=e.videoElement||document.createElement("video"),this.videoElement.muted=e.muted||!1,this.videoElement.loop=void 0===e.loop||e.loop,this.videoElement.autoplay=void 0!==e.autoplay&&e.autoplay,this.videoElement.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",e.playsinline&&(this.videoElement.setAttribute("playsinline",""),this.videoElement.setAttribute("webkit-playsinline",""));var n=function(){i.setVideoTexture(i.videoElement),i.videoElement.autoplay&&i.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1}),i.isMobile&&(i.videoElement.pause(),i.videoElement.autoplay&&i.videoElement.muted?i.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1}):i.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0})),setTimeout(function(){i.material.map.needsUpdate=!0,i.onProgress({loaded:1,total:1}),i.onLoad()},0)};this.videoElement.readyState>2?n():(this.videoElement.querySelectorAll("source").length&&this.videoElement.src||(this.videoElement.src=t),this.videoElement.load()),this.videoElement.onloadeddata=n,this.videoElement.ontimeupdate=function(t){i.videoProgress=this.duration>=0?this.currentTime/this.duration:0,i.dispatchEvent({type:"panolens-viewer-handler",method:"onVideoUpdate",data:i.videoProgress})},this.videoElement.addEventListener("ended",function(){i.options.loop||(i.resetVideo(),i.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0}))},!1)},PANOLENS.VideoPanorama.prototype.setVideoTexture=function(t){var e;t&&(e=new THREE.VideoTexture(t),e.minFilter=THREE.LinearFilter,e.magFilter=THREE.LinearFilter,e.format=THREE.RGBFormat,this.isIOS&&enableInlineVideo(t),this.updateTexture(e))},PANOLENS.VideoPanorama.prototype.reset=function(){this.videoElement=void 0,PANOLENS.Panorama.prototype.reset.call(this)},PANOLENS.VideoPanorama.prototype.isVideoPaused=function(){return this.videoElement.paused},PANOLENS.VideoPanorama.prototype.toggleVideo=function(){this.videoElement&&(this.isVideoPaused()?this.videoElement.play():this.videoElement.pause())},PANOLENS.VideoPanorama.prototype.setVideoCurrentTime=function(t){this.videoElement&&!Number.isNaN(t.percentage)&&1!==t.percentage&&(this.videoElement.currentTime=this.videoElement.duration*t.percentage,this.dispatchEvent({type:"panolens-viewer-handler",method:"onVideoUpdate",data:t.percentage}))},PANOLENS.VideoPanorama.prototype.playVideo=function(){this.videoElement&&this.isVideoPaused()&&this.videoElement.play(),this.dispatchEvent({type:"play"})},PANOLENS.VideoPanorama.prototype.pauseVideo=function(){this.videoElement&&!this.isVideoPaused()&&this.videoElement.pause(),this.dispatchEvent({type:"pause"})},PANOLENS.VideoPanorama.prototype.resumeVideoProgress=function(){this.videoElement.autoplay&&!this.isMobile?(this.playVideo(),this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!1})):(this.pauseVideo(),this.dispatchEvent({type:"panolens-viewer-handler",method:"updateVideoPlayButton",data:!0})),this.setVideoCurrentTime({percentage:this.videoProgress})},PANOLENS.VideoPanorama.prototype.resetVideo=function(){this.videoElement&&this.setVideoCurrentTime({percentage:0})},PANOLENS.VideoPanorama.prototype.isVideoMuted=function(){return this.videoElement.muted},PANOLENS.VideoPanorama.prototype.muteVideo=function(){this.videoElement&&!this.isVideoMuted()&&(this.videoElement.muted=!0),this.dispatchEvent({type:"volumechange"})},PANOLENS.VideoPanorama.prototype.unmuteVideo=function(){this.videoElement&&this.isVideoMuted()&&(this.videoElement.muted=!1),this.dispatchEvent({type:"volumechange"})},PANOLENS.VideoPanorama.prototype.getVideoElement=function(){return this.videoElement},PANOLENS.VideoPanorama.prototype.dispose=function(){this.resetVideo(),this.pauseVideo(),this.removeEventListener("leave",this.pauseVideo.bind(this)),this.removeEventListener("enter-fade-start",this.resumeVideoProgress.bind(this)),this.removeEventListener("video-toggle",this.toggleVideo.bind(this)),this.removeEventListener("video-time",this.setVideoCurrentTime.bind(this)),this.material.map&&this.material.map.dispose(),PANOLENS.Panorama.prototype.dispose.call(this)}}(),function(){"use strict";PANOLENS.EmptyPanorama=function(t){t=t||5e3;var e=new THREE.BufferGeometry,i=new THREE.MeshBasicMaterial({color:0,opacity:1,transparent:!0});PANOLENS.Panorama.call(this,e,i)},PANOLENS.EmptyPanorama.prototype=Object.create(PANOLENS.Panorama.prototype),PANOLENS.EmptyPanorama.prototype.constructor=PANOLENS.EmptyPanorama}(),function(){PANOLENS.LittlePlanet=function(t,e,i,n){t=t||"image","image"===t&&PANOLENS.ImagePanorama.call(this,e,i),this.size=i||1e4,this.ratio=n||.5,this.EPS=1e-6,this.frameId,this.geometry=this.createGeometry(),this.material=this.createMaterial(this.size),this.dragging=!1,this.userMouse=new THREE.Vector2,this.quatA=new THREE.Quaternion,this.quatB=new THREE.Quaternion,this.quatCur=new THREE.Quaternion,this.quatSlerp=new THREE.Quaternion,this.vectorX=new THREE.Vector3(1,0,0),this.vectorY=new THREE.Vector3(0,1,0),this.addEventListener("window-resize",this.onWindowResize)},PANOLENS.LittlePlanet.prototype=Object.create(PANOLENS.ImagePanorama.prototype),PANOLENS.LittlePlanet.prototype.constructor=PANOLENS.LittlePlanet,PANOLENS.LittlePlanet.prototype.createGeometry=function(){return new THREE.PlaneBufferGeometry(this.size,this.size*this.ratio)},PANOLENS.LittlePlanet.prototype.createMaterial=function(t){var e=PANOLENS.StereographicShader,i=e.uniforms;return i.zoom.value=t,new THREE.ShaderMaterial({uniforms:i,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:THREE.BackSide})},PANOLENS.LittlePlanet.prototype.registerMouseEvents=function(){this.container.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.container.addEventListener("mousemove",this.onMouseMove.bind(this),!1),this.container.addEventListener("mouseup",this.onMouseUp.bind(this),!1),this.container.addEventListener("touchstart",this.onMouseDown.bind(this),!1),this.container.addEventListener("touchmove",this.onMouseMove.bind(this),!1),this.container.addEventListener("touchend",this.onMouseUp.bind(this),!1),this.container.addEventListener("mousewheel",this.onMouseWheel.bind(this),!1),this.container.addEventListener("DOMMouseScroll",this.onMouseWheel.bind(this),!1),this.container.addEventListener("contextmenu",this.onContextMenu.bind(this),!1)},PANOLENS.LittlePlanet.prototype.unregisterMouseEvents=function(){this.container.removeEventListener("mousedown",this.onMouseDown.bind(this),!1),this.container.removeEventListener("mousemove",this.onMouseMove.bind(this),!1),this.container.removeEventListener("mouseup",this.onMouseUp.bind(this),!1),this.container.removeEventListener("touchstart",this.onMouseDown.bind(this),!1),this.container.removeEventListener("touchmove",this.onMouseMove.bind(this),!1),this.container.removeEventListener("touchend",this.onMouseUp.bind(this),!1),this.container.removeEventListener("mousewheel",this.onMouseWheel.bind(this),!1),this.container.removeEventListener("DOMMouseScroll",this.onMouseWheel.bind(this),!1),this.container.removeEventListener("contextmenu",this.onContextMenu.bind(this),!1)},PANOLENS.LittlePlanet.prototype.onMouseDown=function(t){var e=t.clientX>=0?t.clientX:t.touches[0].clientX,i=t.clientY>=0?t.clientY:t.touches[0].clientY;switch(t.touches&&t.touches.length||1){case 1:this.dragging=!0,this.userMouse.set(e,i);break;case 2:var n=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(n*n+o*o);this.userMouse.pinchDistance=r}this.onUpdateCallback()},PANOLENS.LittlePlanet.prototype.onMouseMove=function(t){var e=t.clientX>=0?t.clientX:t.touches[0].clientX,i=t.clientY>=0?t.clientY:t.touches[0].clientY;switch(t.touches&&t.touches.length||1){case 1:var n=.4*THREE.Math.degToRad(e-this.userMouse.x),o=.4*THREE.Math.degToRad(i-this.userMouse.y);this.dragging&&(this.quatA.setFromAxisAngle(this.vectorY,n),this.quatB.setFromAxisAngle(this.vectorX,o),this.quatCur.multiply(this.quatA).multiply(this.quatB),this.userMouse.set(e,i));break;case 2:var r=t.touches[0].pageX-t.touches[1].pageX,a=t.touches[0].pageY-t.touches[1].pageY,s=Math.sqrt(r*r+a*a);this.addZoomDelta(this.userMouse.pinchDistance-s)}},PANOLENS.LittlePlanet.prototype.onMouseUp=function(t){this.dragging=!1},PANOLENS.LittlePlanet.prototype.onMouseWheel=function(t){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),this.addZoomDelta(e),this.onUpdateCallback()},PANOLENS.LittlePlanet.prototype.addZoomDelta=function(t){var e=this.material.uniforms,i=.1*this.size,n=10*this.size;e.zoom.value+=t,e.zoom.value<=i?e.zoom.value=i:e.zoom.value>=n&&(e.zoom.value=n)},PANOLENS.LittlePlanet.prototype.onUpdateCallback=function(){this.frameId=window.requestAnimationFrame(this.onUpdateCallback.bind(this)),this.quatSlerp.slerp(this.quatCur,.1),this.material.uniforms.transform.value.makeRotationFromQuaternion(this.quatSlerp),!this.dragging&&1-this.quatSlerp.clone().dot(this.quatCur)<this.EPS&&window.cancelAnimationFrame(this.frameId)},PANOLENS.LittlePlanet.prototype.reset=function(){this.quatCur.set(0,0,0,1),this.quatSlerp.set(0,0,0,1),this.onUpdateCallback()},PANOLENS.LittlePlanet.prototype.onLoad=function(){this.material.uniforms.resolution.value=this.container.clientWidth/this.container.clientHeight,this.registerMouseEvents(),this.onUpdateCallback(),this.dispatchEvent({type:"panolens-viewer-handler",method:"disableControl"})},PANOLENS.LittlePlanet.prototype.onLeave=function(){this.unregisterMouseEvents(),this.dispatchEvent({type:"panolens-viewer-handler",method:"enableControl",data:PANOLENS.Controls.ORBIT}),window.cancelAnimationFrame(this.frameId),PANOLENS.Panorama.prototype.onLeave.call(this)},PANOLENS.LittlePlanet.prototype.onWindowResize=function(){this.material.uniforms.resolution.value=this.container.clientWidth/this.container.clientHeight},PANOLENS.LittlePlanet.prototype.onContextMenu=function(){this.dragging=!1},PANOLENS.LittlePlanet.prototype.dispose=function(){PANOLENS.ImagePanorama.prototype.dispose.call(this)}}(),function(){PANOLENS.ImageLittlePlanet=function(t,e,i){PANOLENS.LittlePlanet.call(this,"image",t,e,i)},PANOLENS.ImageLittlePlanet.prototype=Object.create(PANOLENS.LittlePlanet.prototype),PANOLENS.ImageLittlePlanet.prototype.constructor=PANOLENS.ImageLittlePlanet,PANOLENS.ImageLittlePlanet.prototype.onLoad=function(t){this.updateTexture(t),PANOLENS.ImagePanorama.prototype.onLoad.call(this,t),PANOLENS.LittlePlanet.prototype.onLoad.call(this)},PANOLENS.ImageLittlePlanet.prototype.updateTexture=function(t){t.minFilter=t.magFilter=THREE.LinearFilter,this.material.uniforms.tDiffuse.value=t},PANOLENS.ImageLittlePlanet.prototype.dispose=function(){this.material.uniforms.tDiffuse&&this.material.uniforms.tDiffuse.value.dispose(),PANOLENS.LittlePlanet.prototype.dispose.call(this)}}(),function(){PANOLENS.Reticle=function(t,e,i,n,o,r){t=t||16777215,this.autoSelect=void 0==e||e,this.dwellTime=o||1500,this.dwellSpriteAmount=r||45,this.dwellInterval=this.dwellTime/this.dwellSpriteAmount,this.IDLE=0,this.DWELLING=1,this.status,this.scaleIdle=new THREE.Vector3(.2,.2,1),this.scaleDwell=new THREE.Vector3(1,.8,1),this.textureLoaded=!1,this.idleImageUrl=i||PANOLENS.DataImage.ReticleIdle,this.dwellImageUrl=n||PANOLENS.DataImage.ReticleDwell,this.idleTexture=new THREE.Texture,this.dwellTexture=new THREE.Texture,THREE.Sprite.call(this,new THREE.SpriteMaterial({color:t,depthTest:!1})),this.currentTile=0,this.startTime=0,this.visible=!1,this.renderOrder=10,this.timerId,this.updateStatus(this.IDLE)},PANOLENS.Reticle.prototype=Object.create(THREE.Sprite.prototype),PANOLENS.Reticle.prototype.constructor=PANOLENS.Reticle,PANOLENS.Reticle.prototype.show=function(){this.visible=!0},PANOLENS.Reticle.prototype.hide=function(){this.visible=!1},PANOLENS.Reticle.prototype.loadTextures=function(){this.idleTexture=PANOLENS.Utils.TextureLoader.load(this.idleImageUrl),this.dwellTexture=PANOLENS.Utils.TextureLoader.load(this.dwellImageUrl),this.material.map=this.idleTexture,this.setupDwellSprite(this.dwellTexture),this.textureLoaded=!0},PANOLENS.Reticle.prototype.select=function(t){performance.now()-this.startTime>=this.dwellTime?(this.completeDwelling(),t()):this.autoSelect&&(this.updateDwelling(performance.now()),this.timerId=window.requestAnimationFrame(this.select.bind(this,t)))},PANOLENS.Reticle.prototype.clearTimer=function(){window.cancelAnimationFrame(this.timerId),this.timerId=null},PANOLENS.Reticle.prototype.setupDwellSprite=function(t){t.wrapS=THREE.RepeatWrapping,t.repeat.set(1/this.dwellSpriteAmount,1)},PANOLENS.Reticle.prototype.updateStatus=function(t){this.status=t,t===this.IDLE?(this.scale.copy(this.scaleIdle),this.material.map=this.idleTexture):t===this.DWELLING&&(this.scale.copy(this.scaleDwell),this.material.map=this.dwellTexture),this.currentTile=0,this.material.map.offset.x=0},PANOLENS.Reticle.prototype.startDwelling=function(t){this.autoSelect&&(this.startTime=performance.now(),this.updateStatus(this.DWELLING),this.select(t))},PANOLENS.Reticle.prototype.updateDwelling=function(t){var e=t-this.startTime;this.currentTile<=this.dwellSpriteAmount?(this.currentTile=Math.floor(e/this.dwellTime*this.dwellSpriteAmount),this.material.map.offset.x=this.currentTile/this.dwellSpriteAmount):this.updateStatus(this.IDLE)},PANOLENS.Reticle.prototype.cancelDwelling=function(){this.clearTimer(),this.updateStatus(this.IDLE)},PANOLENS.Reticle.prototype.completeDwelling=function(){this.clearTimer(),this.updateStatus(this.IDLE)}}(),function(){PANOLENS.Tile=function(t,e,i,n,o,r,a){this.parameters={width:t,height:e,widthSegments:i,heightSegments:n,forceDirection:o,forceAxis:r,forceAngle:a},t=t||10,e=e||5,i=i||1,n=n||1,o=o||new THREE.Vector3(0,0,1),r=r||new THREE.Vector3(0,1,0),a=void 0!==a?a:0,THREE.Mesh.call(this,new THREE.PlaneGeometry(t,e,i,n),new THREE.MeshBasicMaterial({color:16777215,transparent:!0})),this.bendModifier=new THREE.BendModifier,this.entity=void 0,this.animationDuration=500,this.animationFadeOut=void 0,this.animationFadeIn=void 0,this.animationTranslation=void 0,this.tweens={},0!==a&&this.bend(o,r,a),this.originalGeometry=this.geometry.clone()},PANOLENS.Tile.prototype=Object.create(THREE.Mesh.prototype),PANOLENS.Tile.prototype.constructor=PANOLENS.Tile,PANOLENS.Tile.prototype.clone=function(){var t,e=this.parameters;return t=new PANOLENS.Tile(e.width,e.height,e.widthSegments,e.heightSegments,e.forceDirection,e.forceAxis,e.forceAngle),t.setEntity(this.entity),t.material=this.material.clone(),t},PANOLENS.Tile.prototype.bend=function(t,e,i){this.bendModifier.set(t,e,i).modify(this.geometry)},PANOLENS.Tile.prototype.unbend=function(){var t=this.geometry;this.geometry=this.originalGeometry,this.originalGeometry=this.geometry.clone(),t.dispose(),t=null},PANOLENS.Tile.prototype.tween=function(t,e,i,n,o,r,a,s,h){return e=e||this,i=i||{},n=n||this.animationDuration,o=o||TWEEN.Easing.Exponential.Out,r=void 0!==r?r:0,a=a||null,s=s||null,h=h||null,this.tweens[t]||(this.tweens[t]=new TWEEN.Tween(e).to(i,n).easing(o).delay(r).onStart(a).onUpdate(s).onComplete(h)),this.tweens[t]},PANOLENS.Tile.prototype.ripple=function(t,e,i){t=t||2,e=e||200,i=i||TWEEN.Easing.Cubic.Out;var n=this,o=this.clone();new TWEEN.Tween(o.scale).to({x:t,y:t},e).easing(i).start(),new TWEEN.Tween(o.material).to({opacity:0},e).easing(i).onComplete(function(){n.remove(o),o.geometry.dispose(),o.material.dispose()}).start(),this.add(o)},PANOLENS.Tile.prototype.setEntity=function(t){this.entity=t}}(),function(){"use strict";PANOLENS.TileGroup=function(t,e,i,n,o){var r=this;THREE.Object3D.call(this),this.tileArray=t||[],this.offset=void 0!==o?o:0,this.v_gap=void 0!==e?e:6,this.d_gap=void 0!==i?i:2,this.animationDuration=void 0!==n?n:200,this.animationEasing=TWEEN.Easing.Exponential.Out,this.visibleDelta=2,this.tileArray.map(function(t,e){t.image&&PANOLENS.Utils.TextureLoader.load(t.image,r.setTexture.bind(t)),t.position.set(0,e*-r.v_gap,e*-r.d_gap),t.originalPosition=t.position.clone(),t.setEntity(r),r.add(t)}),this.updateVisbility()},PANOLENS.TileGroup.prototype=Object.create(THREE.Object3D.prototype),PANOLENS.TileGroup.prototype.constructor=PANOLENS.TileGroup,PANOLENS.TileGroup.prototype.updateTexture=function(t){var e=this;t=t||[],this.children.map(function(i,n){i instanceof PANOLENS.Tile&&t[n]&&(PANOLENS.Utils.TextureLoader.load(t[n],e.setTexture.bind(i)),i.outline&&(i.outline.material.visible=!0))})},PANOLENS.TileGroup.prototype.updateAllTexture=function(t){if(this.updateTexture(t),t.length<this.children.length)for(var e=t.length;e<this.children.length;e++)this.children[e]instanceof PANOLENS.Tile&&(this.children[e].material.visible=!1,this.children[e].outline&&(this.children[e].outline.material.visible=!1))},PANOLENS.TileGroup.prototype.setTexture=function(t){t.minFilter=THREE.LinearFilter,t.magFilter=THREE.LinearFilter,this.material.visible=!0,this.material.map=t,this.material.needsUpdate=!0},PANOLENS.TileGroup.prototype.updateVisbility=function(){this.children[this.offset].visible=!0,new TWEEN.Tween(this.children[this.offset].material).to({opacity:1},this.animationDuration).easing(this.animationEasing).start(),this.children[this.offset].outline&&(this.children[this.offset].outline.visible=!0);for(var t=this.offset-1;t>=0;t--)-1!==this.tileArray.indexOf(this.children[t])&&(this.offset-t<=this.visibleDelta?(this.children[t].visible=!0,new TWEEN.Tween(this.children[t].material).to({opacity:1/(this.offset-t)*.5},this.animationDuration).easing(this.animationEasing).start()):this.children[t].visible=!1,this.children[t].outline&&(this.children[t].outline.visible=!1));for(var t=this.offset+1;t<this.children.length;t++)-1!==this.tileArray.indexOf(this.children[t])&&(t-this.offset<=this.visibleDelta?(this.children[t].visible=!0,new TWEEN.Tween(this.children[t].material).to({opacity:1/(t-this.offset)*.5},this.animationDuration).easing(this.animationEasing).start()):this.children[t].visible=!1,this.children[t].outline&&(this.children[t].outline.visible=!1))},PANOLENS.TileGroup.prototype.scrollUp=function(t){var e,i=this.tileArray;if(t=void 0!==t?t:this.animationDuration,e=this.offset+1,this.offset<i.length-1&&i[this.offset+1].material.visible){for(var n=i.length-1;n>=0;n--)new TWEEN.Tween(i[n].position).to({y:(n-e)*-this.v_gap,z:Math.abs(n-e)*-this.d_gap},t).easing(this.animationEasing).start();this.offset++,this.updateVisbility(),this.dispatchEvent({type:"scroll",direction:"up"})}},PANOLENS.TileGroup.prototype.scrollDown=function(t){var e,i=this.tileArray;if(t=void 0!==t?t:this.animationDuration,e=this.offset-1,this.offset>0&&i[this.offset-1].material.visible){for(var n=0;n<i.length;n++)new TWEEN.Tween(i[n].position).to({y:(n-e)*-this.v_gap,z:Math.abs(n-e)*-this.d_gap},t).easing(this.animationEasing).start();this.offset--,this.updateVisbility(),this.dispatchEvent({type:"scroll",direction:"down"})}},PANOLENS.TileGroup.prototype.reset=function(){this.tileArray.map(function(t,e){t.position.copy(t.originalPosition)}),this.offset=0,this.updateVisbility()},PANOLENS.TileGroup.prototype.getIndex=function(){return this.offset},PANOLENS.TileGroup.prototype.getTileCount=function(){var t=0;return this.tileArray.map(function(e){e.material.visible&&t++}),t}}(),function(){"use strict";var t,e,i=[];PANOLENS.SpriteText=function(t,e,i,n,o){THREE.Object3D.call(this),this.text=t||"",this.maxWidth=e||2e3,this.color=i||16777215,this.opacity=void 0!==n?n:1,this.options=o||{},this.animationDuration=500,this.animationFadeOut=void 0,this.animationFadeIn=void 0,this.tweens={},this.addText(t)},PANOLENS.SpriteText.prototype=Object.create(THREE.Object3D.prototype),PANOLENS.SpriteText.prototype.constructor=PANOLENS.SpriteText,PANOLENS.SpriteText.prototype.generateTextGeometry=function(){},PANOLENS.SpriteText.prototype.generateSDFShader=function(){},PANOLENS.SpriteText.prototype.setBMFont=function(n,o,r){r.needsUpdate=!0,r.minFilter=THREE.LinearMipMapLinearFilter,r.magFilter=THREE.LinearFilter,r.generateMipmaps=!0,r.anisotropy=8,t=o,e=r;for(var a=i.length-1;a>=0;a--)i[a].target.addText(i[a].text)
;for(;i.length>0;)i.pop();n&&n()},PANOLENS.SpriteText.prototype.addText=function(n){if(!t||!e)return void i.push({target:this,text:n});var o=new THREE.Object3D;this.options.text=n,this.options.font=t,this.options.width=this.maxWidth;var r=this.generateTextGeometry(this.options);r.computeBoundingBox(),r.computeBoundingSphere();var a=new THREE.RawShaderMaterial(this.generateSDFShader({map:e,side:THREE.DoubleSide,transparent:!0,color:this.color,opacity:this.opacity})),s=r.layout,h=new THREE.Mesh(r,a);h.entity=this,h.position.x=-s.width/2,h.position.y=1.035*s.height,o.scale.x=o.scale.y=-.05,o.add(h),this.mesh=h,this.add(o)},PANOLENS.SpriteText.prototype.update=function(t){var e;t=t||{},e=this.mesh,e.geometry.update(t),e.position.x=-e.geometry.layout.width/2,e.position.y=1.035*e.geometry.layout.height},PANOLENS.SpriteText.prototype.tween=function(t,e,i,n,o,r,a,s,h){return e=e||this,i=i||{},n=n||this.animationDuration,o=o||TWEEN.Easing.Exponential.Out,r=void 0!==r?r:0,a=a||null,s=s||null,h=h||null,this.tweens[t]||(this.tweens[t]=new TWEEN.Tween(e).to(i,n).easing(o).delay(r).onStart(a).onUpdate(s).onComplete(h)),this.tweens[t]},PANOLENS.SpriteText.prototype.getLayout=function(){return this.mesh&&this.mesh.geometry&&this.mesh.geometry.layout||{}},PANOLENS.SpriteText.prototype.setEntity=function(t){this.entity=t}}(),function(){PANOLENS.Widget=function(t){THREE.EventDispatcher.call(this),this.DEFAULT_TRANSITION="all 0.27s ease",this.TOUCH_ENABLED=PANOLENS.Utils.checkTouchSupported(),this.PREVENT_EVENT_HANDLER=function(t){t.preventDefault(),t.stopPropagation()},this.container=t,this.barElement,this.fullscreenElement,this.videoElement,this.settingElement,this.mainMenu,this.activeMainItem,this.activeSubMenu,this.mask},PANOLENS.Widget.prototype=Object.create(THREE.EventDispatcher.prototype),PANOLENS.Widget.prototype.constructor=PANOLENS.Widget,PANOLENS.Widget.prototype.addControlBar=function(){if(!this.container)return void console.warn("Widget container not set");var t,e,i,n,o=this;n="linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))",t=document.createElement("div"),t.style.width="100%",t.style.height="44px",t.style.float="left",t.style.transform=t.style.webkitTransform=t.style.msTransform="translateY(-100%)",t.classList.add("bar-control-360"),t.style.background="-webkit-"+n,t.style.background="-moz-"+n,t.style.background="-o-"+n,t.style.background="-ms-"+n,t.style.background=n,t.style.transition=this.DEFAULT_TRANSITION,t.style.pointerEvents="none",t.isHidden=!1,t.toggle=function(){t.isHidden=!t.isHidden,e=t.isHidden?"translateY(0)":"translateY(-100%)",i=t.isHidden?0:1,t.style.transform=t.style.webkitTransform=t.style.msTransform=e,t.style.opacity=i};var r=this.createDefaultMenu();this.mainMenu=this.createMainMenu(r),t.appendChild(this.mainMenu);var a=this.createMask();this.mask=a,this.container.appendChild(a),t.dispose=function(){o.fullscreenElement&&(t.removeChild(o.fullscreenElement),o.fullscreenElement.dispose(),o.fullscreenElement=null),o.settingElement&&(t.removeChild(o.settingElement),o.settingElement.dispose(),o.settingElement=null),o.videoElement&&(t.removeChild(o.videoElement),o.videoElement.dispose(),o.videoElement=null)},this.container.appendChild(t),this.mask.addEventListener("mousemove",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener("mouseup",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener("mousedown",this.PREVENT_EVENT_HANDLER,!0),this.mask.addEventListener(o.TOUCH_ENABLED?"touchend":"click",function(t){t.preventDefault(),t.stopPropagation(),o.mask.hide(),o.settingElement.deactivate()},!1),this.addEventListener("control-bar-toggle",t.toggle),this.barElement=t},PANOLENS.Widget.prototype.createDefaultMenu=function(){var t,e=this;return t=function(t,i){return function(){e.dispatchEvent({type:"panolens-viewer-handler",method:t,data:i})}},[{title:"Control",subMenu:[{title:this.TOUCH_ENABLED?"Touch":"Mouse",handler:t("enableControl",PANOLENS.Controls.ORBIT)},{title:"Sensor",handler:t("enableControl",PANOLENS.Controls.DEVICEORIENTATION)}]},{title:"Mode",subMenu:[{title:"Normal",handler:t("disableEffect")},{title:"Cardboard",handler:t("enableEffect",PANOLENS.Modes.CARDBOARD)},{title:"VR",handler:t("enableEffect",PANOLENS.Modes.STEREO)}]}]},PANOLENS.Widget.prototype.addControlButton=function(t){var e;switch(t){case"fullscreen":e=this.createFullscreenButton(),this.fullscreenElement=e;break;case"setting":e=this.createSettingButton(),this.settingElement=e;break;case"video":e=this.createVideoControl(),this.videoElement=e;break;default:return}e&&this.barElement.appendChild(e)},PANOLENS.Widget.prototype.createMask=function(){var t=document.createElement("div");return t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.width="100%",t.style.height="100%",t.style.background="transparent",t.style.display="none",t.show=function(){this.style.display="block"},t.hide=function(){this.style.display="none"},t},PANOLENS.Widget.prototype.createSettingButton=function(){function t(t){t.preventDefault(),t.stopPropagation(),i.mainMenu.toggle(),this.activated?this.deactivate():this.activate()}var e,i=this;return e=this.createCustomItem({style:{backgroundImage:'url("'+PANOLENS.DataImage.Setting+'")',webkitTransition:this.DEFAULT_TRANSITION,transition:this.DEFAULT_TRANSITION},onTap:t}),e.activate=function(){this.style.transform="rotate3d(0,0,1,90deg)",this.activated=!0,i.mask.show()},e.deactivate=function(){this.style.transform="rotate3d(0,0,0,0)",this.activated=!1,i.mask.hide(),i.mainMenu&&i.mainMenu.visible&&i.mainMenu.hide(),i.activeSubMenu&&i.activeSubMenu.visible&&i.activeSubMenu.hide(),i.mainMenu&&i.mainMenu._width&&(i.mainMenu.changeSize(i.mainMenu._width),i.mainMenu.unslideAll())},e.activated=!1,e},PANOLENS.Widget.prototype.createFullscreenButton=function(){function t(t){t.preventDefault(),t.stopPropagation(),a=!1,r?(document.exitFullscreen&&document.exitFullscreen(),document.msExitFullscreen&&document.msExitFullscreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen(),document.webkitExitFullscreen&&document.webkitExitFullscreen(),r=!1):(o.container.requestFullscreen&&o.container.requestFullscreen(),o.container.msRequestFullscreen&&o.container.msRequestFullscreen(),o.container.mozRequestFullScreen&&o.container.mozRequestFullScreen(),o.container.webkitRequestFullscreen&&o.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),r=!0),this.style.backgroundImage=r?'url("'+PANOLENS.DataImage.FullscreenLeave+'")':'url("'+PANOLENS.DataImage.FullscreenEnter+'")'}function e(t){a&&(r=!r,i.style.backgroundImage=r?'url("'+PANOLENS.DataImage.FullscreenLeave+'")':'url("'+PANOLENS.DataImage.FullscreenEnter+'")'),o.dispatchEvent({type:"panolens-viewer-handler",method:"onWindowResize",data:!1}),a=!0}var i,n,o=this,r=!1,a=!0;if(n="panolens-style-addon",document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){if(document.addEventListener("fullscreenchange",e,!1),document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("MSFullscreenChange",e,!1),i=this.createCustomItem({style:{backgroundImage:'url("'+PANOLENS.DataImage.FullscreenEnter+'")'},onTap:t}),!document.querySelector(n)){var s=document.createElement("style");s.id=n,s.innerHTML=":-webkit-full-screen { width: 100% !important; height: 100% !important }",document.body.appendChild(s)}return i}},PANOLENS.Widget.prototype.createVideoControl=function(){var t;return t=document.createElement("span"),t.style.display="none",t.show=function(){t.style.display=""},t.hide=function(){t.style.display="none",t.controlButton.paused=!0,t.controlButton.update()},t.controlButton=this.createVideoControlButton(),t.seekBar=this.createVideoControlSeekbar(),t.appendChild(t.controlButton),t.appendChild(t.seekBar),t.dispose=function(){t.removeChild(t.controlButton),t.removeChild(t.seekBar),t.controlButton.dispose(),t.controlButton=null,t.seekBar.dispose(),t.seekBar=null},this.addEventListener("video-control-show",t.show),this.addEventListener("video-control-hide",t.hide),t},PANOLENS.Widget.prototype.createVideoControlButton=function(){function t(t){t.preventDefault(),t.stopPropagation(),i.dispatchEvent({type:"panolens-viewer-handler",method:"toggleVideoPlay",data:!this.paused}),this.paused=!this.paused,e.update()}var e,i=this;return e=this.createCustomItem({style:{float:"left",backgroundImage:'url("'+PANOLENS.DataImage.VideoPlay+'")'},onTap:t}),e.paused=!0,e.update=function(t){this.paused=void 0!==t?t:this.paused,this.style.backgroundImage='url("'+(this.paused?PANOLENS.DataImage.VideoPlay:PANOLENS.DataImage.VideoPause)+'")'},e},PANOLENS.Widget.prototype.createVideoControlSeekbar=function(){function t(t){t.stopPropagation(),f=!0,l=t.clientX||t.changedTouches&&t.changedTouches[0].clientX,u=parseInt(h.style.width)/100,n()}function e(t){var e;f&&(e=t.clientX||t.changedTouches&&t.changedTouches[0].clientX,d=(e-l)/s.clientWidth,d=u+d,d=d>1?1:d<0?0:d,s.setProgress(d),p.dispatchEvent({type:"panolens-viewer-handler",method:"setVideoCurrentTime",data:d}))}function i(t){t.stopPropagation(),f=!1,o()}function n(){p.container.addEventListener("mousemove",e,!1),p.container.addEventListener("mouseup",i,!1),p.container.addEventListener("touchmove",e,!1),p.container.addEventListener("touchend",i,!1)}function o(){p.container.removeEventListener("mousemove",e,!1),p.container.removeEventListener("mouseup",i,!1),p.container.removeEventListener("touchmove",e,!1),p.container.removeEventListener("touchend",i,!1)}function r(t){t.preventDefault(),t.stopPropagation();var e;t.target!==c&&(e=t.changedTouches&&t.changedTouches.length>0?(t.changedTouches[0].pageX-t.target.getBoundingClientRect().left)/this.clientWidth:t.offsetX/this.clientWidth,p.dispatchEvent({type:"panolens-viewer-handler",method:"setVideoCurrentTime",data:e}),s.setProgress(t.offsetX/this.clientWidth))}function a(){o(),h=null,c=null}var s,h,c,l,u,d,p=this,f=!1;return h=document.createElement("div"),h.style.width="0%",h.style.height="100%",h.style.backgroundColor="#fff",c=document.createElement("div"),c.style.float="right",c.style.width="14px",c.style.height="14px",c.style.transform="translate(7px, -5px)",c.style.borderRadius="50%",c.style.backgroundColor="#ddd",c.addEventListener("mousedown",t,!1),c.addEventListener("touchstart",t,!1),h.appendChild(c),s=this.createCustomItem({style:{float:"left",height:"4px",marginTop:"20px",backgroundColor:"rgba(188,188,188,0.8)"},onTap:r,onDispose:a}),s.classList.add("video-bar-360"),s.appendChild(h),s.setProgress=function(t){h.style.width=100*t+"%"},this.addEventListener("video-update",function(t){s.setProgress(t.percentage)}),s},PANOLENS.Widget.prototype.createMenuItem=function(t){var e=this,i=document.createElement("a");return i.textContent=t,i.style.display="block",i.style.padding="10px",i.style.textDecoration="none",i.style.cursor="pointer",i.style.pointerEvents="auto",i.style.transition=this.DEFAULT_TRANSITION,i.slide=function(t){this.style.transform="translateX("+(t?"":"-")+"100%)"},i.unslide=function(){this.style.transform="translateX(0)"},i.setIcon=function(t){this.icon&&(this.icon.style.backgroundImage="url("+t+")")},i.setSelectionTitle=function(t){this.selection&&(this.selection.textContent=t)},i.addSelection=function(t){var e=document.createElement("span");return e.style.fontSize="13px",e.style.fontWeight="300",e.style.float="right",this.selection=e,this.setSelectionTitle(t),this.appendChild(e),this},i.addIcon=function(t,e,i){t=t||PANOLENS.DataImage.ChevronRight,e=e||!1,i=i||!1;var n=document.createElement("span");return n.style.float=e?"left":"right",n.style.width="17px",n.style.height="17px",n.style["margin"+(e?"Right":"Left")]="12px",n.style.backgroundSize="cover",i&&(n.style.transform="rotateZ(180deg)"),this.icon=n,this.setIcon(t),this.appendChild(n),this},i.addSubMenu=function(t,i){return this.subMenu=e.createSubMenu(t,i),this},i.addEventListener("mouseenter",function(){this.style.backgroundColor="#e0e0e0"},!1),i.addEventListener("mouseleave",function(){this.style.backgroundColor="#fafafa"},!1),i},PANOLENS.Widget.prototype.createMenuItemHeader=function(t){var e=this.createMenuItem(t);return e.style.borderBottom="1px solid #333",e.style.paddingBottom="15px",e},PANOLENS.Widget.prototype.createMainMenu=function(t){function e(t){function e(){n.changeSize(o.clientWidth),o.show(),o.unslideAll()}t.preventDefault(),t.stopPropagation();var n=i.mainMenu,o=this.subMenu;n.hide(),n.slideAll(),n.parentElement.appendChild(o),i.activeMainItem=this,i.activeSubMenu=o,window.requestAnimationFrame(e)}var i=this,n=this.createMenu();n._width=200,n.changeSize(n._width);for(var o=0;o<t.length;o++){var r=n.addItem(t[o].title);if(r.style.paddingLeft="20px",r.addIcon().addEventListener(i.TOUCH_ENABLED?"touchend":"click",e,!1),t[o].subMenu&&t[o].subMenu.length>0){var a=t[o].subMenu[0].title;r.addSelection(a).addSubMenu(t[o].title,t[o].subMenu)}}return n},PANOLENS.Widget.prototype.createSubMenu=function(t,e){function i(t){t.preventDefault(),t.stopPropagation(),n=o.mainMenu,n.changeSize(n._width),n.unslideAll(),n.show(),r.slideAll(!0),r.hide(),"header"!==this.type&&(r.setActiveItem(this),o.activeMainItem.setSelectionTitle(this.textContent),this.handler&&this.handler())}var n,o=this,r=this.createMenu();r.items=e,r.activeItem,r.addHeader(t).addIcon(void 0,!0,!0).addEventListener(o.TOUCH_ENABLED?"touchend":"click",i,!1);for(var a=0;a<e.length;a++){var s=r.addItem(e[a].title);s.style.fontWeight=300,s.handler=e[a].handler,s.addIcon(" ",!0),s.addEventListener(o.TOUCH_ENABLED?"touchend":"click",i,!1),r.activeItem||r.setActiveItem(s)}return r.slideAll(!0),r},PANOLENS.Widget.prototype.createMenu=function(){var t,e=this,i=document.createElement("span");return t=i.style,t.padding="5px 0",t.position="fixed",t.bottom="100%",t.right="14px",t.backgroundColor="#fafafa",t.fontFamily="Helvetica Neue",t.fontSize="14px",t.visibility="hidden",t.opacity=0,t.boxShadow="0 0 12pt rgba(0,0,0,0.25)",t.borderRadius="2px",t.overflow="hidden",t.willChange="width, height, opacity",t.pointerEvents="auto",t.transition=this.DEFAULT_TRANSITION,i.visible=!1,i.changeSize=function(t,e){t&&(this.style.width=t+"px"),e&&(this.style.height=e+"px")},i.show=function(){this.style.opacity=1,this.style.visibility="visible",this.visible=!0},i.hide=function(){this.style.opacity=0,this.style.visibility="hidden",this.visible=!1},i.toggle=function(){this.visible?this.hide():this.show()},i.slideAll=function(t){for(var e=0;e<i.children.length;e++)i.children[e].slide&&i.children[e].slide(t)},i.unslideAll=function(){for(var t=0;t<i.children.length;t++)i.children[t].unslide&&i.children[t].unslide()},i.addHeader=function(t){var i=e.createMenuItemHeader(t);return i.type="header",this.appendChild(i),i},i.addItem=function(t){var i=e.createMenuItem(t);return i.type="item",this.appendChild(i),i},i.setActiveItem=function(t){this.activeItem&&this.activeItem.setIcon(" "),t.setIcon(PANOLENS.DataImage.Check),this.activeItem=t},i.addEventListener("mousemove",this.PREVENT_EVENT_HANDLER,!0),i.addEventListener("mouseup",this.PREVENT_EVENT_HANDLER,!0),i.addEventListener("mousedown",this.PREVENT_EVENT_HANDLER,!0),i},PANOLENS.Widget.prototype.createCustomItem=function(t){t=t||{};var e=this,i=t.element||document.createElement("span");return i.style.cursor="pointer",i.style.float="right",i.style.width="44px",i.style.height="100%",i.style.backgroundSize="60%",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="center",i.style.webkitUserSelect=i.style.MozUserSelect=i.style.userSelect="none",i.style.position="relative",i.style.pointerEvents="auto",i.addEventListener(e.TOUCH_ENABLED?"touchstart":"mouseenter",function(){i.style.filter=i.style.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),i.addEventListener(e.TOUCH_ENABLED?"touchend":"mouseleave",function(){i.style.filter=i.style.webkitFilter=""}),i=this.mergeStyleOptions(i,t.style),t.onTap&&i.addEventListener(e.TOUCH_ENABLED?"touchend":"click",t.onTap,!1),i.dispose=function(){i.removeEventListener(e.TOUCH_ENABLED?"touchend":"click",t.onTap,!1),t.onDispose&&t.onDispose()},i},PANOLENS.Widget.prototype.mergeStyleOptions=function(t,e){e=e||{};for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t},PANOLENS.Widget.prototype.dispose=function(){this.barElement&&(this.container.removeChild(this.barElement),this.barElement.dispose(),this.barElement=null)}}(),function(){PANOLENS.Infospot=function(t,e,i){function n(e){e.wrapS=THREE.RepeatWrapping,e.repeat.x=-1,e.image.width=e.image.naturalWidth||64,e.image.height=e.image.naturalHeight||64,a=e.image.width/e.image.height,c.scale.set(a*t,t,1),s=c.scale.clone(),c.scaleUpAnimation=new TWEEN.Tween(c.scale).to({x:s.x*c.scaleFactor,y:s.y*c.scaleFactor},h).easing(TWEEN.Easing.Elastic.Out),c.scaleDownAnimation=new TWEEN.Tween(c.scale).to({x:s.x,y:s.y},h).easing(TWEEN.Easing.Elastic.Out),c.material.side=THREE.DoubleSide,c.material.map=e,c.material.depthTest=!1,c.material.needsUpdate=!0}function o(){this.visible=!0}function r(){this.visible=!1}var a,s,h,c=this;t=t||300,e=e||PANOLENS.DataImage.Info,h=500,THREE.Sprite.call(this),this.type="infospot",this.animated=void 0===i||i,this.isHovering=!1,this.visible=!1,this.element,this.toPanorama,this.cursorStyle,this.mode=PANOLENS.Modes.UNKNOWN,this.scale.set(t,t,1),this.rotation.y=Math.PI,this.scaleFactor=1.3,this.container,this.HANDLER_FOCUS,PANOLENS.Utils.TextureLoader.load(e,n),this.showAnimation=new TWEEN.Tween(this.material).to({opacity:1},h).onStart(o.bind(this)).easing(TWEEN.Easing.Quartic.Out),this.hideAnimation=new TWEEN.Tween(this.material).to({opacity:0},h).onComplete(r.bind(this)).easing(TWEEN.Easing.Quartic.Out),this.addEventListener("click",this.onClick),this.addEventListener("hover",this.onHover),this.addEventListener("hoverenter",this.onHoverStart),this.addEventListener("hoverleave",this.onHoverEnd),this.addEventListener("panolens-dual-eye-effect",this.onDualEyeEffect),this.addEventListener("panolens-container",this.setContainer.bind(this)),this.addEventListener("dismiss",this.onDismiss),this.addEventListener("panolens-infospot-focus",this.setFocusMethod)},PANOLENS.Infospot.prototype=Object.create(THREE.Sprite.prototype),PANOLENS.Infospot.prototype.setContainer=function(t){var e;t instanceof HTMLElement?e=t:t&&t.container&&(e=t.container),e&&this.element&&e.appendChild(this.element),this.container=e},PANOLENS.Infospot.prototype.getContainer=function(){return this.container},PANOLENS.Infospot.prototype.onClick=function(t){this.element&&this.getContainer()&&(this.onHoverStart(t),this.lockHoverElement())},PANOLENS.Infospot.prototype.onDismiss=function(t){this.element&&(this.unlockHoverElement(),this.onHoverEnd())},PANOLENS.Infospot.prototype.onHover=function(t){},PANOLENS.Infospot.prototype.onHoverStart=function(t){if(this.getContainer()){var e=this.cursorStyle||(this.mode===PANOLENS.Modes.NORMAL?"pointer":"default");this.isHovering=!0,this.container.style.cursor=e,this.animated&&(this.scaleDownAnimation&&this.scaleDownAnimation.stop(),this.scaleUpAnimation&&this.scaleUpAnimation.start()),this.element&&t.mouseEvent.clientX>=0&&t.mouseEvent.clientY>=0&&(this.mode===PANOLENS.Modes.CARDBOARD||this.mode===PANOLENS.Modes.STEREO?(this.element.style.display="none",this.element.left&&(this.element.left.style.display="block"),this.element.right&&(this.element.right.style.display="block"),this.element._width=this.element.left.clientWidth,this.element._height=this.element.left.clientHeight):(this.element.style.display="block",this.element.left&&(this.element.left.style.display="none"),this.element.right&&(this.element.right.style.display="none"),this.element._width=this.element.clientWidth,this.element._height=this.element.clientHeight))}},PANOLENS.Infospot.prototype.onHoverEnd=function(){this.getContainer()&&(this.isHovering=!1,this.container.style.cursor="default",this.animated&&(this.scaleUpAnimation&&this.scaleUpAnimation.stop(),this.scaleDownAnimation&&this.scaleDownAnimation.start()),this.element&&!this.element.locked&&(this.element.style.display="none",this.element.left&&(this.element.left.style.display="none"),this.element.right&&(this.element.right.style.display="none"),this.unlockHoverElement()))},PANOLENS.Infospot.prototype.onDualEyeEffect=function(t){if(this.getContainer()){var e,i,n;this.mode=t.mode,e=this.element,i=this.container.clientWidth/2,n=this.container.clientHeight/2,e&&(e.left&&e.right||(e.left=e.cloneNode(!0),e.right=e.cloneNode(!0)),this.mode===PANOLENS.Modes.CARDBOARD||this.mode===PANOLENS.Modes.STEREO?(e.left.style.display=e.style.display,e.right.style.display=e.style.display,e.style.display="none"):(e.style.display=e.left.style.display,e.left.style.display="none",e.right.style.display="none"),this.translateElement(i,n),this.container.appendChild(e.left),this.container.appendChild(e.right))}},PANOLENS.Infospot.prototype.translateElement=function(t,e){if(this.element._width&&this.element._height&&this.getContainer()){var i,n,o,r,a,s,h;h=this.container,o=this.element,r=o._width/2,a=o._height/2,s=void 0!==o.verticalDelta?o.verticalDelta:40,i=t-r,n=e-a-s,this.mode!==PANOLENS.Modes.CARDBOARD&&this.mode!==PANOLENS.Modes.STEREO||!o.left||!o.right||t===h.clientWidth/2&&e===h.clientHeight/2?this.setElementStyle("transform",o,"translate("+i+"px, "+n+"px)"):(i=h.clientWidth/4-r+(t-h.clientWidth/2),n=h.clientHeight/2-a-s+(e-h.clientHeight/2),this.setElementStyle("transform",o.left,"translate("+i+"px, "+n+"px)"),i+=h.clientWidth/2,this.setElementStyle("transform",o.right,"translate("+i+"px, "+n+"px)"))}},PANOLENS.Infospot.prototype.setElementStyle=function(t,e,i){var n=e.style;"transform"===t&&(n.webkitTransform=n.msTransform=n.transform=i)},PANOLENS.Infospot.prototype.setText=function(t){this.element&&(this.element.textContent=t)},PANOLENS.Infospot.prototype.setCursorHoverStyle=function(t){this.cursorStyle=t},PANOLENS.Infospot.prototype.addHoverText=function(t,e){this.element||(this.element=document.createElement("div"),this.element.style.display="none",this.element.style.color="#fff",this.element.style.top=0,this.element.style.maxWidth="50%",this.element.style.maxHeight="50%",this.element.style.textShadow="0 0 3px #000000",this.element.style.fontFamily='"Trebuchet MS", Helvetica, sans-serif',this.element.style.position="absolute",this.element.classList.add("panolens-infospot"),this.element.verticalDelta=void 0!==e?e:40),this.setText(t)},PANOLENS.Infospot.prototype.addHoverElement=function(t,e){this.element||(this.element=t.cloneNode(!0),this.element.style.display="none",this.element.style.top=0,this.element.style.position="absolute",this.element.classList.add("panolens-infospot"),this.element.verticalDelta=void 0!==e?e:40)},PANOLENS.Infospot.prototype.removeHoverElement=function(){this.element&&(this.element.left&&(this.container.removeChild(this.element.left),this.element.left=null),this.element.right&&(this.container.removeChild(this.element.right),this.element.right=null),this.container.removeChild(this.element),this.element=null)},PANOLENS.Infospot.prototype.lockHoverElement=function(){this.element&&(this.element.locked=!0)},PANOLENS.Infospot.prototype.unlockHoverElement=function(){this.element&&(this.element.locked=!1)},PANOLENS.Infospot.prototype.show=function(t){t=t||0,this.animated?(this.hideAnimation&&this.hideAnimation.stop(),this.showAnimation&&this.showAnimation.delay(t).start()):this.visible=!0},PANOLENS.Infospot.prototype.hide=function(t){t=t||0,this.animated?(this.showAnimation&&this.showAnimation.stop(),this.hideAnimation&&this.hideAnimation.delay(t).start()):this.visible=!1},PANOLENS.Infospot.prototype.setFocusMethod=function(t){t&&(this.HANDLER_FOCUS=t.method)},PANOLENS.Infospot.prototype.focus=function(t,e){this.HANDLER_FOCUS&&(this.HANDLER_FOCUS(this.position,t,e),this.onDismiss())},PANOLENS.Infospot.prototype.dispose=function(){this.removeHoverElement(),this.material.dispose(),this.parent&&this.parent.remove(this)}}(),function(){"use strict";PANOLENS.Viewer=function(t){if(THREE.EventDispatcher.call(this),!THREE)return void console.error("Three.JS not found");var e;t=t||{},t.controlBar=void 0===t.controlBar||t.controlBar,t.controlButtons=t.controlButtons||["fullscreen","setting","video"],t.autoHideControlBar=void 0!==t.autoHideControlBar&&t.autoHideControlBar,t.autoHideInfospot=void 0===t.autoHideInfospot||t.autoHideInfospot,t.horizontalView=void 0!==t.horizontalView&&t.horizontalView,t.clickTolerance=t.clickTolerance||10,t.cameraFov=t.cameraFov||60,t.reverseDragging=t.reverseDragging||!1,t.enableReticle=t.enableReticle||!1,t.dwellTime=t.dwellTime||1500,t.autoReticleSelect=void 0===t.autoReticleSelect||t.autoReticleSelect,t.viewIndicator=void 0!==t.viewIndicator&&t.viewIndicator,t.indicatorSize=t.indicatorSize||30,t.output=t.output?t.output:"none",t.autoRotate=t.autoRotate||!1,t.autoRotateSpeed=t.autoRotateSpeed||2,t.autoRotateActivationDuration=t.autoRotateActivationDuration||5e3,this.options=t,t.container?(e=t.container,e._width=e.clientWidth,e._height=e.clientHeight):(e=document.createElement("div"),e.classList.add("panolens-container"),e.style.width="100%",e.style.height="100%",e._width=window.innerWidth,e._height=window.innerHeight,document.body.appendChild(e)),this.container=e,this.camera=t.camera||new THREE.PerspectiveCamera(this.options.cameraFov,this.container.clientWidth/this.container.clientHeight,1,1e4),this.scene=t.scene||new THREE.Scene,this.renderer=t.renderer||new THREE.WebGLRenderer({alpha:!0,antialias:!1}),this.viewIndicatorSize=this.options.indicatorSize,this.reticle={},this.tempEnableReticle=this.options.enableReticle,this.mode=PANOLENS.Modes.NORMAL,this.OrbitControls,this.DeviceOrientationControls,this.CardboardEffect,this.StereoEffect,this.controls,this.effect,this.panorama,this.widget,this.hoverObject,this.infospot,this.pressEntityObject,this.pressObject,this.raycaster=new THREE.Raycaster,this.raycasterPoint=new THREE.Vector2,this.userMouse=new THREE.Vector2,this.updateCallbacks=[],this.requestAnimationId,this.cameraFrustum=new THREE.Frustum,this.cameraViewProjectionMatrix=new THREE.Matrix4,this.autoRotateRequestId,this.outputDivElement,this.HANDLER_MOUSE_DOWN=this.onMouseDown.bind(this),this.HANDLER_MOUSE_UP=this.onMouseUp.bind(this),this.HANDLER_MOUSE_MOVE=this.onMouseMove.bind(this),this.HANDLER_WINDOW_RESIZE=this.onWindowResize.bind(this),this.HANDLER_KEY_DOWN=this.onKeyDown.bind(this),this.HANDLER_KEY_UP=this.onKeyUp.bind(this),this.HANDLER_TAP=this.onTap.bind(this,{clientX:this.container.clientWidth/2,clientY:this.container.clientHeight/2}),this.OUTPUT_INFOSPOT=!1,this.tweenLeftAnimation=new TWEEN.Tween,this.tweenUpAnimation=new TWEEN.Tween,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setClearColor(0,1),this.renderer.sortObjects=!1,this.renderer.domElement.classList.add("panolens-canvas"),this.renderer.domElement.style.display="block",this.container.style.backgroundColor="#000",this.container.appendChild(this.renderer.domElement),this.OrbitControls=new THREE.OrbitControls(this.camera,this.container),this.OrbitControls.name="orbit",this.OrbitControls.minDistance=1,this.OrbitControls.noPan=!0,this.OrbitControls.autoRotate=this.options.autoRotate,this.OrbitControls.autoRotateSpeed=this.options.autoRotateSpeed,this.DeviceOrientationControls=new THREE.DeviceOrientationControls(this.camera,this.container),this.DeviceOrientationControls.name="device-orientation",this.DeviceOrientationControls.enabled=!1,this.camera.position.z=1,this.options.passiveRendering&&console.warn("passiveRendering is now deprecated"),this.controls=[this.OrbitControls,this.DeviceOrientationControls],this.control=this.OrbitControls,this.CardboardEffect=new THREE.CardboardEffect(this.renderer),this.CardboardEffect.setSize(this.container.clientWidth,this.container.clientHeight),this.StereoEffect=new THREE.StereoEffect(this.renderer),this.StereoEffect.setSize(this.container.clientWidth,this.container.clientHeight),this.effect=this.CardboardEffect,this.addReticle(),this.options.horizontalView&&(this.OrbitControls.minPolarAngle=Math.PI/2,this.OrbitControls.maxPolarAngle=Math.PI/2),!1!==this.options.controlBar&&this.addDefaultControlBar(this.options.controlButtons),this.options.viewIndicator&&this.addViewIndicator(),this.options.reverseDragging&&this.reverseDraggingDirection(),this.options.enableReticle?this.enableReticleControl():this.registerMouseAndTouchEvents(),"overlay"===this.options.output&&this.addOutputElement(),this.registerEventListeners(),this.animate.call(this)},PANOLENS.Viewer.prototype=Object.create(THREE.EventDispatcher.prototype),PANOLENS.Viewer.prototype.constructor=PANOLENS.Viewer,PANOLENS.Viewer.prototype.add=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}this.scene.add(t),t.addEventListener&&t.addEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),t instanceof PANOLENS.Panorama&&t.dispatchEvent&&t.dispatchEvent({type:"panolens-container",container:this.container}),"panorama"===t.type&&(this.addPanoramaEventListener(t),this.panorama||this.setPanorama(t))},PANOLENS.Viewer.prototype.remove=function(t){t.removeEventListener&&t.removeEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),this.scene.remove(t)},PANOLENS.Viewer.prototype.addDefaultControlBar=function(t){var e=this;if(this.widget)return void console.warn("Default control bar exists");this.widget=new PANOLENS.Widget(this.container),this.widget.addEventListener("panolens-viewer-handler",this.eventHandler.bind(this)),this.widget.addControlBar(),t.forEach(function(t){e.widget.addControlButton(t)})},PANOLENS.Viewer.prototype.setPanorama=function(t){var e=this.panorama;if("panorama"===t.type&&e!==t){this.hideInfospot();var i=function(){e&&e.onLeave(),t.removeEventListener("enter-fade-start",i)};t.addEventListener("enter-fade-start",i),(this.panorama=t).onEnter()}},PANOLENS.Viewer.prototype.eventHandler=function(t){t.method&&this[t.method]&&this[t.method](t.data)},PANOLENS.Viewer.prototype.dispatchEventToChildren=function(t){this.scene.traverse(function(e){e.dispatchEvent&&e.dispatchEvent(t)})},PANOLENS.Viewer.prototype.activateWidgetItem=function(t,e){var i,n=this.widget.mainMenu,o=n.children[0],r=n.children[1];if(void 0!==t){switch(t){case 0:i=o.subMenu.children[1];break;case 1:i=o.subMenu.children[2];break;default:i=o.subMenu.children[1]}o.subMenu.setActiveItem(i),o.setSelectionTitle(i.textContent)}if(void 0!==e){switch(e){case PANOLENS.Modes.CARDBOARD:i=r.subMenu.children[2];break;case PANOLENS.Modes.STEREO:i=r.subMenu.children[3];break;default:i=r.subMenu.children[1]}r.subMenu.setActiveItem(i),r.setSelectionTitle(i.textContent)}},PANOLENS.Viewer.prototype.enableEffect=function(t){if(this.mode!==t){if(t===PANOLENS.Modes.NORMAL)return void this.disableEffect();this.mode=t;var e=this.camera.fov;switch(t){case PANOLENS.Modes.CARDBOARD:this.effect=this.CardboardEffect,this.enableReticleControl();break;case PANOLENS.Modes.STEREO:this.effect=this.StereoEffect,this.enableReticleControl();break;default:this.effect=null,this.disableReticleControl()}this.activateWidgetItem(void 0,this.mode),this.dispatchEventToChildren({type:"panolens-dual-eye-effect",mode:this.mode}),this.camera.fov=e+.01,this.effect.setSize(this.container.clientWidth,this.container.clientHeight),this.render(),this.camera.fov=e}},PANOLENS.Viewer.prototype.disableEffect=function(){this.mode!==PANOLENS.Modes.NORMAL&&(this.mode=PANOLENS.Modes.NORMAL,this.disableReticleControl(),this.activateWidgetItem(void 0,this.mode),this.dispatchEventToChildren({type:"panolens-dual-eye-effect",mode:this.mode}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.render())},PANOLENS.Viewer.prototype.enableReticleControl=function(){this.reticle.visible||(this.reticle.textureLoaded||this.reticle.loadTextures(),this.tempEnableReticle=!0,this.unregisterMouseAndTouchEvents(),this.reticle.show(),this.registerReticleEvent(),this.updateReticleEvent())},
PANOLENS.Viewer.prototype.disableReticleControl=function(){this.tempEnableReticle=!1,this.options.enableReticle?this.updateReticleEvent():(this.reticle.hide(),this.unregisterReticleEvent(),this.registerMouseAndTouchEvents())},PANOLENS.Viewer.prototype.enableAutoRate=function(){this.options.autoRotate=!0,this.OrbitControls.autoRotate=!0},PANOLENS.Viewer.prototype.disableAutoRate=function(){clearTimeout(this.autoRotateRequestId),this.options.autoRotate=!1,this.OrbitControls.autoRotate=!1},PANOLENS.Viewer.prototype.toggleVideoPlay=function(t){this.panorama instanceof PANOLENS.VideoPanorama&&this.panorama.dispatchEvent({type:"video-toggle",pause:t})},PANOLENS.Viewer.prototype.setVideoCurrentTime=function(t){this.panorama instanceof PANOLENS.VideoPanorama&&this.panorama.dispatchEvent({type:"video-time",percentage:t})},PANOLENS.Viewer.prototype.onVideoUpdate=function(t){this.widget&&this.widget.dispatchEvent({type:"video-update",percentage:t})},PANOLENS.Viewer.prototype.addUpdateCallback=function(t){t&&this.updateCallbacks.push(t)},PANOLENS.Viewer.prototype.removeUpdateCallback=function(t){var e=this.updateCallbacks.indexOf(t);t&&e>=0&&this.updateCallbacks.splice(e,1)},PANOLENS.Viewer.prototype.showVideoWidget=function(){this.widget&&this.widget.dispatchEvent({type:"video-control-show"})},PANOLENS.Viewer.prototype.hideVideoWidget=function(){this.widget&&this.widget.dispatchEvent({type:"video-control-hide"})},PANOLENS.Viewer.prototype.updateVideoPlayButton=function(t){this.widget&&this.widget.videoElement&&this.widget.videoElement.controlButton&&this.widget.videoElement.controlButton.update(t)},PANOLENS.Viewer.prototype.addPanoramaEventListener=function(t){t.addEventListener("enter-fade-start",this.setCameraControl.bind(this)),t instanceof PANOLENS.VideoPanorama&&(t.addEventListener("enter-fade-start",this.showVideoWidget.bind(this)),t.addEventListener("leave",function(){this.panorama instanceof PANOLENS.VideoPanorama||this.hideVideoWidget.call(this)}.bind(this)))},PANOLENS.Viewer.prototype.setCameraControl=function(){this.OrbitControls.target.copy(this.panorama.position)},PANOLENS.Viewer.prototype.getControl=function(){return this.control},PANOLENS.Viewer.prototype.getScene=function(){return this.scene},PANOLENS.Viewer.prototype.getCamera=function(){return this.camera},PANOLENS.Viewer.prototype.getRenderer=function(){return this.renderer},PANOLENS.Viewer.prototype.getContainer=function(){return this.container},PANOLENS.Viewer.prototype.getControlName=function(){return this.control.name},PANOLENS.Viewer.prototype.getNextControlName=function(){return this.controls[this.getNextControlIndex()].name},PANOLENS.Viewer.prototype.getNextControlIndex=function(){var t,e,i;return t=this.controls,e=this.control,i=t.indexOf(e)+1,i>=t.length?0:i},PANOLENS.Viewer.prototype.setCameraFov=function(t){this.camera.fov=t,this.camera.updateProjectionMatrix()},PANOLENS.Viewer.prototype.enableControl=function(t){switch(t=t>=0&&t<this.controls.length?t:0,this.control.enabled=!1,this.control=this.controls[t],this.control.enabled=!0,t){case PANOLENS.Controls.ORBIT:this.camera.position.copy(this.panorama.position),this.camera.position.z+=1;break;case PANOLENS.Controls.DEVICEORIENTATION:this.camera.position.copy(this.panorama.position)}this.control.update(),this.activateWidgetItem(t,void 0)},PANOLENS.Viewer.prototype.disableControl=function(){this.control.enabled=!1},PANOLENS.Viewer.prototype.toggleNextControl=function(){this.enableControl(this.getNextControlIndex())},PANOLENS.Viewer.prototype.getScreenVector=function(t){var e=t.clone(),i=this.container.clientWidth/2,n=this.container.clientHeight/2;return e.project(this.camera),e.x=e.x*i+i,e.y=-e.y*n+n,e.z=0,e},PANOLENS.Viewer.prototype.checkSpriteInViewport=function(t){return this.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld),this.cameraViewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),this.cameraFrustum.setFromMatrix(this.cameraViewProjectionMatrix),t.visible&&this.cameraFrustum.intersectsSprite(t)},PANOLENS.Viewer.prototype.reverseDraggingDirection=function(){this.OrbitControls.rotateSpeed*=-1,this.OrbitControls.momentumScalingFactor*=-1},PANOLENS.Viewer.prototype.addReticle=function(){this.reticle=new PANOLENS.Reticle(16777215,this.options.autoReticleSelect,PANOLENS.DataImage.ReticleIdle,PANOLENS.DataImage.ReticleDwell,this.options.dwellTime,45),this.reticle.position.z=-10,this.camera.add(this.reticle),this.scene.add(this.camera)},PANOLENS.Viewer.prototype.tweenControlCenter=function(t,e,i){if(this.control===this.OrbitControls){t instanceof Array&&(e=t[1],i=t[2],t=t[0]),e=void 0!==e?e:1e3,i=i||TWEEN.Easing.Exponential.Out;var n,o,r,a,s,h,c,l,u,d;n=this,a=this.camera.getWorldDirection(),s=a.clone(),l=this.panorama.getWorldPosition().sub(this.camera.getWorldPosition()),h=t.clone(),h.x*=-1,h.add(l).normalize(),c=h.clone(),a.y=0,h.y=0,o=Math.atan2(h.z,h.x)-Math.atan2(a.z,a.x),o=o>Math.PI?o-2*Math.PI:o,o=o<-Math.PI?o+2*Math.PI:o,r=Math.abs(s.angleTo(a)+(s.y*c.y<=0?c.angleTo(h):-c.angleTo(h))),r*=c.y<s.y?1:-1,u={left:0,up:0},d={left:0,up:0},this.tweenLeftAnimation.stop(),this.tweenUpAnimation.stop(),this.tweenLeftAnimation=new TWEEN.Tween(u).to({left:o},e).easing(i).onUpdate(function(){n.control.rotateLeft(this.left-d.left),d.left=this.left}).start(),this.tweenUpAnimation=new TWEEN.Tween(u).to({up:r},e).easing(i).onUpdate(function(){n.control.rotateUp(this.up-d.up),d.up=this.up}).start()}},PANOLENS.Viewer.prototype.tweenControlCenterByObject=function(t,e,i){var n=!1;if(t.traverseAncestors(function(t){t.scalePlaceHolder&&(n=!0)}),n){var o=new THREE.Vector3(-1,1,1);this.tweenControlCenter(t.getWorldPosition().multiply(o),e,i)}else this.tweenControlCenter(t.getWorldPosition(),e,i)},PANOLENS.Viewer.prototype.onWindowResize=function(t,e){var i,n,o;if(o=this.container.classList.contains("panolens-container")||this.container.isFullscreen,void 0!==t&&void 0!==e)i=t,n=e,this.container._width=t,this.container._height=e;else{var r,a;r=PANOLENS.Utils.isAndroid?Math.min(document.documentElement.clientWidth,window.innerWidth||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=PANOLENS.Utils.isAndroid?Math.min(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=o?r:this.container.clientWidth,n=o?a:this.container.clientHeight,this.container._width=i,this.container._height=n}this.camera.aspect=i/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(i,n),(this.options.enableReticle||this.tempEnableReticle)&&this.updateReticleEvent(),this.dispatchEvent({type:"window-resize",width:i,height:n}),this.scene.traverse(function(t){t.dispatchEvent&&t.dispatchEvent({type:"window-resize",width:i,height:n})})},PANOLENS.Viewer.prototype.addOutputElement=function(){var t=document.createElement("div");t.style.position="absolute",t.style.right="10px",t.style.top="10px",t.style.color="#fff",this.container.appendChild(t),this.outputDivElement=t},PANOLENS.Viewer.prototype.outputInfospotPosition=function(){var t,e,i,n;if(t=this.raycaster.intersectObject(this.panorama,!0),t.length>0){if(e=t[0].point,i=this.panorama.getWorldPosition(),n=new THREE.Vector3(-(e.x-i.x).toFixed(2),(e.y-i.y).toFixed(2),(e.z-i.z).toFixed(2)),0===n.length())return;switch(this.options.output){case"console":console.info(n.x+", "+n.y+", "+n.z);break;case"overlay":this.outputDivElement.textContent=n.x+", "+n.y+", "+n.z}}},PANOLENS.Viewer.prototype.onMouseDown=function(t){t.preventDefault(),this.userMouse.x=t.clientX>=0?t.clientX:t.touches[0].clientX,this.userMouse.y=t.clientY>=0?t.clientY:t.touches[0].clientY,this.userMouse.type="mousedown",this.onTap(t)},PANOLENS.Viewer.prototype.onMouseMove=function(t){t.preventDefault(),this.userMouse.type="mousemove",this.onTap(t)},PANOLENS.Viewer.prototype.onMouseUp=function(t){var e,i=!1;this.userMouse.type="mouseup",e=this.userMouse.x>=t.clientX-this.options.clickTolerance&&this.userMouse.x<=t.clientX+this.options.clickTolerance&&this.userMouse.y>=t.clientY-this.options.clickTolerance&&this.userMouse.y<=t.clientY+this.options.clickTolerance||t.changedTouches&&this.userMouse.x>=t.changedTouches[0].clientX-this.options.clickTolerance&&this.userMouse.x<=t.changedTouches[0].clientX+this.options.clickTolerance&&this.userMouse.y>=t.changedTouches[0].clientY-this.options.clickTolerance&&this.userMouse.y<=t.changedTouches[0].clientY+this.options.clickTolerance?"click":void 0,t&&t.target&&!t.target.classList.contains("panolens-canvas")||(t.preventDefault(),i=t.changedTouches&&1===t.changedTouches.length?this.onTap({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY},e):this.onTap(t,e),this.userMouse.type="none",i||"click"===e&&(this.options.autoHideInfospot&&this.panorama&&this.panorama.toggleInfospotVisibility(),this.options.autoHideControlBar&&this.toggleControlBar()))},PANOLENS.Viewer.prototype.onTap=function(t,e){var i,n,o,r=this.container.getBoundingClientRect();if(this.raycasterPoint.x=(t.clientX-r.left)/this.container.clientWidth*2-1,this.raycasterPoint.y=-(t.clientY-r.top)/this.container.clientHeight*2+1,this.raycaster.setFromCamera(this.raycasterPoint,this.camera),this.panorama){if(("mousedown"!==t.type&&PANOLENS.Utils.checkTouchSupported()||this.OUTPUT_INFOSPOT)&&this.outputInfospotPosition(),i=this.raycaster.intersectObjects(this.panorama.children,!0),n=this.getConvertedIntersect(i),o=i.length>0?i[0].object:o,"mouseup"===this.userMouse.type&&(n&&this.pressEntityObject===n&&this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressstop-entity",mouseEvent:t}),this.pressEntityObject=void 0),"mouseup"===this.userMouse.type&&(o&&this.pressObject===o&&this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressstop",mouseEvent:t}),this.pressObject=void 0),"click"===e?(this.panorama.dispatchEvent({type:"click",intersects:i,mouseEvent:t}),n&&n.dispatchEvent&&n.dispatchEvent({type:"click-entity",mouseEvent:t}),o&&o.dispatchEvent&&o.dispatchEvent({type:"click",mouseEvent:t})):(this.panorama.dispatchEvent({type:"hover",intersects:i,mouseEvent:t}),(this.hoverObject&&i.length>0&&this.hoverObject!==n||this.hoverObject&&0===i.length)&&(this.hoverObject.dispatchEvent&&(this.hoverObject.dispatchEvent({type:"hoverleave",mouseEvent:t}),this.reticle.cancelDwelling()),this.hoverObject=void 0),n&&i.length>0&&(this.hoverObject!==n&&(this.hoverObject=n,this.hoverObject.dispatchEvent&&(this.hoverObject.dispatchEvent({type:"hoverenter",mouseEvent:t}),(this.options.autoReticleSelect&&this.options.enableReticle||this.tempEnableReticle)&&this.reticle.startDwelling(this.onTap.bind(this,t,"click")))),"mousedown"===this.userMouse.type&&this.pressEntityObject!=n&&(this.pressEntityObject=n,this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressstart-entity",mouseEvent:t})),"mousedown"===this.userMouse.type&&this.pressObject!=o&&(this.pressObject=o,this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressstart",mouseEvent:t})),("mousemove"===this.userMouse.type||this.options.enableReticle)&&(o&&o.dispatchEvent&&o.dispatchEvent({type:"hover",mouseEvent:t}),this.pressEntityObject&&this.pressEntityObject.dispatchEvent&&this.pressEntityObject.dispatchEvent({type:"pressmove-entity",mouseEvent:t}),this.pressObject&&this.pressObject.dispatchEvent&&this.pressObject.dispatchEvent({type:"pressmove",mouseEvent:t}))),!n&&this.pressEntityObject&&this.pressEntityObject.dispatchEvent&&(this.pressEntityObject.dispatchEvent({type:"pressstop-entity",mouseEvent:t}),this.pressEntityObject=void 0),!o&&this.pressObject&&this.pressObject.dispatchEvent&&(this.pressObject.dispatchEvent({type:"pressstop",mouseEvent:t}),this.pressObject=void 0)),o&&o instanceof PANOLENS.Infospot){if(this.infospot=o,"click"===e)return!0}else this.infospot&&this.hideInfospot();this.options.autoRotate&&"mousemove"!==this.userMouse.type&&(clearTimeout(this.autoRotateRequestId),this.control===this.OrbitControls&&(this.OrbitControls.autoRotate=!1,this.autoRotateRequestId=window.setTimeout(this.enableAutoRate.bind(this),this.options.autoRotateActivationDuration)))}},PANOLENS.Viewer.prototype.getConvertedIntersect=function(t){for(var e,i=0;i<t.length;i++)if(t[i].distance>=0&&t[i].object&&!t[i].object.passThrough){if(t[i].object.entity&&t[i].object.entity.passThrough)continue;if(t[i].object.entity&&!t[i].object.entity.passThrough){e=t[i].object.entity;break}e=t[i].object;break}return e},PANOLENS.Viewer.prototype.hideInfospot=function(t){this.infospot&&(this.infospot.onHoverEnd(),this.infospot=void 0)},PANOLENS.Viewer.prototype.toggleControlBar=function(){this.widget&&this.widget.dispatchEvent({type:"control-bar-toggle"})},PANOLENS.Viewer.prototype.onKeyDown=function(t){this.options.output&&"none"!==this.options.output&&"Control"===t.key&&(this.OUTPUT_INFOSPOT=!0)},PANOLENS.Viewer.prototype.onKeyUp=function(t){this.OUTPUT_INFOSPOT=!1},PANOLENS.Viewer.prototype.update=function(){TWEEN.update(),this.updateCallbacks.forEach(function(t){t()}),this.control.update(),this.scene.traverse(function(t){if(t instanceof PANOLENS.Infospot&&t.element&&(this.hoverObject===t||"none"!==t.element.style.display||t.element.left&&"none"!==t.element.left.style.display||t.element.right&&"none"!==t.element.right.style.display))if(this.checkSpriteInViewport(t)){var e=this.getScreenVector(t.getWorldPosition());t.translateElement(e.x,e.y)}else t.onDismiss()}.bind(this))},PANOLENS.Viewer.prototype.render=function(){this.mode===PANOLENS.Modes.CARDBOARD||this.mode===PANOLENS.Modes.STEREO?this.effect.render(this.scene,this.camera):this.renderer.render(this.scene,this.camera)},PANOLENS.Viewer.prototype.animate=function(){this.requestAnimationId=window.requestAnimationFrame(this.animate.bind(this)),this.onChange()},PANOLENS.Viewer.prototype.onChange=function(){this.update(),this.render()},PANOLENS.Viewer.prototype.registerMouseAndTouchEvents=function(){this.container.addEventListener("mousedown",this.HANDLER_MOUSE_DOWN,!1),this.container.addEventListener("mousemove",this.HANDLER_MOUSE_MOVE,!1),this.container.addEventListener("mouseup",this.HANDLER_MOUSE_UP,!1),this.container.addEventListener("touchstart",this.HANDLER_MOUSE_DOWN,!1),this.container.addEventListener("touchend",this.HANDLER_MOUSE_UP,!1)},PANOLENS.Viewer.prototype.unregisterMouseAndTouchEvents=function(){this.container.removeEventListener("mousedown",this.HANDLER_MOUSE_DOWN,!1),this.container.removeEventListener("mousemove",this.HANDLER_MOUSE_MOVE,!1),this.container.removeEventListener("mouseup",this.HANDLER_MOUSE_UP,!1),this.container.removeEventListener("touchstart",this.HANDLER_MOUSE_DOWN,!1),this.container.removeEventListener("touchend",this.HANDLER_MOUSE_UP,!1)},PANOLENS.Viewer.prototype.registerReticleEvent=function(){this.addUpdateCallback(this.HANDLER_TAP)},PANOLENS.Viewer.prototype.unregisterReticleEvent=function(){this.removeUpdateCallback(this.HANDLER_TAP)},PANOLENS.Viewer.prototype.updateReticleEvent=function(){var t,e;t=this.container.clientWidth/2+this.container.offsetLeft,e=this.container.clientHeight/2,this.removeUpdateCallback(this.HANDLER_TAP),this.HANDLER_TAP=this.onTap.bind(this,{clientX:t,clientY:e}),this.addUpdateCallback(this.HANDLER_TAP)},PANOLENS.Viewer.prototype.registerEventListeners=function(){window.addEventListener("resize",this.HANDLER_WINDOW_RESIZE,!0),window.addEventListener("keydown",this.HANDLER_KEY_DOWN,!0),window.addEventListener("keyup",this.HANDLER_KEY_UP,!0)},PANOLENS.Viewer.prototype.unregisterEventListeners=function(){window.removeEventListener("resize",this.HANDLER_WINDOW_RESIZE,!0),window.removeEventListener("keydown",this.HANDLER_KEY_DOWN,!0),window.removeEventListener("keyup",this.HANDLER_KEY_UP,!0)},PANOLENS.Viewer.prototype.dispose=function(){function t(e){for(var i=e.children.length-1;i>=0;i--)t(e.children[i]),e.remove(e.children[i]);e instanceof PANOLENS.Infospot&&e.dispose(),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}this.unregisterEventListeners(),t(this.scene),this.widget&&(this.widget.dispose(),this.widget=null),THREE.Cache&&THREE.Cache.enabled&&THREE.Cache.clear()},PANOLENS.Viewer.prototype.destory=function(){this.dispose(),this.render(),window.cancelAnimationFrame(this.requestAnimationId)},PANOLENS.Viewer.prototype.onPanoramaDispose=function(t){t instanceof PANOLENS.VideoPanorama&&this.hideVideoWidget(),t===this.panorama&&(this.panorama=null)},PANOLENS.Viewer.prototype.loadAsyncRequest=function(t,e){var i=new XMLHttpRequest;i.onloadend=function(t){e&&e(t)},i.open("GET",t,!0),i.send(null)},PANOLENS.Viewer.prototype.addViewIndicator=function(){function t(t){if(0!==t.loaded){var i=t.target.responseXML.documentElement;i.style.width=e.viewIndicatorSize+"px",i.style.height=e.viewIndicatorSize+"px",i.style.position="absolute",i.style.top="10px",i.style.left="10px",i.style.opacity="0.5",i.style.cursor="pointer",i.id="panolens-view-indicator-container",e.container.appendChild(i);var n=i.querySelector("#indicator"),o=function(){e.radius=.225*e.viewIndicatorSize,e.currentPanoAngle=e.camera.rotation.y-THREE.Math.degToRad(90),e.fovAngle=THREE.Math.degToRad(e.camera.fov),e.leftAngle=-e.currentPanoAngle-e.fovAngle/2,e.rightAngle=-e.currentPanoAngle+e.fovAngle/2,e.leftX=e.radius*Math.cos(e.leftAngle),e.leftY=e.radius*Math.sin(e.leftAngle),e.rightX=e.radius*Math.cos(e.rightAngle),e.rightY=e.radius*Math.sin(e.rightAngle),e.indicatorD="M "+e.leftX+" "+e.leftY+" A "+e.radius+" "+e.radius+" 0 0 1 "+e.rightX+" "+e.rightY,e.leftX&&e.leftY&&e.rightX&&e.rightY&&e.radius&&n.setAttribute("d",e.indicatorD)};e.addUpdateCallback(o);var r=function(){this.style.opacity="1"},a=function(){this.style.opacity="0.5"};i.addEventListener("mouseenter",r),i.addEventListener("mouseleave",a)}}var e=this;this.loadAsyncRequest(PANOLENS.DataImage.ViewIndicator,t)},PANOLENS.Viewer.prototype.appendControlItem=function(t){var e=this.widget.createCustomItem(t);return"video"===t.group?this.widget.videoElement.appendChild(e):this.widget.barElement.appendChild(e),e},PANOLENS.Viewer.prototype.clearAllCache=function(){THREE.Cache.clear()}}(),function t(e,i,n){function o(a,s){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){var i=e[a][1][t];return o(i||t)},l,l.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){function n(t){u.call(this),"string"==typeof t&&(t={text:t}),this._opt=h({},t),t&&this.update(t)}var o=t("layout-bmfont-text"),r=t("inherits"),a=t("quad-indices"),s=t("three-buffer-vertex-data"),h=t("object-assign"),c=t("./lib/vertices"),l=t("./lib/utils"),u=THREE.BufferGeometry;e.exports=function(t){return new n(t)},r(n,u),n.prototype.update=function(t){if("string"==typeof t&&(t={text:t}),t=h({},this._opt,t),!t.font)throw new TypeError("must specify a { font } in options");this.layout=o(t);var e=!1!==t.flipY,i=t.font,n=i.common.scaleW,r=i.common.scaleH,l=this.layout.glyphs.filter(function(t){var e=t.data;return e.width*e.height>0});this.visibleGlyphs=l;var u=c.positions(l),d=c.uvs(l,n,r,e),p=a({clockwise:!0,type:"uint16",count:l.length});if(s.index(this,p,1,"uint16"),s.attr(this,"position",u,2),s.attr(this,"uv",d,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var f=c.pages(l);s.attr(this,"page",f,1)}},n.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);l.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},n.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,i=this.attributes.position.itemSize;if(!e||!i||e.length<2)return void t.makeEmpty();l.computeBox(e,t)}},{"./lib/utils":2,"./lib/vertices":3,inherits:4,"layout-bmfont-text":5,"object-assign":26,"quad-indices":27,"three-buffer-vertex-data":31}],2:[function(t,e,i){function n(t){var e=t.length/o;r.min[0]=t[0],r.min[1]=t[1],r.max[0]=t[0],r.max[1]=t[1];for(var i=0;i<e;i++){var n=t[i*o+0],a=t[i*o+1];r.min[0]=Math.min(n,r.min[0]),r.min[1]=Math.min(a,r.min[1]),r.max[0]=Math.max(n,r.max[0]),r.max[1]=Math.max(a,r.max[1])}}var o=2,r={min:[0,0],max:[0,0]};e.exports.computeBox=function(t,e){n(t),e.min.set(r.min[0],r.min[1],0),e.max.set(r.max[0],r.max[1],0)},e.exports.computeSphere=function(t,e){n(t);var i=r.min[0],o=r.min[1],a=r.max[0],s=r.max[1],h=a-i,c=s-o,l=Math.sqrt(h*h+c*c);e.center.set(i+h/2,o+c/2,0),e.radius=l/2}},{}],3:[function(t,e,i){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),i=0;return t.forEach(function(t){var n=t.data.page||0;e[i++]=n,e[i++]=n,e[i++]=n,e[i++]=n}),e},e.exports.uvs=function(t,e,i,n){var o=new Float32Array(4*t.length*2),r=0;return t.forEach(function(t){var a=t.data,s=a.x+a.width,h=a.y+a.height,c=a.x/e,l=a.y/i,u=s/e,d=h/i;n&&(l=(i-a.y)/i,d=(i-h)/i),o[r++]=c,o[r++]=l,o[r++]=c,o[r++]=d,o[r++]=u,o[r++]=d,o[r++]=u,o[r++]=l}),o},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),i=0;return t.forEach(function(t){var n=t.data,o=t.position[0]+n.xoffset,r=t.position[1]+n.yoffset,a=n.width,s=n.height;e[i++]=o,e[i++]=r,e[i++]=o,e[i++]=r+s,e[i++]=o+a,e[i++]=r+s,e[i++]=o+a,e[i++]=r}),e}},{}],4:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],5:[function(t,e,i){function n(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function o(t){Object.defineProperty(n.prototype,t,{get:r(t),configurable:!0})}function r(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function a(t,e){if(!t.chars||0===t.chars.length)return null;var i=f(t.chars,e);return i>=0?t.chars[i]:null}function s(t){for(var e=0;e<m.length;e++){var i=m[e].charCodeAt(0),n=f(t.chars,i);if(n>=0)return t.chars[n].height}return 0}function h(t){for(var e=0;e<v.length;e++){var i=v[e].charCodeAt(0),n=f(t.chars,i);if(n>=0)return t.chars[n]}return 0}function c(t){for(var e=0;e<g.length;e++){var i=g[e].charCodeAt(0),n=f(t.chars,i);if(n>=0)return t.chars[n].height}return 0}function l(t,e,i){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,o=0;o<n.length;o++){var r=n[o];if(r.first===e&&r.second===i)return r.amount}return 0}function u(t){return"center"===t?A:"right"===t?L:w}var d=t("word-wrapper"),p=t("xtend"),f=t("indexof-property")("id"),E=t("as-number"),m=["x","e","a","o","n","s","r","c","u","m","v","w","z"],v=["m","w"],g=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],y="\t".charCodeAt(0),N=" ".charCodeAt(0),w=0,A=1,L=2;e.exports=function(t){return new n(t)},n.prototype.update=function(t){if(t=p({measure:this._measure},t),this._opt=t,this._opt.tabSize=E(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,i=t.text||"",n=t.font;this._setupSpaceGlyphs(n);var o=d.lines(i,t),r=t.width||0;e.length=0;var a=o.reduce(function(t,e){return Math.max(t,e.width,r)},0),h=0,f=0,m=E(t.lineHeight,n.common.lineHeight),v=n.common.base,g=m-v,y=t.letterSpacing||0,N=m*o.length-g,w=u(this._opt.align);f-=N,this._width=a,this._height=N,this._descender=m-v,this._baseline=v,this._xHeight=s(n),this._capHeight=c(n),this._lineHeight=m,this._ascender=m-g-this._xHeight;var P=this;o.forEach(function(t,o){for(var r,s=t.start,c=t.end,u=t.width,d=s;d<c;d++){var p=i.charCodeAt(d),E=P.getGlyph(n,p);if(E){r&&(h+=l(n,r.id,E.id));var v=h;w===A?v+=(a-u)/2:w===L&&(v+=a-u),e.push({position:[v,f],data:E,index:d,line:o}),h+=E.xadvance+y,r=E}}f+=m,h=0}),this._linesTotal=o.length},n.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=a(t,N)||h(t)||t.chars[0],i=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=p(e,{x:0,y:0,xadvance:i,id:y,xoffset:0,yoffset:0,width:0,height:0})}},n.prototype.getGlyph=function(t,e){var i=a(t,e);return i||(e===y?this._fallbackTabGlyph:e===N?this._fallbackSpaceGlyph:null)},n.prototype.computeMetrics=function(t,e,i,n){var o,r,a=this._opt.letterSpacing||0,s=this._opt.font,h=0,c=0,u=0;if(!s.chars||0===s.chars.length)return{start:e,end:e,width:0};i=Math.min(t.length,i);for(var d=e;d<i;d++){var p=t.charCodeAt(d),o=this.getGlyph(s,p);if(o){o.xoffset;h+=r?l(s,r.id,o.id):0;var f=h+o.xadvance+a,E=h+o.width;if(E>=n||f>=n)break;h=f,c=E,r=o}u++}return r&&(c+=r.xoffset),{start:e,end:e+u,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(o)},{"as-number":6,"indexof-property":7,"word-wrapper":8,xtend:9}],6:[function(t,e,i){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},{}],7:[function(t,e,i){e.exports=function(t){if(!t||"string"!=typeof t)throw new Error("must specify property for indexof search");return new Function("array","value","start",["start = start || 0","for (var i=start; i<array.length; i++)",'  if (array[i]["'+t+'"] === value)',"      return i","return -1"].join("\n"))}},{}],8:[function(t,e,i){function n(t,e,i,n){var o=t.indexOf(e,i);return-1===o||o>n?n:o}function o(t){return l.test(t)}function r(t,e,i,n,o){for(var r=[],a=i,s=i;s<n&&s<e.length;s++){var c=e.charAt(s),l=h.test(c);if(l||s===n-1){var u=l?s:s+1,d=t(e,a,u,o);r.push(d),a=s+1}}return r}function a(t,e,i,r,a,s){var h=[],l=a;for("nowrap"===s&&(l=Number.MAX_VALUE);i<r&&i<e.length;){for(var u=n(e,c,i,r);i<u&&o(e.charAt(i));)i++;var d=t(e,i,u,l),p=i+(d.end-d.start),f=p+c.length;if(p<u){for(;p>i&&!o(e.charAt(p));)p--;if(p===i)f>i+c.length&&f--,p=f;else for(f=p;p>i&&o(e.charAt(p-c.length));)p--}if(p>=i){var E=t(e,i,p,l);h.push(E)}i=f}return h}function s(t,e,i,n){return{start:e,end:e+Math.min(n,i-e)}}var h=/\n/,c="\n",l=/\s/;e.exports=function(t,i){return e.exports.lines(t,i).map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(t,e){if(e=e||{},0===e.width&&"nowrap"!==e.mode)return[];t=t||"";var i="number"==typeof e.width?e.width:Number.MAX_VALUE,n=Math.max(0,e.start||0),o="number"==typeof e.end?e.end:t.length,h=e.mode,c=e.measure||s;return"pre"===h?r(c,t,n,o,i):a(c,t,n,o,i,h)}},{}],9:[function(t,e,i){function n(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)o.call(i,n)&&(t[n]=i[n])}return t}e.exports=n;var o=Object.prototype.hasOwnProperty},{}],10:[function(t,e,i){(function(i){function n(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)}function o(t){if(d)return u(t,{responseType:"arraybuffer"});if(void 0===window.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new window.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),u({xhr:e},t)}var r=t("xhr"),a=function(){},s=t("parse-bmfont-ascii"),h=t("parse-bmfont-xml"),c=t("parse-bmfont-binary"),l=t("./lib/is-binary"),u=t("xtend"),d=function(){return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();e.exports=function(t,e){e="function"==typeof e?e:a,"string"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=o(t)),r(t,function(o,r,u){if(o)return e(o);if(!/^2/.test(r.statusCode))return e(new Error("http status code: "+r.statusCode));if(!u)return e(new Error("no body result"));var d=!1;if(n(u)){var p=new Uint8Array(u);u=new i(p,"binary")}l(u)&&(d=!0,"string"==typeof u&&(u=new i(u,"binary"))),d||(i.isBuffer(u)&&(u=u.toString(t.encoding)),u=u.trim());var f;try{var E=r.headers["content-type"];f=d?c(u):/json/.test(E)||"{"===u.charAt(0)?JSON.parse(u):/xml/.test(E)||"<"===u.charAt(0)?h(u):s(u)}catch(t){e(new Error("error parsing font "+t.message)),e=a}e(null,f)})}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":11,buffer:37,"parse-bmfont-ascii":13,"parse-bmfont-binary":14,"parse-bmfont-xml":15,xhr:18,xtend:25}],11:[function(t,e,i){(function(i){var n=t("buffer-equal"),o=new i([66,77,70,3]);e.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&n(t.slice(0,4),o)}}).call(this,t("buffer").Buffer)},{buffer:37,"buffer-equal":12}],12:[function(t,e,i){var n=t("buffer").Buffer;e.exports=function(t,e){if(n.isBuffer(t)&&n.isBuffer(e)){if("function"==typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}},{buffer:37}],13:[function(t,e,i){function n(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var i=t.indexOf(" ");if(-1===i)throw new Error("no named row at line "+e);var n=t.substring(0,i);t=t.substring(i+1),t=t.replace(/letter=[\'\"]\S+[\'\"]/gi,""),t=t.split("="),t=t.map(function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var r=[],a=0;a<t.length;a++){var s=t[a];0===a?r.push({key:s[0],data:""}):a===t.length-1?r[r.length-1].data=o(s[0]):(r[r.length-1].data=o(s[0]),r.push({key:s[1],data:""}))}var h={key:n,data:{}};return r.forEach(function(t){h.data[t.key]=t.data}),h}function o(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?r(t):parseInt(t,10):""}function r(t){return t.split(",").map(function(t){return parseInt(t,10)})}e.exports=function(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var e={pages:[],chars:[],kernings:[]},i=t.split(/\r\n?|\n/g);if(0===i.length)throw new Error("no data in BMFont file");for(var o=0;o<i.length;o++){var r=n(i[o],o);if(r)if("page"===r.key){if("number"!=typeof r.data.id)throw new Error("malformed file at line "+o+" -- needs page id=N");if("string"!=typeof r.data.file)throw new Error("malformed file at line "+o+' -- needs page file="path"');e.pages[r.data.id]=r.data.file}else"chars"===r.key||"kernings"===r.key||("char"===r.key?e.chars.push(r.data):"kerning"===r.key?e.kernings.push(r.data):e[r.key]=r.data)}return e}},{}],14:[function(t,e,i){function n(t,e,i){if(i>e.length-1)return 0;var n=e.readUInt8(i++),c=e.readInt32LE(i);switch(i+=4,n){case 1:t.info=o(e,i);break;case 2:t.common=r(e,i);break;case 3:t.pages=a(e,i,c);break;case 4:t.chars=s(e,i,c);break;case 5:t.kernings=h(e,i,c)}return 5+c}function o(t,e){var i={};i.size=t.readInt16LE(e);var n=t.readUInt8(e+2);return i.smooth=n>>7&1,i.unicode=n>>6&1,i.italic=n>>5&1,i.bold=n>>4&1,n>>3&1&&(i.fixedHeight=1),i.charset=t.readUInt8(e+3)||"",i.stretchH=t.readUInt16LE(e+4),i.aa=t.readUInt8(e+6),i.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],i.spacing=[t.readInt8(e+11),t.readInt8(e+12)],i.outline=t.readUInt8(e+13),i.face=l(t,e+14),i}function r(t,e){var i={};i.lineHeight=t.readUInt16LE(e),i.base=t.readUInt16LE(e+2),i.scaleW=t.readUInt16LE(e+4),i.scaleH=t.readUInt16LE(e+6),i.pages=t.readUInt16LE(e+8);t.readUInt8(e+10);return i.packed=0,i.alphaChnl=t.readUInt8(e+11),i.redChnl=t.readUInt8(e+12),i.greenChnl=t.readUInt8(e+13),i.blueChnl=t.readUInt8(e+14),i}function a(t,e,i){for(var n=[],o=c(t,e),r=o.length+1,a=i/r,s=0;s<a;s++)n[s]=t.slice(e,e+o.length).toString("utf8"),e+=r;return n}function s(t,e,i){for(var n=[],o=i/20,r=0;r<o;r++){var a={},s=20*r;a.id=t.readUInt32LE(e+0+s),a.x=t.readUInt16LE(e+4+s),a.y=t.readUInt16LE(e+6+s),a.width=t.readUInt16LE(e+8+s),a.height=t.readUInt16LE(e+10+s),a.xoffset=t.readInt16LE(e+12+s),a.yoffset=t.readInt16LE(e+14+s),a.xadvance=t.readInt16LE(e+16+s),a.page=t.readUInt8(e+18+s),a.chnl=t.readUInt8(e+19+s),n[r]=a}return n}function h(t,e,i){
for(var n=[],o=i/10,r=0;r<o;r++){var a={},s=10*r;a.first=t.readUInt32LE(e+0+s),a.second=t.readUInt32LE(e+4+s),a.amount=t.readInt16LE(e+8+s),n[r]=a}return n}function c(t,e){for(var i=e;i<t.length&&0!==t[i];i++);return t.slice(e,i)}function l(t,e){return c(t,e).toString("utf8")}var u=[66,77,70];e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!u.every(function(e,i){return t.readUInt8(i)===e}))throw new Error("BMFont missing BMF byte header");var e=3;if(t.readUInt8(e++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var i={kernings:[],chars:[]},o=0;o<5;o++)e+=n(i,t,e);return i}},{}],15:[function(t,e,i){function n(t){return o(t).reduce(function(t,e){return t[r(e.nodeName)]=e.nodeValue,t},{})}function o(t){for(var e=[],i=0;i<t.attributes.length;i++)e.push(t.attributes[i]);return e}function r(t){return h[t.toLowerCase()]||t}var a=t("./parse-attribs"),s=t("xml-parse-from-string"),h={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};e.exports=function(t){t=t.toString();var e=s(t),i={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(t){var o=e.getElementsByTagName(t)[0];o&&(i[t]=a(n(o)))});var o=e.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var r=o.getElementsByTagName("page"),h=0;h<r.length;h++){var c=r[h],l=parseInt(c.getAttribute("id"),10),u=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!u)throw new Error('malformed file -- needs page "file" attribute');i.pages[parseInt(l,10)]=u}return["chars","kernings"].forEach(function(t){var o=e.getElementsByTagName(t)[0];if(o)for(var r=t.substring(0,t.length-1),s=o.getElementsByTagName(r),h=0;h<s.length;h++){var c=s[h];i[t].push(a(n(c)))}}),i}},{"./parse-attribs":16,"xml-parse-from-string":17}],16:[function(t,e,i){function n(t){return t.split(",").map(function(t){return parseInt(t,10)})}e.exports=function(t){"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset);for(var e in t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?n(t[e]):parseInt(t[e],10));return t}},{}],17:[function(t,e,i){e.exports=function(){return void 0!==window.DOMParser?function(t){return(new window.DOMParser).parseFromString(t,"application/xml")}:void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}}()},{}],18:[function(t,e,i){"use strict";function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,i){var n=t;return l(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=d(e,{uri:t}),n.callback=i,n}function r(t,e,i){return e=o(t,e,i),a(e)}function a(t){function e(){4===l.readyState&&a()}function i(){var t=void 0;if(l.response?t=l.response:"text"!==l.responseType&&l.responseType||(t=l.responseText||l.responseXML),N)try{t=JSON.parse(t)}catch(t){}return t}function o(t){clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,h)}function a(){if(!p){var e;clearTimeout(f),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var n=h,o=null;0!==e?(n={body:i(),statusCode:e,method:m,headers:{},url:E,rawRequest:l},l.getAllResponseHeaders&&(n.headers=u(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,n,n.body)}}var s=t.callback;if(void 0===s)throw new Error("callback argument missing");s=c(s);var h={body:void 0,headers:{},statusCode:0,method:m,url:E,rawRequest:l},l=t.xhr||null;l||(l=t.cors||t.useXDR?new r.XDomainRequest:new r.XMLHttpRequest);var d,p,f,E=l.url=t.uri||t.url,m=l.method=t.method||"GET",v=t.body||t.data||null,g=l.headers=t.headers||{},y=!!t.sync,N=!1;if("json"in t&&(N=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),v=JSON.stringify(t.json))),l.onreadystatechange=e,l.onload=a,l.onerror=o,l.onprogress=function(){},l.ontimeout=o,l.open(m,E,!y,t.username,t.password),y||(l.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(f=setTimeout(function(){p=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)},t.timeout)),l.setRequestHeader)for(d in g)g.hasOwnProperty(d)&&l.setRequestHeader(d,g[d]);else if(t.headers&&!n(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(v),l}function s(){}var h=t("global/window"),c=t("once"),l=t("is-function"),u=t("parse-headers"),d=t("xtend");e.exports=r,r.XMLHttpRequest=h.XMLHttpRequest||s,r.XDomainRequest="withCredentials"in new r.XMLHttpRequest?r.XMLHttpRequest:h.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],function(t){r["delete"===t?"del":t]=function(e,i,n){return i=o(e,i,n),i.method=t.toUpperCase(),a(i)}})},{"global/window":19,"is-function":20,once:21,"parse-headers":24,xtend:25}],19:[function(t,e,i){(function(t){"undefined"!=typeof window?e.exports=window:void 0!==t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,i){function n(t){var e=o.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var o=Object.prototype.toString},{}],21:[function(t,e,i){function n(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],22:[function(t,e,i){function n(t,e,i){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===h.call(t)?o(t,e,i):"string"==typeof t?r(t,e,i):a(t,e,i)}function o(t,e,i){for(var n=0,o=t.length;n<o;n++)c.call(t,n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=0,o=t.length;n<o;n++)e.call(i,t.charAt(n),n,t)}function a(t,e,i){for(var n in t)c.call(t,n)&&e.call(i,t[n],n,t)}var s=t("is-function");e.exports=n;var h=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":20}],23:[function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}i=e.exports=n,i.left=function(t){return t.replace(/^\s*/,"")},i.right=function(t){return t.replace(/\s*$/,"")}},{}],24:[function(t,e,i){var n=t("trim"),o=t("for-each"),r=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return o(n(t).split("\n"),function(t){var i=t.indexOf(":"),o=n(t.slice(0,i)).toLowerCase(),a=n(t.slice(i+1));void 0===e[o]?e[o]=a:r(e[o])?e[o].push(a):e[o]=[e[o],a]}),e}},{"for-each":22,trim:23}],25:[function(t,e,i){arguments[4][9][0].apply(i,arguments)},{dup:9}],26:[function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var i,a,s=n(t),h=1;h<arguments.length;h++){i=Object(arguments[h]);for(var c in i)o.call(i,c)&&(s[c]=i[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var l=0;l<a.length;l++)r.call(i,a[l])&&(s[a[l]]=i[a[l]])}}return s}},{}],27:[function(t,e,i){var n=t("dtype"),o=t("an-array"),r=t("is-buffer"),a=[0,2,3],s=[2,1,3];e.exports=function(t,e){t&&(o(t)||r(t))||(e=t||{},t=null),e="number"==typeof e?{count:e}:e||{};for(var i="string"==typeof e.type?e.type:"uint16",h="number"==typeof e.count?e.count:1,c=e.start||0,l=!1!==e.clockwise?a:s,u=l[0],d=l[1],p=l[2],f=6*h,E=t||new(n(i))(f),m=0,v=0;m<f;m+=6,v+=4){var g=m+c;E[g+0]=v+0,E[g+1]=v+1,E[g+2]=v+2,E[g+3]=v+u,E[g+4]=v+d,E[g+5]=v+p}return E}},{"an-array":28,dtype:29,"is-buffer":30}],28:[function(t,e,i){function n(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===o.call(t.buffer)||Array.isArray(t)}var o=Object.prototype.toString;e.exports=n},{}],29:[function(t,e,i){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],30:[function(t,e,i){e.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},{}],31:[function(t,e,i){function n(t,e,i,n){"number"!=typeof i&&(i=1),"number"!=typeof n&&(n="uint16");var o=!t.index&&"function"!=typeof t.setIndex,a=o?t.getAttribute("index"):t.index,s=r(a,e,i,n);s&&(o?t.addAttribute("index",s):t.index=s)}function o(t,e,i,n,o){if("number"!=typeof n&&(n=3),"number"!=typeof o&&(o="float32"),Array.isArray(i)&&Array.isArray(i[0])&&i[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+i[0].length);var a=t.getAttribute(e),s=r(a,i,n,o);s&&t.addAttribute(e,s)}function r(t,e,i,n){return e=e||[],!t||a(t,e,i)?(e=s(e,n),t=new THREE.BufferAttribute(e,i),t.needsUpdate=!0,t):(s(e,t.array),t.needsUpdate=!0,null)}function a(t,e,i){if(t.itemSize!==i)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(e)&&Array.isArray(e[0])?n!==e.length*i:n!==e.length}var s=t("flatten-vertex-data");e.exports.attr=o,e.exports.index=n},{"flatten-vertex-data":32}],32:[function(t,e,i){function n(t,e,i){if(!t)throw new TypeError("must specify data as first parameter");if(i=0|+(i||0),Array.isArray(t)&&Array.isArray(t[0])){var n=t[0].length,r=t.length*n;e&&"string"!=typeof e||(e=new(o(e||"float32"))(r+i));var a=e.length-i;if(r!==a)throw new Error("source length "+r+" ("+n+"x"+t.length+") does not match destination length "+a);for(var s=0,h=i;s<t.length;s++)for(var c=0;c<n;c++)e[h++]=t[s][c]}else if(e&&"string"!=typeof e)e.set(t,i);else{var l=o(e||"float32");0===i?e=new l(t):(e=new l(t.length+i),e.set(t,i))}return e}var o=t("dtype");e.exports=n},{dtype:33}],33:[function(t,e,i){arguments[4][29][0].apply(i,arguments)},{dup:29}],34:[function(t,e,i){var n=t("object-assign");e.exports=function(t){t=t||{};var e="number"==typeof t.opacity?t.opacity:1,i="number"==typeof t.alphaTest?t.alphaTest:1e-4,o=t.precision||"highp",r=t.color,a=t.map;return delete t.map,delete t.color,delete t.precision,delete t.opacity,n({uniforms:{opacity:{type:"f",value:e},map:{type:"t",value:a||new THREE.Texture},color:{type:"c",value:new THREE.Color(r)}},vertexShader:["attribute vec2 uv;","attribute vec4 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * position;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision "+o+" float;","uniform float opacity;","uniform vec3 color;","uniform sampler2D map;","varying vec2 vUv;","float aastep(float value) {","  #ifdef GL_OES_standard_derivatives","    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;","  #else","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  #endif","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","void main() {","  vec4 texColor = texture2D(map, vUv);","  float alpha = aastep(texColor.a);","  gl_FragColor = vec4(color, opacity * alpha);",0===i?"":"  if (gl_FragColor.a < "+i+") discard;","}"].join("\n")},t)}},{"object-assign":26}],35:[function(t,e,i){var n=t("load-bmfont");e.exports=function(t,e){n(t.font,function(i,n){if(i)throw i;PANOLENS.Utils.TextureLoader.load(t.image,function(t){e(n,t)})})}},{"load-bmfont":10}],36:[function(t,e,i){var n=t("../"),o=t("../shaders/sdf");PANOLENS&&PANOLENS.Utils&&PANOLENS.SpriteText&&(PANOLENS.Utils.loadBMFont=function(e,i){t("./load")(e,PANOLENS.SpriteText.prototype.setBMFont.bind(PANOLENS.SpriteText.prototype,i))},PANOLENS.SpriteText.prototype.generateTextGeometry=n,PANOLENS.SpriteText.prototype.generateSDFShader=o)},{"../":1,"../shaders/sdf":34,"./load":35}],37:[function(t,e,i){(function(e){"use strict";function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?r(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):s(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function r(t,e){if(t=f(t,e<0?0:0|E(e)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;i++)t[i]=0;return t}function a(t,e,i){return"string"==typeof i&&""!==i||(i="utf8"),t=f(t,0|v(e,i)),t.write(e,i),t}function s(t,e){if(o.isBuffer(e))return h(t,e);if(Q(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return l(t,e);if(e instanceof ArrayBuffer)return u(t,e)}return e.length?d(t,e):p(t,e)}function h(t,e){var i=0|E(e.length);return t=f(t,i),e.copy(t,0,0,i),t}function c(t,e){var i=0|E(e.length);t=f(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function l(t,e){var i=0|E(e.length);t=f(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function u(t,e){return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):t=l(t,new Uint8Array(e)),t}function d(t,e){var i=0|E(e.length);t=f(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function p(t,e){var i,n=0;"Buffer"===e.type&&Q(e.data)&&(i=e.data,n=0|E(i.length)),t=f(t,n);for(var o=0;o<n;o+=1)t[o]=255&i[o];return t}function f(t,e){return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):t.length=e,0!==e&&e<=o.poolSize>>>1&&(t.parent=Z),t}function E(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function m(t,e){if(!(this instanceof m))return new m(t,e);var i=new o(t,e);return delete i.parent,i}function v(t,e){"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Y(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if(e|=0,i=void 0===i||i===1/0?this.length:0|i,t||(t="utf8"),e<0&&(e=0),i>this.length&&(i=this.length),i<=e)return"";for(;;)switch(t){case"hex":return x(this,e,i);case"utf8":case"utf-8":return O(this,e,i);case"ascii":return T(this,e,i);case"binary":return R(this,e,i);case"base64":return b(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,i,n){i=Number(i)||0;var o=t.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=e.length;if(r%2!=0)throw new Error("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[i+a]=s}return a}function N(t,e,i,n){return X(F(e,t.length-i),t,i,n)}function w(t,e,i,n){return X(W(e),t,i,n)}function A(t,e,i,n){return w(t,e,i,n)}function L(t,e,i,n){return X(Y(e),t,i,n)}function P(t,e,i,n){return X(z(e,t.length-i),t,i,n)}function b(t,e,i){return 0===e&&i===t.length?q.fromByteArray(t):q.fromByteArray(t.slice(e,i))}function O(t,e,i){i=Math.min(t.length,i);for(var n=[],o=e;o<i;){var r=t[o],a=null,s=r>239?4:r>223?3:r>191?2:1;if(o+s<=i){var h,c,l,u;switch(s){case 1:r<128&&(a=r);break;case 2:h=t[o+1],128==(192&h)&&(u=(31&r)<<6|63&h)>127&&(a=u);break;case 3:h=t[o+1],c=t[o+2],128==(192&h)&&128==(192&c)&&(u=(15&r)<<12|(63&h)<<6|63&c)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:h=t[o+1],c=t[o+2],l=t[o+3],128==(192&h)&&128==(192&c)&&128==(192&l)&&(u=(15&r)<<18|(63&h)<<12|(63&c)<<6|63&l)>65535&&u<1114112&&(a=u)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return S(n)}function S(t){var e=t.length;if(e<=K)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=K));return i}function T(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;o++)n+=String.fromCharCode(127&t[o]);return n}function R(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;o++)n+=String.fromCharCode(t[o]);return n}function x(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=e;r<i;r++)o+=j(t[r]);return o}function M(t,e,i){for(var n=t.slice(e,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function I(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,i,n,r,a){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>r||e<a)throw new RangeError("value is out of bounds");if(i+n>t.length)throw new RangeError("index out of range")}function H(t,e,i,n){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-i,2);o<r;o++)t[i+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(t,e,i,n){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-i,4);o<r;o++)t[i+o]=e>>>8*(n?o:3-o)&255}function V(t,e,i,n,o,r){if(e>o||e<r)throw new RangeError("value is out of bounds");if(i+n>t.length)throw new RangeError("index out of range");if(i<0)throw new RangeError("index out of range")}function _(t,e,i,n,o){return o||V(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,e,i,n,23,4),i+4}function U(t,e,i,n,o){return o||V(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,e,i,n,52,8),i+8}function k(t){if(t=B(t).replace(J,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var i,n=t.length,o=null,r=[],a=0;a<n;a++){if((i=t.charCodeAt(a))>55295&&i<57344){if(!o){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function W(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}function z(t,e){for(var i,n,o,r=[],a=0;a<t.length&&!((e-=2)<0);a++)i=t.charCodeAt(a),n=i>>8,o=i%256,r.push(o),r.push(n);return r}function Y(t){return q.toByteArray(k(t))}function X(t,e,i,n){for(var o=0;o<n&&!(o+i>=e.length||o>=t.length);o++)e[o+i]=t[o];return o}var q=t("base64-js"),G=t("ieee754"),Q=t("isarray");i.Buffer=o,i.SlowBuffer=m,i.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Z={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a&&t[r]===e[r];)++r;return r!==a&&(i=t[r],n=e[r]),i<n?-1:n<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;i++)e+=t[i].length;var n=new o(e),r=0;for(i=0;i<t.length;i++){var a=t[i];a.copy(n,r),r+=a.length}return n},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function i(t,e,i){for(var n=-1,o=0;i+o<t.length;o++)if(t[i+o]===e[-1===n?0:o-n]){if(-1===n&&(n=o),o-n+1===e.length)return i+n}else n=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return i(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):i(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else if(isFinite(e))e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0);else{var o=n;n=e,e=0|i,i=o}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return N(this,t,e,i);case"ascii":return w(this,t,e,i);case"binary":return A(this,t,e,i);case"base64":return L(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var a=0;a<r;a++)n[a]=this[a+t]}return n.length&&(n.parent=this.parent||this),n},o.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n},o.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=e,o=1,r=this[t+--n];n>0&&(o*=256);)r+=this[t+--n]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||C(this,t,e,i,Math.pow(2,8*i),0);var o=1,r=0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=t/o&255;return e+i},o.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||C(this,t,e,i,Math.pow(2,8*i),0);var o=i-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+i},o.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):H(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):H(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);C(this,t,e,i,o-1,-o)}var r=0,a=1,s=t<0?1:0;for(this[e]=255&t;++r<i&&(a*=256);)this[e+r]=(t/a>>0)-s&255;return e+i},o.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*i-1);C(this,t,e,i,o-1,-o)}var r=i-1,a=1,s=t<0?1:0;for(this[e+r]=255&t;--r>=0&&(a*=256);)this[e+r]=(t/a>>0)-s&255;return e+i},o.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):H(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):H(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,i){return _(this,t,e,!0,i)},o.prototype.writeFloatBE=function(t,e,i){return _(this,t,e,!1,i)},o.prototype.writeDoubleLE=function(t,e,i){return U(this,t,e,!0,i)},o.prototype.writeDoubleBE=function(t,e,i){return U(this,t,e,!1,i)},o.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,a=n-i;if(this===t&&i<e&&e<n)for(r=a-1;r>=0;r--)t[r+e]=this[r+i];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;r++)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+a),e);return a},o.prototype.fill=function(t,e,i){if(t||(t=0),e||(e=0),i||(i=this.length),i<e)throw new RangeError("end < start");if(i!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(i<0||i>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<i;n++)this[n]=t;else{var o=F(t.toString()),r=o.length;for(n=e;n<i;n++)this[n]=o[n%r]}return this}};var J=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":38,ieee754:39,isarray:40}],38:[function(t,e,i){!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===u?62:e===s||e===d?63:e<h?-1:e<h+10?e-h+26+26:e<l+26?e-l:e<c+26?e-c+26:void 0}function i(t){function i(t){c[u++]=t}var n,o,a,s,h,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;h="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new r(3*t.length/4-h),a=h>0?t.length-4:t.length;var u=0;for(n=0,o=0;n<a;n+=4,o+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),i((16711680&s)>>16),i((65280&s)>>8),i(255&s);return 2===h?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,i(255&s)):1===h&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,i(s>>8&255),i(255&s)),c}function n(t){function e(t){return o.charAt(t)}var i,n,r,a=t.length%3,s="";for(i=0,r=t.length-a;i<r;i+=3)n=(t[i]<<16)+(t[i+1]<<8)+t[i+2],s+=function(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}(n);switch(a){case 1:n=t[t.length-1],s+=e(n>>2),s+=e(n<<4&63),s+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],s+=e(n>>10),s+=e(n>>4&63),s+=e(n<<2&63),s+="="}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),h="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),u="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=i,t.fromByteArray=n}(void 0===i?this.base64js={}:i)},{}],39:[function(t,e,i){i.read=function(t,e,i,n,o){var r,a,s=8*o-n-1,h=(1<<s)-1,c=h>>1,l=-7,u=i?o-1:0,d=i?-1:1,p=t[e+u];for(u+=d,r=p&(1<<-l)-1,p>>=-l,l+=s;l>0;r=256*r+t[e+u],u+=d,l-=8);for(a=r&(1<<-l)-1,r>>=-l,l+=n;l>0;a=256*a+t[e+u],u+=d,l-=8);if(0===r)r=1-c;else{if(r===h)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),r-=c}return(p?-1:1)*a*Math.pow(2,r-n)},i.write=function(t,e,i,n,o,r){var a,s,h,c=8*r-o-1,l=(1<<c)-1,u=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,E=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),e+=a+u>=1?d/h:d*Math.pow(2,1-u),e*h>=2&&(a++,h/=2),a+u>=l?(s=0,a=l):a+u>=1?(s=(e*h-1)*Math.pow(2,o),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;t[i+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[i+p]=255&a,p+=f,a/=256,c-=8);t[i+p-f]|=128*E}},{}],40:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}]},{},[36]);
</script>

<script>
var timeoutPano = null;
$("document").ready(function(){
    var modal = $(".modal-container-parent");
    var modalCLone = '';
    if(modal.length > 1) {
        modalCLone = $(".modal-container-parent").first().html();
        modal.remove();
        $("body").append(modalCLone);
    };

    //$(".sidemenu").css("display","none")
    if(modal.length == 1) {
        //var width = $(window).outerWidth();
        //width < 768 ? hideSticky():"";
    }

    /*
    $(".info-360-container").on(getEventType(), function () {
        var instruction = $(this).parent().find(".overlay-360"); instruction.fadeIn(300);
        setTimeout(function(){instruction.fadeOut(300);}, 3000);
        return false;
    });*/


    if(getDeviceType() == "desktop") {
        $(".panolens-container").on('mousemove', function() {
            if (timeoutPano !== null) {
                //console.log("Active");
                $(".container-btn-360, .bar-control-360, .back-button-360").fadeIn(1000);
                clearTimeout(timeoutPano);
            }
            timeoutPano = setTimeout(function() {
                //console.log("Idle");
                $(".container-btn-360, .bar-control-360, .back-button-360").fadeOut(1000);
            }, 3000);
        }).click(function(){
            if (timeoutPano !== null) {
                //console.log("Active");
                $(".container-btn-360, .bar-control-360, .back-button-360").fadeIn(1000);
                clearTimeout(timeoutPano);
            }
            timeoutPano = setTimeout(function() {
                //console.log("Idle");
                $(".container-btn-360, .bar-control-360, .back-button-360").fadeOut(1000);
            }, 3000);
        })
    }

    if(getDeviceType() == "mobile") {
		timeoutPano = setTimeout(function() {
            $(".info-360-container, .bar-control-360, .back-button-360").fadeOut(1000);
        }, 5000);
        $(".panolens-container").on('touchstart', function() {
            if (timeoutPano !== null) {
                //console.log("Active");
                $(".info-360-container, .bar-control-360, .back-button-360").fadeIn(1000);
                clearTimeout(timeoutPano);
            }
            timeoutPano = setTimeout(function() {
                //console.log("Idle");
                $(".info-360-container, .bar-control-360, .back-button-360").fadeOut(1000);
            }, 3000);
        })
    }

})

$(".md-360-close").click(function(){
	closeModal360();
});

$(".md360-image-file").click(function(){
    var dataImage = $(this).find(".md360-item-bg").attr("data-image");
    images360(dataImage);
});

$(".md360-video-file").click(function(){
    var dataVideo  = $(this).find(".md360-item-bg").attr("data-video");
    videos360(dataVideo);
});


var firstVideo = true, videoReady = false;
var panoramaVideo, viewerVideo, viewerType;

function videos360(url){

	$(".md-modal").fadeIn(300);
    $(".panolens-video").show();
    $(".panolens-image").hide();

	if(firstVideo) {
        panoramaVideo = new PANOLENS.VideoPanorama( url, { autoplay: true } );
        viewerVideo = new PANOLENS.Viewer({ container: document.getElementsByClassName("panolens-video")[0], cameraFov: 80, autoHideControlBar: false});
        viewerVideo.add(panoramaVideo);
        videoReady = true;
        viewerVideo.getControl().maxFov = 90;
        viewerVideo.getControl().minFov = 70;
        create360Button(viewerVideo);
        firstVideo = false;
        viewerType = viewerVideo;
    } else {
        $(".loader-360-video").addClass("loader-360-video-show");//ini
		var panorama = panoramaVideo;
		viewerVideo.panorama.videoElement.src = url;
        viewerVideo.panorama.videoElement.play()
        videoReady = true;
    }

    getDeviceType() == "mobile" ? barPosition(viewerVideo) : "";
}

function pauseVideo(){
	if(videoReady) {
        videoReady = false;
        var panorama = panoramaVideo;
        viewerVideo.panorama.videoElement.pause();
    }
}
function onLoadVideo(){
	$(".loader-360-video").removeClass("loader-360-video-show");
}

var firstImage = true;
var panoramaImage, viewerImage;
function images360(url) {

    $(".md-modal").fadeIn(300);
    $(".panolens-image").show();
    $(".panolens-video").hide();

	if(firstImage){
		panoramaImage = new PANOLENS.ImagePanorama(url);
        viewerImage = new PANOLENS.Viewer({ container: document.getElementsByClassName("panolens-image")[0], cameraFov: 80, autoHideControlBar: false});
        viewerImage.add(panoramaImage);
        firstImage = false;
        viewerImage.getControl().maxFov = 90;
        viewerImage.getControl().minFov = 70;
        create360Button(viewerImage);
        viewerType = viewerImage;
    } else {
		var textureLoader = new THREE.TextureLoader();
        textureLoader.crossOrigin = '*';
        var texture2 = textureLoader.load(url);

        panoramaImage.material.map = texture2;
    }

    getDeviceType() == "mobile" ? barPosition(viewerImage) : "";
}


$(".md-360-close").click(function(){
	closeModal360()
});


function closeModal360(){
	pauseVideo();
    $(".md-modal").fadeOut(300);
}
function getDeviceType(){
    var resolution = $(window).outerWidth()
    var device = "";
    resolution < 768 ? device = "mobile" : device = "desktop";
    var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
    iOS == true ? device = "mobile" : "";
    return device;
}

function getEventType(){
    var resolution = $(window).outerWidth()
    var device = "";
    resolution < 768 ? device = "touchstart" : device = "click";
    var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
    iOS == true ? device = "touchstart" : "";
    return device;

}

const heightCanvas = $(".panolens-canvas").outerHeight();
function barPosition(typePanorama){
    var al = $(window).outerHeight() - 44;
    typePanorama.widget.barElement.style.top = al+"px";

    const heightCanvas = $(".panolens-canvas").outerHeight();
    $(".panolens-canvas").css("height", heightCanvas + 60 + "px");


    $( window ).resize(function() {
        var al = $(window).outerHeight() - 44;
        $(".bar-control-360").css("top",al+"px");
    });
}
function create360Button(typePanorama){

    if(getDeviceType() == "mobile"){
        $(".overlay-360").fadeIn(300);
        setTimeout(function(){ $(".overlay-360").fadeOut(300); }, 3000);
    }

    var backbutton = document.createElement("span");
    backbutton.className = 'back-button-360';
    //backbutton.textContent = 'Close';
    backbutton.style.width = '18px';
    backbutton.style.top = '10px';
    backbutton.style.right = '10px';
    backbutton.style.float = 'right';
    backbutton.style.height = '18px';
    backbutton.style.lineHeight = '2.5';
    backbutton.style.color = 'white';
    backbutton.style.cursor	= 'pointer';
    backbutton.style.userSelect = "none";
    backbutton.style.position = "absolute";
    backbutton.style.pointerEvents = "auto";
    backbutton.style.backgroundImage = "url(/content/dam/indtravelrevamp/image-360/closeIcon.png)";
    backbutton.style.backgroundSize = "contain";
    backbutton.style.backgroundRepeat = "no-repeat";
    backbutton.style.backgroundPosition = "50%, 50%";

    var vrbutton = document.createElement("span");
    vrbutton.className = 'vr-button-360 vr-btn';
    vrbutton.style.width = '44px';
    vrbutton.style.margin = '0px 7px';
    vrbutton.style.marginRight = '15px';
    vrbutton.style.float = 'right';
    vrbutton.style.height = '100%';
    vrbutton.style.lineHeight = '2.5';
    vrbutton.style.color = 'white';
    vrbutton.style.cursor	= 'pointer';
    vrbutton.style.userSelect = "none";
    vrbutton.style.position = "relative";
    vrbutton.style.pointerEvents = "auto";
    vrbutton.style.backgroundImage = "url(/content/dam/indtravelrevamp/image-360/VrGoogle.png)";
    vrbutton.style.backgroundSize = "contain";
    vrbutton.style.backgroundRepeat = "no-repeat";
    vrbutton.style.backgroundPosition = "50%, 50%";

    var cardboardbutton = document.createElement("span");
    cardboardbutton.className = 'vr-button-360 cardboard-btn';
    cardboardbutton.style.width = '44px';
    cardboardbutton.style.margin = '0px 7px';
    cardboardbutton.style.float = 'right';
    cardboardbutton.style.height = '100%';
    cardboardbutton.style.lineHeight = '2.5';
    cardboardbutton.style.color = 'white';
    cardboardbutton.style.cursor   = 'pointer';
    cardboardbutton.style.userSelect = "none";
    cardboardbutton.style.position = "relative";
    cardboardbutton.style.pointerEvents = "auto";
    cardboardbutton.style.backgroundImage = "url(/content/dam/indtravelrevamp/image-360/Cardboard.png)";
    cardboardbutton.style.backgroundSize = "contain";
    cardboardbutton.style.backgroundRepeat = "no-repeat";
    cardboardbutton.style.backgroundPosition = "50%, 50%";

    var infobutton = document.createElement("span");
	infobutton.className = "info-360-container";
    infobutton.style.height = '30px';
    infobutton.style.width = '30px';
    infobutton.style.backgroundImage = "url(/content/dam/indtravelrevamp/image-360/iconInfoWhite.png)";
    infobutton.style.backgroundSize = "contain";
    infobutton.style.backgroundRepeat = "no-repeat";
    infobutton.style.backgroundPosition = "50%, 50%";

    var viewer = typePanorama;

    backbutton.addEventListener( viewer.widget.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {
        closeModal360();
    }, false );
    vrbutton.addEventListener( viewer.widget.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {
		document.querySelector(".cardboard-btn").classList.remove("vr-active");
        this.classList.toggle("vr-active");
        if (this.classList.contains('vr-active')) { 
            viewer.enableEffect(3);
        } else {
			viewer.enableEffect(1);
        }
    }, false );
    cardboardbutton.addEventListener( viewer.widget.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {
        document.querySelector(".vr-btn").classList.remove("vr-active");
        this.classList.toggle("vr-active");
        if (this.classList.contains('vr-active')) { 
            viewer.enableEffect(2);
        } else {
			viewer.enableEffect(1);
        }
    }, false );

    infobutton.addEventListener( viewer.widget.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {
		var instruction = $(this).parent().find(".overlay-360"); instruction.fadeIn(300);
        setTimeout(function(){instruction.fadeOut(300);}, 3000);
    }, false );

    viewer.widget.barElement.appendChild(vrbutton);
    viewer.widget.barElement.appendChild(cardboardbutton);
    viewer.container.appendChild(backbutton);
    viewer.container.appendChild(infobutton);

    if(getDeviceType() == "mobile") {

        //screen.orientation.lock('portrait');
        //screen.orientation.unlock()
        //viewer.widget.barElement.appendChild(backbutton);

        viewer.enableControl(1);

        if(viewer.widget.fullscreenElement != undefined) {
			viewer.widget.fullscreenElement.remove()
        }
        //viewer.widget.fullscreenElement.style.display = 'none';

        //viewer.widget.barElement.style.position = "fixed";
        //viewer.widget.barElement.style.bottom = "10px";
        //viewer.widget.barElement.style.transform = "translateY(0%)";
    }
}

/** Variables **/
'use strict';
var isHeld  = false, intVal, nowBtn = "", nowDirection = 0;
var directionCalculation = 1; directionSpeed = 0.02;
var nowZ = 1;
/** Function to be excuted on button hold **/
function check() {
    if(isHeld) {
        nowZ += directionCalculation;
        nowZ = nowZ * nowDirection;
        nowZ = nowZ * directionSpeed;
        eval(nowBtn + "("+nowZ+")")
        //viewerImage.getControl().rotateLeft(nowZ)
    }
}

//holding function
var eventDownnya, eventUpnya;
if(getDeviceType() == "mobile") {
	eventDownnya = "touchstart";
    eventUpnya = "touchend";
} else {
    eventDownnya = "mousedown";
    eventUpnya = "mouseup";
}

document.getElementsByClassName("btn-c-top")[0].addEventListener(eventDownnya, function() {
    //alert()
    onHold("viewerType.control.rotateUp", -1);
});
document.getElementsByClassName("btn-c-right")[0].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateLeft", 1);
});
document.getElementsByClassName("btn-c-bottom")[0].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateUp", 1);
});
document.getElementsByClassName("btn-c-left")[0].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateLeft", -1);
});
//holding function
document.getElementsByClassName("btn-c-top")[1].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateUp", -1);
});
document.getElementsByClassName("btn-c-right")[1].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateLeft", 1);
});
document.getElementsByClassName("btn-c-bottom")[1].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateUp", 1);
});
document.getElementsByClassName("btn-c-left")[1].addEventListener(eventDownnya, function() {
    onHold("viewerType.control.rotateLeft", -1);
});


//unhold
document.getElementsByClassName("btn-c-top")[0].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-right")[0].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-bottom")[0].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-left")[0].addEventListener(eventUpnya, function() {
    onHoldUp();
});
//unhold
document.getElementsByClassName("btn-c-top")[1].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-right")[1].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-bottom")[1].addEventListener(eventUpnya, function() {
    onHoldUp();
});
document.getElementsByClassName("btn-c-left")[1].addEventListener(eventUpnya, function() {
    onHoldUp();
});


function onHold(nowExecute, direction){
    nowBtn     = nowExecute;
    nowDirection = direction;
    isHeld  = true;
    intVal  = setInterval(check, 16);//60 FPS
}
function onHoldUp(){
    isHeld = false;
    clearInterval(intVal);
}
</script> 
</div> </div>
<div class="homepage-highlight-destination aem-GridColumn aem-GridColumn--default--12"><style>
    .homepage-highlight-destination .container {
        padding-left:15px !important;
        padding-right:15px !important;
    }
    .mb-pagination {
        justify-content: center;
        display: flex;
        padding-left: 0;
        list-style: none;
        border-radius: .25rem;
    }

    .mb-pagination li.first-list, li.last-list{
        border-left:0px;
    }

    .mb-pagination li.first-list{
        border-top-left-radius: 4px !important;
        border-bottom-left-radius: 4px !important;
    }

    .mb-pagination li.last-list{
        border-top-right-radius: 4px !important;
        border-bottom-right-radius: 4px !important;
    }

    .mb-pagination li {
        display: inline-block;
        font-weight: 400;
        line-height: 1.25;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        background: #dad7d7;
        color: #000;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        border: 1px solid transparent;
        border-radius: 0px;
        padding: .5rem 1rem;

        -webkit-transition: all .2s ease-in-out;
        -o-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
        border-left: 1px solid white;
    }
    .mb-pagination li.active {
        color:#fff;
        font-weight:bold;
        background: #6d519c;
    }
    .mb-pagination li.disabled {
        cursor:not-allowed;
        pointer-event:none;
        opacity: .65;
    }
    .mb-pagination li.disabled a{
        cursor:not-allowed;
        pointer-event:none;
        tex-decoration:none !important;
    }
    .mb-pagination li.disabled a:hover{
        cursor:not-allowed;
        pointer-event:none;
        tex-decoration:none !important;
    }
    .mb-pagination li a {
        color:#000;
        font-size: 1rem;
    }
    .mb-pagination li.active a {
        color:#fff;
        font-weight:bold;
    }

    .highlight-destination-title {
        padding-left: 0;
        margin: 10px 0px 25px !important;
    }
    .highlight-destination-list-container {
        margin-left: -7px !important;
        margin-right: -7px !important;

    }

    .highlight-destination-list-container .slick-prev, .highlight-destination-list-container .slick-next{
        top:30% !important;
            z-index: 1;
    }


    .highlight-destination-list-container .slick-prev{
        left:0px !important;
    }

    .highlight-destination-list-container .slick-next{
        right:18px !important;
    }

    .highlight-sub-title {
        margin: 3px 0 7px !important;
    }

    .highlightlink {
        display:block;
    }
    .highlight-destination-more {
        padding-right: 0;
    }
    .highlight-destination-more {
        overflow: auto;
        margin-top: 0;
    }

    .highlight-destination-list-container .highlight-destination-five-list .img-wrapper {
        padding-top: 100%;
    }
@media screen and (min-width: 1224px) {
    .highlight-destination-list-container .highlight-destination-five-list {
        width: 20%;
        padding: 0px 7px;
        float: left;
        margin-bottom:15px;
        margin-top: 0;
    }
    .highlight-readmore{
        position:absolute;
        bottom:5px;
        right:20px;
        margin-bottom:0em;
    }
}
@media screen and (max-width: 1224px) and (min-width: 768px)
{
    .highlight-destination-list-container .highlight-destination-five-list {
        display:inline-block !important;
    }
}
@media screen and (max-width: 768px) and (min-width: 320px) {
    .highlight-destination-title h3, .wonder-title h3 {
        /*padding-left: 10px;*/
    }
    .highlight-sub-title {
        font-size: large;
    }
    .title-text p {
        font-size: 11px;
    }

    .highlight-destination-list-container .highlight-destination-five-list {
        margin-bottom: 10px;
        /*padding: 0px 15px;*/
        /*width: 180px!important;*/
    }
    .highlight-destination-more {
        margin-right: 15px;
    }
    .highlight-destination-list-container {
        margin-left: 0px !important;
        margin-right: 0px !important;
    }
    .highlight-readmore{
        position:absolute;
        bottom:5px;
        right:20px;
        margin-bottom:0em;
    }
    .box-shadow-hover {
        box-shadow: none!important;
    }
    .box-shadow-hover:hover {
        box-shadow: 3px 3px 2px #D5D5D5!important;
    }
    .highlight-destination-list-container .highlight-destination-five-list .title-text {
        margin-bottom: 0px!important;
    }
    .highlight-destination-list-container .slick-track {
        /*width:3500px!important;*/
    }

    .highlight-destination-list-container .slick-prev, .highlight-destination-list-container .slick-next {
        width: 30px;
        height: 60px;
        z-index: 98;
        top: 20% !important;
    }
    .highlight-destination-list-container .slick-next {
        right: 0px !important;
    }

}
.highlight-destination-list-container .slick-dots {
    bottom: -20px !important;
}


.highlight-destination-list-container .slick-prev, .highlight-destination-list-container .slick-next{
    background-color: rgba(15, 15, 15, 0.52);
    top: 36% !important;
    transform: translateY(-50%);
    width: 40px !important;
    height: 40px !important;
}

.highlight-destination-list-container .slick-prev:before, .highlight-destination-list-container .slick-next:before {
    margin-top: -10px;
}
.highlight-destination-list-container .slick-prev:before, .highlight-destination-list-container .slick-next:before {
    transform: translateX(50%);
}
.highlight-destination-list-container .slick-next:before {
    transform: translateX(-50%);
}

@media screen and (max-width: 480px) and (min-width: 320px) {
    .highlight-destination-list-container .highlight-destination-five-list .img-wrapper {
        height: 215px;
    }
}
</style>

<!-- hostname: www.indonesia.travel -->

<div class="full-width grey-bg">
    <div class="container indt-container">
        <div class="container-highlight-destination" id="container-highlight-destination">
            <div class="highlight-destination-title">
                <h3 class="hidden-xxs splt-title">Destinations Highlight</h3>
                <p class="description"></p>
            </div>  
            <div id="highlight-destination-list-container" class="highlight-destination-list-container card-group" style="margin:0px auto;text-align:center;">              
                
                    
                        
                            
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-active" style="" onclick="redirectReadMore('/gb/en/destinations/sumatra/medan')">
                                    <a href="/gb/en/destinations/sumatra/medan" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/thumb-higlight/Medan-small.jpg">
                                        </div>
                                        <div class="title-text title-text-active">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/sumatra/medan')">Medan</h5>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Medan is a city in Indonesia that delivers ethnic diversities and scrumptious ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/sumatra/medan')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>          
                                    </a>
                                </div>  
                            
                        
                    
                    
                
                    
                        
                            
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-active" style="" onclick="redirectReadMore('/gb/en/destinations/maluku-papua/raja-ampat')">
                                    <a href="/gb/en/destinations/maluku-papua/raja-ampat" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/activities/Destination-highlight/rajampat-small.jpg">
                                        </div>
                                        <div class="title-text title-text-active">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/maluku-papua/raja-ampat')">Raja Ampat</h5>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Raja Ampat is where you should travel to experience the exotic underwater magic ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/maluku-papua/raja-ampat')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>          
                                    </a>
                                </div>  
                            
                        
                    
                    
                
                    
                        
                            
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-active" style="" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/bali')">
                                    <a href="/gb/en/destinations/bali-nusa-tenggara/bali" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/thumb-higlight/Bali-small.jpg">
                                        </div>
                                        <div class="title-text title-text-active">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/bali')">Bali</h5>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Bali is one of the best tropical paradise Indonesia. People worldwide, travel ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/bali')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>          
                                    </a>
                                </div>  
                            
                        
                    
                    
                
                    
                        
                            
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-active" style="" onclick="redirectReadMore('/gb/en/destinations/java/banyuwangi')">
                                    <a href="/gb/en/destinations/java/banyuwangi" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/thumb-higlight/Banyuwangi-small.jpg">
                                        </div>
                                        <div class="title-text title-text-active">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/java/banyuwangi')">Banyuwangi</h5>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Banyuwangi literally means Aromatic Water, which is associated with the local ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/java/banyuwangi')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>          
                                    </a>
                                </div>  
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/sumatra/bintan-island')">
                                    <a href="/gb/en/destinations/sumatra/bintan-island" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/sumatra/bintan-island/header1-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/sumatra/bintan-island')">Bintan Island</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">With all of its mesmerizing fascinations, Bintan Island is a paradise you ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/sumatra/bintan-island')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/java/dki-jakarta')">
                                    <a href="/gb/en/destinations/java/dki-jakarta" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/java/dki-jakarta/jkt-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/java/dki-jakarta')">Jakarta</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Jakarta is the heart of Indonesia, a sprawling capital city, a vibrant ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/java/dki-jakarta')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/java/yogyakarta')">
                                    <a href="/gb/en/destinations/java/yogyakarta" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/java/di-yogyakarta/yogyakarta/yogya-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/java/yogyakarta')">Yogyakarta</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Yogyakarta, or also known as Jogja is the twin city of Surakarta (Solo), the ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/java/yogyakarta')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/java/bandung')">
                                    <a href="/gb/en/destinations/java/bandung" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/java/west-java/bandung/bdg-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/java/bandung')">Bandung</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Bandung is considered as the most artistic city of Indonesia. Visit Bandung and ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/java/bandung')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/sulawesi/makassar')">
                                    <a href="/gb/en/destinations/sulawesi/makassar" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/thumb-higlight/Makassar-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/sulawesi/makassar')">Makassar</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">Makassar is the largest city in eastern Indonesia and the capital city of South ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/sulawesi/makassar')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                            
                                <div class="highlight-destination-five-list highlight-destination-five-list-hidden" style="" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/lombok')">
                                    <a href="/gb/en/destinations/bali-nusa-tenggara/lombok" class="border-radius-base box-shadow-hover highlightlink">
                                        <div class="img-wrapper lazy" data-src="/content/dam/indtravelrevamp/en/destinations/thumb-higlight/LOmbok-small.jpg">
                                        </div>
                                        <div class="title-text">
                                            <h3 class="highlight-sub-title" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/lombok')">Lombok</h3>  
                                            <p style="margin-bottom:0em;" class="hightlight-desc">With divine beaches, the majestic Mt Rinjani and spectacular marine life to ...</p>
                                            <p class="highlight-readmore"><span style="color:#da699d" onclick="redirectReadMore('/gb/en/destinations/bali-nusa-tenggara/lombok')">Read More</span> <span class="lnr lnr-arrow-right"></span></p>
                                        </div>
                                    </a>
                                </div>  
                            
                            
                        
                    
                    
                
                    
                        
                    
                    
                
                    
                        
                    
                    
                
                    
                        
                    
                    
                
                    
                        
                    
                    
                
                    
                        
                    
                    
                      
            </div>
            
                <div class="highlight-destination-more">
                    <a style="margin-bottom:0em;margin-top:0;" href="http://www.indonesia.travel/gb/en/destinations" class="float-right indt-more-tp-link">More Destinations <span class="lnr lnr-arrow-right"></span></a>
                </div>
            
            <!--<div class="highlight-destination-more">
                    <a href="" class="float-right indt-more-tp-link">More Destinations <span class="lnr lnr-arrow-right"></span></a>
                    <!--<p class="more-description"><a href="">More Destinations</a> <span class="lnr lnr-arrow-right"></span></p>
                </div>-->
        </div>
    </div>
</div>

<script>
    $('document').ready(function(){

        var showat = "Homepage";

        var $window = $(window);
        var windowsize = $window.width();
        $(".paging").remove();          

        if(windowsize < 950 && windowsize > 750){

            $('.highlight-destination-list-container').slick({
                infinite: true,
                dots:false,
                autoplay: true,
                arrows:true,
                slidesToShow: 1,
                slidesToScroll: 1,
                responsive: [
                {
                  breakpoint: 950,
                  settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                  }
                },
                {
                  breakpoint: 760,
                  settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                  }
                },
                {
                  breakpoint: 500,
                  settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                  }
                }
               ]
            });
            $('.highlight-destination-list-container .slick-dots').css("bottom", "-20px !important");
        }
        else if(windowsize <= 750 && windowsize >= 480){

            $('.highlight-destination-list-container').slick({
                infinite: true,
                dots:false,
                autoplay: true,
                arrows:true,
                slidesToShow: 1,
                slidesToScroll: 1,
                responsive: [
                {
                  breakpoint: 950,
                  settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                  }
                }, 
                {
                  breakpoint: 770,
                  settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                  }
                },
                {
                  breakpoint: 500,
                  settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                  }
                }
               ]
            });
            $('.highlight-destination-list-container .slick-dots').css("bottom", "-20px !important");
        }
        else if(windowsize < 480){

            $('.highlight-destination-list-container').slick({
                infinite: true,
                dots:false,
                autoplay: true,
                arrows:true,
                slidesToShow: 1,
                slidesToScroll: 1,
                responsive: [
                {
                  breakpoint: 950,
                  settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                  }
                },
                {
                  breakpoint: 700,
                  settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                  }
                },
                {
                  breakpoint: 500,
                  settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                  }
                }
               ]
            });
            $('.highlight-destination-list-container .slick-dots').css("bottom", "-20px !important");
        }
        else if(windowsize >= 950){

            if($('#highlight-destination-list-container').hasClass('slick-initialized')){
                setTimeout(function(){ 
                    $('#highlight-destination-list-container').slick('unslick');
                    $('#container-highlight-destination #highlight-destination-list-container div.news-latest-five-list').show();
                    $('#container-highlight-destination div.paging').remove();
                    if(showat == "Destination"){
                        $('#highlight-destination-list-container').mbPagination({
                            showNextPrev: true,
                            showFirstLast: true,
                            perPage: 10,
                            firstText: '&#10092;&#10092;',
                            lastText: '&#10093;&#10093;',
                            tabElemClick: 'container-highlight-destination'
                        }); 
                    }
                }, 500);

            }

            if(showat == "Destination"){
                $('#container-highlight-destination #highlight-destination-list-container div.news-latest-five-list').show();
                    $('#container-highlight-destination div.paging').remove();

                setTimeout(function(){ 
                    $('#highlight-destination-list-container').mbPagination({
                        showNextPrev: true,
                        showFirstLast: true,
                        perPage: 10,
                        firstText: '&#10092;&#10092;',
                        lastText: '&#10093;&#10093;',
                        tabElemClick: 'container-highlight-destination'
                    });
                }, 500);
            }
        }
        /*
        if(windowsize < 768){
            $('.title-text-active').css('height', '50px');
            setTimeout(function(){
                $('.highlight-destination-list-container').each(function(){  
                    // Cache the highest
                    var highestBoxMobile = 0;
                  
                    // Select and loop the elements you want to equalise
                    $('.title-text-active').each(function(){
                        if($(this).height() > highestBoxMobile) {
                            highestBoxMobile = $(this).height();
                        }                       
                        // If this box is higher than the cached highest then store it                                
                    });  
                        
                    // Set the height of all those children to whichever was highest 
                    $('.title-text-active').height(highestBoxMobile);                            
                });
            }, 7000);                               
        }
        else if(windowsize >= 768){
            $('.highlight-destination-list-container').each(function(){  
                // Cache the highest
                var highestBox = 0;

                // Select and loop the elements you want to equalise
                $('.title-text', this).each(function(){
                    if($(this).height() > highestBox) {
                        highestBox = $(this).height(); 
                    }                       
                    // If this box is higher than the cached highest then store it                                
                });  

                // Set the height of all those children to whichever was highest 
                $('.title-text:visible',this).height(highestBox);                            
            });
        }
        */               
    });
 </script>
 </div>
<div class="email-subscribe aem-GridColumn aem-GridColumn--default--12"><style>
	.searchresult {
		min-height:22em;
    }
	.searchresult a {
		display:block;
    }
    .parent-searchresult {
		min-height:22em;
    }
    .indt-search-mwidth {
    	max-width: 1050px;
        margin-left:auto;
        margin-right:auto;
    }
    .indt-form-search {
        border-top: 5px solid #6d519c;
        margin-top: 4em;
        margin-bottom: 1em;
        position: relative;
        box-shadow: 0px 2px 4px #cccccc;
        height:80px;
    }
    .the-search-btn {
        float:left;
        width:15%;
        margin-left:5px;
        background-color: #efefef;
        border: 0;
        font-size: x-large;
        padding: 0px 25px;
        cursor:pointer;
        outline:0;
        border: 1px solid #d4d4d4;
        border-radius:5px;
    }
	.indt-form-search .the-search-input {
        width: 100%;
        border: 0px;
        border: 1px solid #d4d4d4;
        border-top:0px;
        padding: 10px 40px;
    	padding-top: 3px;
        font-size: xx-large;
        outline: 0;
        font-family: inherit;
        color: #252525;
    }
	label.error{
		position: absolute;
		bottom: -30px;
		color: red;
	}
    .list a {
        color: #6d519c;
        font-family: inherit;
        font-size: x-large;
    }
    .list p {
        word-break: break-all;
    }
    .pagination {
        justify-content: flex-end;
    }
    .pagination li {
        padding:5px 8px;
    }
    .pagination li a {
        color:black;
        font-size: large;
    }
    .pagination li.active a {
        color:#6d519c;
        font-weight:bold;
    }
	label.error {
    	bottom:unset;
        font-size: smaller;
        transform: translateY(-100%);
    }
	.show-desktop-sub {
        display:block;
    }
	.show-mobile {
        display:none;
    }

	@media screen and (max-width: 768px) {
		.show-desktop-sub {
        	display:none;
    	}
		.show-mobile {
        	display:block;
    	}
        .bg-sub {
            background-size: 180% auto;
            background-image: url(/content/dam/indtravelrevamp/en/packages/IMF/Lombok.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg);
        }
        .bg-sub2 {
        	background: linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.80));
            height: 100%;
            width: 100%;
        }
        .wording {
            padding-top: 30px;
            text-align: center;
            margin-bottom: 20px;
            color: #FFFFFF;
        }
        .wording h6 {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 20px;
        }
    }

/* New Design */
#subscribe_mail {
    background: #ef7e30;
    font-size: 14px;
    text-transform: uppercase;
    font-family: 'Open Sans';
    letter-spacing: 0.7px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-image: linear-gradient(to left, #d5337c, #ef7e31);
}
#email_subscribe {
    background: #fff;
    color: #737373;
    border: none;
    border-radius: 5px 0px 0px 5px;
}
</style>
<div class="full-width search-hd-cp-pr" style="background-image: linear-gradient(to left, rgb(213, 51, 124), rgb(239, 126, 49)); background-size: cover;">
    <div class="indt-container">
        <form method="post" accept-charset="UTF-8" action="http://www.indonesia.travel/gb/en/" id="form_subscribe" novalidate="novalidate">
			<div class="row search-hd-cp justify-content-md-center" style="padding-bottom: 35px; height: auto !important; padding-top: 25px;">
                                      <div class="col-lg-6" style="text-align: left; margin-bottom: 0px;"><div class="col-sm-6" style="vertical-align:middle;display:inline-block"><span style="color:white;font-size:18px;">Pave your way to amazing stories with us.</span></div><div class="col-sm-6" style="vertical-align:middle;display:inline-block"><img class="donmiss w-100" src="https://indonesia.travel/content/dam/indtravelrevamp/activities/Destination-highlight/don't-miss-the-magic.png/jcr:content/renditions/cq5dam.thumbnail.300.200.png"></div></div>
                <div class="col-lg-6">
					<div class="input-group" id="desk-v" style="background: rgb(255, 255, 255); border-radius: 5px; margin-top: 15px;">
                    	<input name="email_subscribe" id="email_subscribe" class="search-input-cp form-control" type="text" autocomplete="off" placeholder="Enter Your Email Address">
                    	<span class="input-group-btn" style="border: 2px solid rgb(255, 255, 255); border-radius: 0px 5px 5px 0px;">
                    		<button class="search-input-cp btn btn-secondary" id="subscribe_mail" type="button">Subscribe</button>
                    	</span>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
$(document).ready(function(){
	$( "#subscribe_mail" ).click(function() {
		$("#form_subscribe").submit();
	});

    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

	var cloc = getCookie('inloc');
//    alert(cloc);

	$("#form_subscribe").validate({              
		rules: {
			email_subscribe	:{required:true, email: true}			
		},
		submitHandler: function(form){
			var e = $("#email_subscribe").val();
            var urlSubscribe = (document.location.host.indexOf('4502')>-1)?'/content/indtravelrevamp/gb/en/subscribe-email.html?e=':'/gb/en/subscribe-email?e=';
            $.ajax({
                type: 'GET',
                url:urlSubscribe + e + '&loc=' + cloc,
                success: function(data){
                    var resultSub = data.substring(data.indexOf('<datalike>')+10,data.indexOf('</datalike>'));
                   	alert(resultSub);
					if($("#form_subscribe").length > 0){
                    	document.getElementById('form_subscribe').reset();
                		$("#form_subscribe").validate().resetForm();
                    }
                }
            });
		}
	});
	
});
</script></div>
<div class="livefyre-new aem-GridColumn aem-GridColumn--default--12"><style>
.ugc__livefyre {
  padding-left:0px;
  padding-right:0px;
  background-color: #636363;
}
.ugc_loader_parent {
  position: absolute;
  z-index: 1;
  background-color: rgba(105, 80, 160, 0.48);
  padding: 7px 15px;
  color: white;
  width: 100%;
  height: 100%;
}
.ugc_loader_parent .ugc_loader {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.ugc_spinner {
  border: 3px solid rgba(255, 255, 255, 0.6);
  border-radius: 100%;
  position: relative;
  height: 50px;
  width: 50px;
  display: inline-block;
  margin-right: 10px;
}
.ugc_spinner:before {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  bottom: -3px;
  right: -3px;
  border: 3px solid transparent;
  height: 50px;
  width: 50px;
  border-radius: 100%;
  border-top-color: #fff;
  -webkit-animation: 1s spinner linear infinite;
  animation: 1s spinner linear infinite;
}
@keyframes spinner {
  from
  {
    transform: rotate(0deg);
  }

  to
  {
    transform: rotate(360deg);
  }
  
}
.ugc__col {
  padding-left:0px;
  padding-right:0px;
}
.col_30 {
  width:30%;
}
.col_70 {
  width:70%;
}
.aspect_ratio {
  position:relative;
  float:left;
}
.aspect_ratio__1_1 {
  padding-top:100%;
  background-color: #9E9E9E;
}
.aspect_ratio__2_5 {
  padding-top:42.9%;
}
.ugc_twitter_1 {
  background-color:#D1337D;
  color:white;
}
.ugc_twitter_1, .ugc_twitter_2 {
  padding:2em;
}
.ugc_twitter_2 {
  background-color:#292526;
}
.ugc_twitter_head {
  position:relative;
}
.ugc_twitter_head span {
  display: block;
  position: absolute;
  top: 50%;
  left: 44px;
  transform: translateY(-50%);
}
.open_twitter__modal {
  border: 0px;
  border-radius: 2px;
  font-size: smaller;
  margin-left: 1em;
  color: white;
  padding: 1px 5px;
  background-color: #4f4f4f;
  cursor: pointer;
}
.ugc_twitter_2 .fa, .ugc_twitter_2 span {
  color: #d1337d;
}
.ugc_twitter_2 p {
 color:white;
}
.ugc_twitter p {
  line-height: 180%;
  margin-top: 20px;
  margin-bottom: 0px;
  height: 80px;
  overflow: hidden;
}
.content_col__ugc {
  top:0;
  bottom:0;
  left:0;
  right:0;
  position:absolute; 
  background-position: center;
  background-size: cover;
}

.content_ugc_video span {
  display: block;
  width: 50px;
  height: 50px;
  color: #e6eef5;
  position: absolute;
  top: 50%;
  font-size: 50px;
  text-align: center;
  left: 50%;
  transform: translate(-50%, -50%) scale(1) rotate(0);
  transition: transform 300ms;
  will-change: transform;
  cursor: pointer;
}.content_ugc_video span:hover {
  transform: translate(-50%, -50%) scale(1.1) rotate(0);
}
.content_col__image {
  cursor: pointer;
}
.ugc_icon {
  color: white;
  position: absolute;
  top: 20px;
  left: 20px;
}
.ugc_twitter .fa, .ugc_icon {
  font-size: xx-large;
}
.content_col__ugc p a {
  color:yellow !important;
}
.content_col__ugc .ugc_twitter_head a {
  color:inherit;
}
.col_70 .aspect_ratio__1_1 {
  background-color: #d1337d;
  padding-top: 85.7%;
}

.show-mobile {
  display:none;
}
.show-desktop {
    display:block;
}
.btn_ugc_more {
  border-radius: 2px;
  padding: 7px 15px;
  border: 10px solid white;
  width: 220px;
  margin-left: auto;
  display: block;
  margin-right: auto;
  /*transform: translateY(-50%);*/
  background-image: linear-gradient(to left,#e5117e,#6553a2);
  cursor:pointer;
  transition:all 300ms;
}
.btn_ugc_more:hover {
  border: 10px solid #ececec;
}
.btn_ugc_more:focus {
  box-shadow:unset;
}
.ugc_close_modal {
	position: absolute;
    right: 0px;
    top: 0px;
    border-radius: 0px;
    font-family: inherit;
    cursor: pointer;
    z-index: 1;
	background-color: rgba(183, 183, 183, 0.52);
    border: 0px;

    width: 100px;
    height: 100px;
    border-radius: 50%;
    transform: translate(50%,-50%);
}
.ugc_close_modal .lnr {
	position: absolute;
    top: 70%;
    left: 30%;
    transform: translate(-50%,-50%);
}

.ugc_modal__parent .slick-prev {
    left: -30px;
}
.ugc_modal__parent .slick-next {
    right: -15px;
}
.ugc_modal_link .content-author-name {
	display:inline-block;
}

.blink-blink {
  animation: pulse 1.15s infinite;
  will-change: opacity;
}
@keyframes pulse {
  0%, 10%, 90%, 100% {
    opacity: 1;
  }
  40%, 60% {
    opacity: 0;
  }
}
@media(max-width:767px) {
  .mobile_col_33 {
    width:33.333333%
  }
  /* Setting for padding, font-size, line-height..etc base on vw*/
  .ugc_twitter .fa, .ugc_icon {
    font-size: 5vw;
  }
  .ugc_icon {
    top: 3vw;
    left: 3vw;
  }
  .ugc_twitter_1, .ugc_twitter_2 {
    padding: 3vw;
    font-size: 3vw;
  }
  .ugc_twitter_head span {
    left: 7.5vw;
  }
  .ugc_twitter p {
    margin-top: 1vw;
    height: 15vw;
  }
  /* End setting base on vw*/
  .mobile_100 {
    width:100%;
  }
  .show-mobile {
    display:block;
  }
  .show-desktop {
      display:none;
  }
  .btn_ugc_more {
    display:none;
  }
}

@media (min-width:768px) and (max-width:1334px) {
  .ugc_twitter_1, .ugc_twitter_2 {
    padding: 2vw;
    font-size: 1.45vw;
  }
  .ugc_twitter .fa, .ugc_icon {
    font-size: 2vw;
  }
  .ugc_twitter_head span {
    top: 40%;
    left: 3vw;
  }
  .ugc_twitter p {
    margin-top: .5vw;
  }
  .btn_ugc_more {
    transform: translateY(-25%);
  }
}

@media (min-width:768px) and (max-width:1300px){
	.ugc_twitter p {
        height: 8vw;
    }
}
@media (min-width:1440px){
    .ugc__livefyre {
		/*max-width: 78em;*/
	}
}
</style>
<script type="text/javascript" src="https://cdn.livefyre.com/Livefyre.js"></script>
<!-- Container -->
<style>
     .loader {
      margin: 0 auto;
      padding: 5px 0;
      position: relative;
      font: normal 18px/1em Helvetica, Arial, sans-serif;
      text-transform: uppercase;
      color: #6553a2;
      width: 200px;
      height: 35px;
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
    }
    .loader:after {
      content: "";
      -moz-border-radius: 2px;
      -webkit-border-radius: 2px;
      border-radius: 2px;
      -moz-animation: wormsPong cubic-bezier(0.77, 0, 0.175, 1) 1.3s infinite;
      -webkit-animation: wormsPong cubic-bezier(0.77, 0, 0.175, 1) 1.3s infinite;
      animation: wormsPong cubic-bezier(0.77, 0, 0.175, 1) 1.3s infinite;
      background-image: linear-gradient(to left, #e5117e, #6553a2);
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 4px;
      height: 4px;
    }
    
    @-moz-keyframes wormsPong {
      25% {
        width: 100%;
      }
      50% {
        width: 0;
        left: auto;
        right: 0;
      }
      75% {
        width: 100%;
      }
      100% {
        width: 0;
        right: auto;
        left: 0;
      }
    }
    @-webkit-keyframes wormsPong {
      25% {
        width: 100%;
      }
      50% {
        width: 0;
        left: auto;
        right: 0;
      }
      75% {
        width: 100%;
      }
      100% {
        width: 0;
        right: auto;
        left: 0;
      }
    }
    @keyframes wormsPong {
      25% {
        width: 100%;
      }
      50% {
        width: 0;
        left: auto;
        right: 0;
      }
      75% {
        width: 100%;
      }
      100% {
        width: 0;
        right: auto;
        left: 0;
      }
    }
</style>
<div class="loader">Load Image</div>

<div class="container-fluid ugc__livefyre" style="display:none;overflow:hidden">
  
  <div class="row" style="position: relative;margin-left: 0px;margin-right: 0px;">
    <!-- Loader -->
    <div class="ugc_loader_parent">
      <div class="ugc_loader text-center">
        <p>
          <!--<span class="ugc_spinner"></span>-->
          <span>Loading Content</span>
          <span class="blink-blink">.</span>
          <span class="blink-blink">.</span>
          <span class="blink-blink">.</span>
        </p>
      </div>
    </div>

    <div class="col-md-6 col-12 ugc__col">
      <div class="col_30 aspect_ratio">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_col__image click_index_modal">
            <i aria-hidden="true" class="fa ugc_icon"></i>
          </div>
        </div>
      </div>
      <div class="col_70 aspect_ratio">
        <div class="aspect_ratio__2_5">
          <div class="content_col__ugc ugc_twitter ugc_twitter_1 click_index_modal">
            <div class="ugc_twitter_head">
              <i aria-hidden="true" class="fa"></i>
              <span>
              </span>
            </div>
            <p></p>
          </div>
        </div>
      </div>
      <div class="col_70 aspect_ratio">
        <div class="aspect_ratio__2_5">
          <div class="content_col__ugc ugc_twitter ugc_twitter_2 click_index_modal">
            <div class="ugc_twitter_head">
              <i aria-hidden="true" class="fa"></i>
              <span>
              </span>
            </div>
            <p></p>
          </div>
        </div>
      </div>
      <div class="col_30 aspect_ratio">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_col__image click_index_modal">
            <i class="fa ugc_icon"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-12 ugc__col">
      <div class="col_70 aspect_ratio mobile_100">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_ugc_video click_index_modal">
            <i aria-hidden="true" class="fa ugc_icon"></i>
            <span aria-hidden="true" class="fa fa-play-circle"></span>
          </div>
        </div>
      </div>
      <div class="col_30 aspect_ratio mobile_col_33">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_col__image click_index_modal">
            <i class="fa ugc_icon"></i>
          </div>
        </div>
      </div>
      <div class="col_30 aspect_ratio mobile_col_33">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_col__image click_index_modal">
            <i aria-hidden="true" class="fa ugc_icon"></i>
          </div>
        </div>
      </div>
      <div class="col_30 aspect_ratio mobile_col_33 show-mobile">
        <div class="aspect_ratio__1_1">
          <div class="content_col__ugc content_col__image click_index_modal">
            <i class="fa ugc_icon"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--<div class="row">
    <div class="col-12">
      <a class="btn btn-primary btn_ugc_more" href="#">SEE MORE JOURNEY </a>
    </div>
  </div>-->
  <div id="wall" style="display:none;"></div>
</div>





<script>
//detect scroll position
var startLivefyre = false;  
$(document).ready(function(){
	//runLivefyre();


  $(window).scroll(function (event) {
    var scroll = $(window).scrollTop();
    checkScrollPosition(scroll);
  });

  checkScrollPosition($(window).scrollTop());
})

function checkScrollPosition(scroll){
  livefyre = $( ".ugc__livefyre" );
  livefyrePosition = livefyre.position();
  //livefyrePosition = livefyrePosition.top// - ($(".ugc__livefyre").outerHeight()/1.3);

  if(scroll > 1500 && startLivefyre == false){
    console.log("Run Livefyre scroll "+scroll+" dan top " +livefyrePosition.top)
    runLivefyre();
  }
}

function runLivefyre(){
    
  //console.log("Running Livefyre now =================================================================================================================")
  startLivefyre = true;
  Livefyre.require([
      'streamhub-wall#5'
  ], function(MediaWall) {

    if(typeof(designerApp)!="string"){
        designerApp = 'designer\u002Dapp\u002D1525063960548';
    }else{
      if(designerApp==""){
        designerApp = 'designer\u002Dapp\u002D1525063960548';
      }
    }

      var wall = window.wall = new MediaWall({
          el: document.getElementById("wall"),
          collection: {
            "network": "ministryoftourismindonesia-pt.fyre.co",
            "siteId": "385392",
            "articleId": designerApp
          }, columns: 14, initial: 14, showMore: 5
      });
  });

  collectionLivefyreData();
}

function collectionLivefyreData(){
  var lengthLivefyreData = 8; firstVideoLivefyre = true;
  if($(".content-with-image").length >= lengthLivefyreData) {
    $(".content-with-image").each(function(index){
      //add class
      $(this).addClass("copy-ugc-data copy-ugc-"+index).attr("data-class","copy-ugc-"+index);

      //video
      var video = $(this).find(".content-attachment-video");
      
      //data image /instagram
      var instagram = $(this).hasClass("content-instagram");
      instagram && video.length == 0 ? $(this).addClass("copy-ugc-image").attr({"data-icon":"fa-instagram","data-type":"instagram","data-content-type":"image"
      }) : "";

      //data image /facebook
      var facebook = $(this).hasClass("content-facebook");
      facebook && video.length == 0 ? $(this).addClass("copy-ugc-image").attr({"data-icon":"fa-facebook","data-type":"facebook","data-content-type":"image"
      }) : "";

      //data twitter
      var twitter = $(this).hasClass("content-tweet");
        twitter && video.length == 0 ? $(this).addClass("copy-ugc-twitter").attr({"data-icon":"fa-twitter","data-type":"twitter","data-content-type":"twitter"
	  }) : "";

      //data youtube
      var youtube = $(this).hasClass("content-youtube");

      //data video
      if(video.length >= 1){
        $(this).addClass("copy-ugc-video").attr("data-content-type","video");
        !firstVideoLivefyre ? $(this).removeClass("copy-ugc-data copy-ugc-video") : "";
        firstVideoLivefyre = false;

        youtube ? $(this).attr({"data-icon":"fa-youtube","data-type":"youtube"}) : "";
        instagram ? $(this).attr({"data-icon":"fa-instagram","data-type":"instagram"}) : "";
        facebook ? $(this).attr({"data-icon":"fa-facebook","data-type":"facebook"}) : "";
        twitter ? $(this).attr({"data-icon":"fa-twitter","data-type":"twitter"}) : "";
      }

      //print class
      //console.log($(this).attr("class"));
    });

    //run copy data
    copyData();
  } else {
    setTimeout(function(){collectionLivefyreData()},500);
  }
}

function copyData(){
  //copy image
  $(".copy-ugc-image").each(function(index){
    var style = $(this).find(".content-attachment-photo").attr("style");
    var icon = $(this).attr("data-icon");
    var className = $(this).attr("data-class");
      var element = $(".content_col__image").eq(index);
    var contentType = $(this).attr("data-content-type");
    element.attr("style",style);
    element.find(".fa").addClass(icon);
    element.attr("data-class-copy", className);
    element.attr("data-content-type", contentType);
  });

  //copy twitter
  $(".copy-ugc-twitter").each(function(index){
    var content = $(this).find(".content-body-main p").html();
    var icon = $(this).attr("data-icon");
    var className = $(this).attr("data-class");
    var link = $(this).find(".content-author-username").html();
    var element = $(".ugc_twitter").eq(index);
    var contentType = $(this).attr("data-content-type");
    var image = $(this).find(".content-attachment-photo").attr("style");
    element.find("p").html(content);
    element.find(".fa").addClass(icon);
    element.find(".ugc_twitter_head span").prepend(link);
    element.attr("data-class-copy", className);
    element.attr("data-content-type", contentType);
    element.attr("data-image", image);
  });

  //copy video
  var imageVideo = $(".copy-ugc-video").find(".content-attachment-photo").attr("style");
  var icon = $(".copy-ugc-video").attr("data-icon");
  var className = $(".copy-ugc-video").attr("data-class");
  var contentType = $(".copy-ugc-video").attr("data-content-type");

  var element = $(".content_ugc_video");
  element.attr("style",imageVideo);
  element.find(".fa").eq(0).addClass(icon);
  element.attr("data-class-copy", className);
  element.attr("data-content-type", contentType);

  $(".ugc_loader_parent").remove();
  $(".ugc__livefyre").show();
  $(".loader").remove();
}
</script>

<script> 
  $("document").ready(function(){
    $( ".ugc_modal__parent > div" ).click(function( event ) {
      event.stopPropagation();
    });
    $( ".ugc_modal__parent" ).click(function() {
      openModal();
    });
    $(".click_index_modal").click(function(){
      gotoSlick($(".click_index_modal").index(this));
    });
  });
  
  var buildSlick = false; Slickrefresh = false;
  function gotoSlick(index){
    openModal();
    if(!buildSlick) {
      buildSlick = true;
      setModalCuy();
    }
    var the_country = 'en';
    if(the_country == 'ar'){
        //index -= 1;
    }
    $('.ugc_modal').slick('slickGoTo', index);
    if(!Slickrefresh){
      Slickrefresh = true
      $('.ugc_modal').slick('refresh');
    }
  }
  function openModal(){
    var el = $(".ugc_modal__parent");
    el.toggleClass("open__modal");
    if(!el.hasClass("open__modal")){
		pauseYoutube();
    } else {

    }
  }
  function setSlick(){
    var country_arab = false;
    var the_country = 'en';
    if(the_country == 'ar'){
        $(".ugc_modal").slick({
            infinite:false,
            slidesToShow: 1,
            slidesToScroll: 1,
            speed:300,
            rtl:true,
            fade: true,
            cssEase: 'linear',
            adaptiveHeight: true
        });
        $(".ugc_modal span:contains('http://')").remove();
    } else {
        $(".ugc_modal").slick({
            infinite:false,
            slidesToShow: 1,
            slidesToScroll: 1,
            fade: true,
            cssEase: 'linear',
            speed:300,
            rtl:false,
            adaptiveHeight: true
        });
    }
    /*
      setTimeout(function(){
          $(".slick-arrow").click(function(){
              pauseYoutube();
              //alert("youtube");
          });
          $(".ugc_modal").on('beforeChange', function(event, slick, currentSlide, nextSlide){
          	pauseYoutube();
          });
      },5000);

     $(".ugc_twitter p a").removeAttr('href');*/

  }

  function pauseYoutube(){
	$('.youtube-video')[0].contentWindow.postMessage('{"event":"command","func":"' + 'pauseVideo' + '","args":""}', '*');
  }
  function setModalCuy(){
    $(".content_col__ugc").each(function() {
      var classCopy = $(this).attr("data-class-copy");
      var contentType = $(this).attr("data-content-type");
      var $this = $("."+classCopy);

      var style = $this.find(".content-attachment-photo").attr("style");
      var html = $this.find(".content-body-main p").html();
      var header = $this.find(".content-byline").html();

      if(html != undefined){
          var new_html = html.replace('<a target="_blank" href="//indonesia.travel" title="" rel="nofollow">Indonesia.Travel</a> on Instagram: ',"");
          html = new_html;

          var new_header = header.replace('<a href="//instagram.com" target="_blank" aria-label="Instagram profile">Instagram</a>','<a href="//www.instagram.com/indtravel/" target="_blank" aria-label="Instagram profile">indtravel</a>')
          header = new_header;
          //console.log("======================================================================================");
          //console.log(header);
        //var element = '<div class="col-3 copy_modal_cuy" style="'+style+'">'+contentType+"<br>"+html+'</div>';
        var element = '';
        if(contentType == "image"){
          element = '';element = ''+
          '<div class="ugc_modal__slider">'+
            '<div class="ugc_modal__left">'+
              '<div class="ugc_ml__content ugc_ml__content-fb-ig" style="'+style+'"></div>'+
              '<button type="button" class="btn btn-danger ugc_close_modal show-mobile" onclick="openModal()"><span class="lnr lnr-cross"></span></button>'+
            '</div>'+
            '<div class="ugc_modal__right">'+
              '<div class="ugc_ml__content">'+
                '<button type="button" class="btn btn-danger ugc_close_modal show-desktop" onclick="openModal()"><span class="lnr lnr-cross"></span></button>'+
                '<div class="ugc_mr_head">'+
                  '<div class="ugc_mr_head__content">'+
                    '<div class="ugc_modal_link">'+
                      '<img alt="logo" src="//instagram.fcgk6-1.fna.fbcdn.net/vp/65da30b342c087c2e25e1b28c0a31a0e/5C051F14/t51.2885-19/s150x150/21879239_275898782921413_2396390295726981120_n.jpg" />'+header+
                    '</div>'+
                    html+
                    '<p><a href="#" class="see_this_destination__btn">See This Destination</a></p>'+
                  '</div>'+
                '</div>'+
              '</div>'+
            '</div>'+
          '</div>';
        } else if(contentType == "twitter") {
          element='';element = ''+
          '<div class="ugc_modal__slider">'+
            '<div class="ugc_modal__left ugc_modal__left_twitter">'+
              '<div class="ugc_ml__content" style="'+style+'"></div>'+
              '<button type="button" class="btn btn-primary ugc_close_modal" onclick="openModal()"><span class="lnr lnr-cross"></span></button>'+
            '</div>'+
            '<div class="ugc_modal__right ugc_modal__right_twitter">'+
              '<div class="ugc_ml__content">'+
                '<div class="ugc_mr_head">'+
                  '<div class="ugc_mr_head__content">'+
                    html+
                    '<p><a href="#" class="see_this_destination__btn">See This Destination</a></p>'+
                  '</div>'+
                '</div>'+
              '</div>'+
            '</div>'+
          '</div>';
        }  else if(contentType == "video") {
            //var youtube_source = '';
            //var new_image = style.substring(style.indexOf("ytimg.com/vi/")+13, style.indexOf("/max"));
            var youtube_link_embed = style.substring(style.indexOf("ytimg.com/vi/")+13, style.indexOf("/max"));
            var the_embed = 'https://www.youtube.com/embed/'+youtube_link_embed;
          element='';element = ''+
          '<div class="ugc_modal__slider">'+
            '<div class="ugc_modal__left ugc_modal__left_twitter">'+
              '<div class="ugc_ml__content ugc_ml__content_video" style="'+style+'"><iframe class="youtube-video" width="560" height="315" src="'+the_embed+'?enablejsapi=1&version=3&playerapiid=ytplayer" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'+
              '<button type="button" class="btn btn-primary ugc_close_modal" onclick="openModal()"><span class="lnr lnr-cross"></span></button>'+
            '</div>'+
            '<div class="ugc_modal__right ugc_modal__right_twitter">'+
              '<div class="ugc_ml__content">'+
                '<div class="ugc_mr_head">'+
                  '<div class="ugc_mr_head__content">'+
                    html+
                    '<p><a href="#" class="see_this_destination__btn">See This Destination</a></p>'+
                  '</div>'+
                '</div>'+
              '</div>'+
            '</div>'+
          '</div>';
        }
        $(".ugc_modal").append(element);
        injectLinkLivefyre();
      }
    });
    setSlick();
  }
</script>

<style>
.ugc_modal__parent {
  width:100%;
  height:100%;
  position:fixed;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.5);
  opacity:0;
  display: none;
  z-index:999;
  transition:opacity 300ms;
  will-change:opacity;
  
}
.ugc_modal__parent.open__modal {
  opacity:1;
  display: block;
}
.ugc_modal__slider {
  width: 100%;
  height: 100%;
  position:relative;
  display:block;
}
.ugc_modal {
  width:90%;
  background-color:white;
  position:absolute;
  top:50%;left:50%; transform:translate(-50%,-50%);
}
.ugc_modal__left {
  width:60%;
  position:relative;
}
.ugc_ml__content {
  width:100%;
  background-repeat: no-repeat;
  background-size: cover;
  background-position: 50%, 50%;
}
.ugc_ml__content_video iframe {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
}
.ugc_modal__left .ugc_ml__content {
  padding-top:100%;
  /*background-image:url(https://instagram.fcgk6-1.fna.fbcdn.net/vp/45c329ae4432c2b8ad21a8a681459705/5B7D2FD1/t51.2885-15/e35/30604123_403444033460909_8139024383822790656_n.jpg);*/
}
.ugc_modal__right .ugc_ml__content {
  padding-top:150%;
  background-color: white;
  position: relative;
}
.ugc_modal__left, .ugc_modal__right {
  float:left;
}
.ugc_modal__right {
  width:40%;
}
.ugc_mr_head {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  overflow: auto;
  padding: 2em;
  font-size: 90%;
}
.ugc_modal_link {
  padding-bottom: 10px;
  margin-bottom: 10px;
}
.ugc_modal_link img {
  width: 50px;
  height: auto;
  border-radius: 50%;
  margin-right: 15px;
  border: 1px solid rgba(0, 0, 0, 0.15);
  display: inline-block;
}
.ugc_modal_sharing {
  padding: 15px 0;
  text-align: right;
  border-top: 1px solid #ffffff73;
  margin-top: 15px;
}
.ugc_modal_sharing a {
  width: 30px;
  height: 30px;
  line-height: 30px;
  text-align: center;
  background-color: silver;
  color: white;
  border-radius: 50%;
  display: inline-block;
  text-decoration: none;
  margin-left: 7px;
}
.ugc_modal_sharing span {
  display: inline-block;
  float: left;
}
.see_this_destination__btn {
  color: #e41f8b;
  margin-top: 1em;
  display: block;
  font-size: 105%;
  position: relative; 
  padding-left: 45px;
}
.see_this_destination__btn:hover {
  color: #e41f8b;
  text-decoration: none;
}
a.see_this_destination__btn:after {
    display: block;
    content: '';
    width: 30px;
    height: 30px;
    border: 1px solid #e41f8b;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-44%);
}
a.see_this_destination__btn:before {
    content: '';
    display: block;
    width: 30px;
    height: 30px;
    position: absolute;
    top: -2px;
    left: 0;
    background-image: url(/content/dam/indtravelrevamp/page-assets/SEE-DESTINATION-ICON.png);
    background-repeat: no-repeat;
    background-size: 80%;
    background-position: center;
    z-index: 1;
}
/*Twitter Style*/
.ugc_modal__left_twitter {
  width: 100%;
}
.ugc_modal__left_twitter .ugc_ml__content {
  padding-top: 50%;
}
.ugc_modal__right_twitter, .ugc_modal__right_video {
    width: 100%;
}
.ugc_modal__right_video .ugc_ml__content {
  padding-top: 50px;
}
.ugc_modal__right_twitter .ugc_ml__content {
  padding-top: 20%;
}
.ugc_modal__right_twitter .ugc_mr_head {
  padding: 2em; 
}


/*Slick Mobile*/
@media(max-width: 767px) {
  .ugc_modal {
    width: 92.5%;
  }
  .ugc_modal__parent .slick-list {
    height: 95vh !important;
  }
  .ugc_modal__left {
    width:100%;
  }
  .ugc_modal__right {
    width:100%;
  }
  .ugc_ml__content {
    padding-top: 100% !important;
  }
  .livefyre-new .slick-arrow {
    display: none !important;
  }
  .see_this_destination__btn {
    margin-bottom: 100px;
  }
}
@media(min-width:768px) and (max-width:900px){
    .ugc_modal {
	    max-width: 80%;
    }
}
@media(min-width:901px) {
    .ugc_modal {
	    max-width: 50%;
        min-width:850px;
    }
}
</style>
<div class="container-fluid">
  <div class="ugc_modal__parent">
    <div class="ugc_modal"></div>
  </div>
</div>
<script>
	var linkInterLoop = [];
</script>

    

<script>
    function injectLinkLivefyre(){
        for(var i=0;i<linkInterLoop.length;i++){
			$(".see_this_destination__btn").eq(i).attr("href", linkInterLoop[i]+".html");
        }
        $(".ugc_close_modal").click(function(){
           //openModal();
        });
    }
</script></div>
<div class="user-testimoni aem-GridColumn aem-GridColumn--default--12"><style>
	.user-testimoni #testimoni-container>.slick-prev:before {
        margin-left: 50%;
        transform: translateX(-50%);
    }
    .user-testimoni #testimoni-container>.slick-next:before {
        margin-right: 50%;
        transform: translateX(50%);
    }
    .mf-profile-pic--comment {
        background-size: cover;
    }
</style>
<div class="full-width mf-comment">
	<div id="testimoni-container">
		<div class="testimoni-body">
			<div class="mf-profile--body">
                
                    <div class="mf-profile-pic--comment lazy" data-src="/content/dam/indtravelrevamp/activities/influencer/cannonmatt.png">
                    </div>
                    <h3>@cannonmatt</h3>
                    <p class="mf-profile-description">“Bromo again - Easily the most memorable sunrise of my life ☁️”</p>
                
                <!--<sly data-sly-test="/content/dam/indtravelrevamp/activities/influencer/cannonmatt.png == ''" data-sly-unwrap>
                    <h3 style="margin-top: 9%;">@cannonmatt</h3>
                    <p class="mf-profile-description">“Bromo again - Easily the most memorable sunrise of my life ☁️”</p>
                </sly>-->
			</div>
		</div>
<div class="testimoni-body">
			<div class="mf-profile--body">
                
                    <div class="mf-profile-pic--comment lazy" data-src="/content/dam/indtravelrevamp/activities/influencer/iradeniseoyco.png">
                    </div>
                    <h3>@iradeniseoyco</h3>
                    <p class="mf-profile-description">“Feels quite electric.⚡️ His love endures forever.🌊 I have mixed feelings about Nusa Penida in Bali... i'll probably write about it soon.😅😅”</p>
                
                <!--<sly data-sly-test="/content/dam/indtravelrevamp/activities/influencer/iradeniseoyco.png == ''" data-sly-unwrap>
                    <h3 style="margin-top: 9%;">@iradeniseoyco</h3>
                    <p class="mf-profile-description">“Feels quite electric.⚡️ His love endures forever.🌊 I have mixed feelings about Nusa Penida in Bali... i&#39;ll probably write about it soon.😅😅”</p>
                </sly>-->
			</div>
		</div>
<div class="testimoni-body">
			<div class="mf-profile--body">
                
                    <div class="mf-profile-pic--comment lazy" data-src="/content/dam/indtravelrevamp/activities/influencer/sambori-island.jpg">
                    </div>
                    <h3>@selcouth_vagary</h3>
                    <p class="mf-profile-description">“If a tree falls in the woods and no one is around does it make a sound..?..Sambori Island is the definition of peacefulness, I’ve never felt so alone yet so alive at the same time.”</p>
                
                <!--<sly data-sly-test="/content/dam/indtravelrevamp/activities/influencer/sambori-island.jpg == ''" data-sly-unwrap>
                    <h3 style="margin-top: 9%;">@selcouth_vagary</h3>
                    <p class="mf-profile-description">“If a tree falls in the woods and no one is around does it make a sound..?..Sambori Island is the definition of peacefulness, I’ve never felt so alone yet so alive at the same time.”</p>
                </sly>-->
			</div>
		</div>
<div class="testimoni-body">
			<div class="mf-profile--body">
                
                    <div class="mf-profile-pic--comment lazy" data-src="/content/dam/indtravelrevamp/activities/influencer/wanderersandwarriors-small.png">
                    </div>
                    <h3>@wanderersandwarriors</h3>
                    <p class="mf-profile-description">“Pinching myself at how beautiful Indonesia is.”</p>
                
                <!--<sly data-sly-test="/content/dam/indtravelrevamp/activities/influencer/wanderersandwarriors-small.png == ''" data-sly-unwrap>
                    <h3 style="margin-top: 9%;">@wanderersandwarriors</h3>
                    <p class="mf-profile-description">“Pinching myself at how beautiful Indonesia is.”</p>
                </sly>-->
			</div>
		</div>

	</div>
</div>

<script>
	$('document').ready(function(){
        var ar = "en";
		var rtl_ar = false;
        if(ar == "ar") {
			rtl_ar = true;
        }
    	$('#testimoni-container').slick({
            infinite: true,
            slidesToShow: 2,
            slidesToScroll: 2,
            arrows: true,
            rtl:rtl_ar
        });
        setTimeout(function(){
            if(screen.width < 768){
				$('#testimoni-container').slick('unslick');
                $('#testimoni-container').slick({
                    infinite: true,
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    arrows: true
                });
            }
        }, 1000);
    })
</script>
</div>
<div class="travel-packages aem-GridColumn aem-GridColumn--default--12"><style>
.indt-tp-content {
    border: 0;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0);
    transition: all 200ms ease-out;
    border-radius:5px;
}
.card.indt-tp-content:hover {
	box-shadow: 0px 5px 7px #9b9b9b;
}

.indt-tp-img {
    position: relative;
    width: 100%;
    padding-top:100%;
    background-size: cover;
    background-position: 50% 50%;
    background-repeat: no-repeat;
    /*background-image: url(/content/dam/indtravelrevamp/en/experience/experience-the-modern-wonders-of-indonesia/thumb/page_thumb.jpg);*/

    border-top-left-radius:5px !important;
    border-top-right-radius:5px !important;
    border-bottom-left-radius:0px !important;

    min-height: 239px;
}
.indt-tp-content .card-footer, .indt-tp-content .card-footer a {
	border-bottom-left-radius:5px;
    border-bottom-right-radius:5px;
}

.tp-img-desc {
    padding: 1em;
    position: absolute;
    bottom: 0;
    left: 0;
    color: white;
}
.indt-more-tp-link {
    color: black;
    margin-top: 1em;
    position: relative;
    padding-right: 22px;
}
.indt-more-tp-link:focus {
	text-decoration: none;
}
.indt-more-tp-link span {
    display: block;
    position: absolute;
    top: 5px;
    right: 0;
}
.indt-more-tp-link:hover {
	text-decoration:none;
}
.travel-packages-parent {
	background-image: linear-gradient(#efefef, #efefef), linear-gradient(to bottom, #ffffff, #c4e6f0); 
    overflow: auto;
    padding-top: 2em;
    padding-bottom: 2em;
}
.travel-packages-parent .tp-col-half {
	padding:0 7px;
}
.tp-row {
    margin-right: -7px;
    margin-left: -7px;
}
.remove-col {
	width:238px !important;
    display:block;
    float:left;
}
@media screen and (min-width: 768px) and (max-width: 1000px) {
	/*.tp-col-half:nth-child(4), .tp-col-half:nth-child(5) {
    	display:none;
    }*/
    .travel-packages-parent {
    	overflow-x: hidden;
    }
}

@media screen and (max-width: 767px) {
    .tp-col-half {
        width: 50%;
        flex-basis: inherit;
    }
    /*.tp-col-half:nth-child(3), .tp-col-half:nth-child(4), .tp-col-half:nth-child(5) {
    	display:none;
    }*/
    .tp-img-desc * {
    	font-size: initial;
    }
    .indt-tp-content .card-block span {
    	font-size: small !important;
    }
    .travel-packages-parent {
        padding-left:15px;
        padding-right:15px;
        padding-bottom: 1em;
    	padding-top: 15px !important;
    }
    .tp-col-half .tp-from-text {
        font-size: small !important;
    }
}
@media screen and (min-width:768px) {
    .tp-col-half {
        max-width:252px;
    }
}
.tp-img-logo {
	top:15px;
    left:15px;
    position:absolute;
}
.tp-img-logo img {
	max-width: 100%;
    height:40px;
    width: auto;
}


</style>

    <div class="full-width p-lr-1 travel-packages-parent">
		<div class="container indt-container">
			<h3 class="splt-title" style="margin-bottom: 20px;">Travel Package</h3>
			<div class="row tp-row tp-slick">
				<div class="col tp-col-half">
					<div class="card indt-tp-content">
                        <!--<div class="indt-tp-img lazy" style="background-image: url(/content/dam/indtravelrevamp/en/destinations/bali-nusa-tenggara/bali/bali/Image1.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);">-->
                        <div class="indt-tp-img lazy" data-src="/content/dam/indtravelrevamp/en/destinations/bali-nusa-tenggara/bali/bali/Image1.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png">
                        	<div class="tp-img-logo">
								<img>
							</div>
							<div class="tp-img-desc">
								<h4></h4>
								<h2>Bali Hot Deals</h2>
							</div>
						</div>
						<div class="card-block" style="padding: .7em 1em;">
                        	<p class="w-100 d-block float-left mb-0 font-weight-bold tp-from-text">Bali Hot Deals</p>
                        	<div class="w-100">
                                <span class="float-left">Start From</span>
                                <span class="float-right" style="font-weight:600;color: #4a90e2;font-size: medium;"><!--$--> USD 45*</span>
                            </div>
						</div>
						<div class="card-footer text-muted" style="padding: 0;">
							<a href="http://www.indonesia.travel/gb/en/packages/viwi-packages/bali-hot-deals" class="btn btn-primary btn-book-flight" style="font-weight:600;">Book Now</a>
							
						</div>
					</div>
				</div>
			
				<div class="col tp-col-half">
					<div class="card indt-tp-content">
                        <!--<div class="indt-tp-img lazy" style="background-image: url(/content/dam/indtravelrevamp/en/partner/Jakarta-small.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);">-->
                        <div class="indt-tp-img lazy" data-src="/content/dam/indtravelrevamp/en/partner/Jakarta-small.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png">
                        	<div class="tp-img-logo">
								<img>
							</div>
							<div class="tp-img-desc">
								<h4></h4>
								<h2>VIWI Packages</h2>
							</div>
						</div>
						<div class="card-block" style="padding: .7em 1em;">
                        	<p class="w-100 d-block float-left mb-0 font-weight-bold tp-from-text">VIWI Packages</p>
                        	<div class="w-100">
                                <span class="float-left">Start From</span>
                                <span class="float-right" style="font-weight:600;color: #4a90e2;font-size: medium;"><!--$--> USD 76*</span>
                            </div>
						</div>
						<div class="card-footer text-muted" style="padding: 0;">
							<a href="http://www.indonesia.travel/gb/en/packages/viwi-packages" class="btn btn-primary btn-book-flight" style="font-weight:600;">Book Now</a>
							
						</div>
					</div>
				</div>
			
				<div class="col tp-col-half">
					<div class="card indt-tp-content">
                        <!--<div class="indt-tp-img lazy" style="background-image: url(/content/dam/indtravelrevamp/en/destinations/java/dki-jakarta/jakarta/9fe4c537ae976df197ea11dfbd43e42e8a886816-cd2d9.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);">-->
                        <div class="indt-tp-img lazy" data-src="/content/dam/indtravelrevamp/en/destinations/java/dki-jakarta/jakarta/9fe4c537ae976df197ea11dfbd43e42e8a886816-cd2d9.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png">
                        	<div class="tp-img-logo">
								<img>
							</div>
							<div class="tp-img-desc">
								<h4>Jakarta Hot Deals</h4>
								<h2></h2>
							</div>
						</div>
						<div class="card-block" style="padding: .7em 1em;">
                        	<p class="w-100 d-block float-left mb-0 font-weight-bold tp-from-text">Jakarta Hot Deals</p>
                        	<div class="w-100">
                                <span class="float-left">Start From</span>
                                <span class="float-right" style="font-weight:600;color: #4a90e2;font-size: medium;"><!--$--> USD 74*</span>
                            </div>
						</div>
						<div class="card-footer text-muted" style="padding: 0;">
							<a href="http://www.indonesia.travel/gb/en/packages/viwi-packages/jakarta-hot-deals" class="btn btn-primary btn-book-flight" style="font-weight:600;">Book Now</a>
							
						</div>
					</div>
				</div>
			
				<div class="col tp-col-half">
					<div class="card indt-tp-content">
                        <!--<div class="indt-tp-img lazy" style="background-image: url(/content/dam/indtravelrevamp/en/destinations/village-tourism/tembi-small.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);">-->
                        <div class="indt-tp-img lazy" data-src="/content/dam/indtravelrevamp/en/destinations/village-tourism/tembi-small.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png">
                        	<div class="tp-img-logo">
								<img>
							</div>
							<div class="tp-img-desc">
								<h4>Tourism VIllage</h4>
								<h2>Indonesia</h2>
							</div>
						</div>
						<div class="card-block" style="padding: .7em 1em;">
                        	<p class="w-100 d-block float-left mb-0 font-weight-bold tp-from-text">Tourism VIllage Package</p>
                        	<div class="w-100">
                                <span class="float-left">Start From</span>
                                <span class="float-right" style="font-weight:600;color: #4a90e2;font-size: medium;"><!--$--> USD 18.50</span>
                            </div>
						</div>
						<div class="card-footer text-muted" style="padding: 0;">
							<a href="http://www.indonesia.travel/gb/en/destinations/village-tourism" class="btn btn-primary btn-book-flight" style="font-weight:600;">Book Now</a>
							
						</div>
					</div>
				</div>
			
				<div class="col tp-col-half">
					<div class="card indt-tp-content">
                        <!--<div class="indt-tp-img lazy" style="background-image: url(/content/dam/indtravelrevamp/en/destinations/java/east-java/aca6e718c250999a0c105b456b05f20358a89016-e51b4.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);">-->
                        <div class="indt-tp-img lazy" data-src="/content/dam/indtravelrevamp/en/destinations/java/east-java/aca6e718c250999a0c105b456b05f20358a89016-e51b4.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png">
                        	<div class="tp-img-logo">
								<img>
							</div>
							<div class="tp-img-desc">
								<h4>East Java Hot Deals</h4>
								<h2></h2>
							</div>
						</div>
						<div class="card-block" style="padding: .7em 1em;">
                        	<p class="w-100 d-block float-left mb-0 font-weight-bold tp-from-text">East Java Hot Deals</p>
                        	<div class="w-100">
                                <span class="float-left">Start From</span>
                                <span class="float-right" style="font-weight:600;color: #4a90e2;font-size: medium;"><!--$--> USD 49*</span>
                            </div>
						</div>
						<div class="card-footer text-muted" style="padding: 0;">
							<a href="http://www.indonesia.travel/gb/en/packages/viwi-packages/east-java-hot-deals" class="btn btn-primary btn-book-flight" style="font-weight:600;">Book Now</a>
							
						</div>
					</div>
				</div>
			</div>
            <div class="row w-100"></div>
            
            <a href="http://www.indonesia.travel/gb/en/packages" class="float-right indt-more-tp-link">More Package <span class="lnr lnr-arrow-right"></span></a>
		</div>
	</div>
<script>
$("document").ready(function() {
	tpHome.setSlick();
    //tpHome.successSlick();
})
tpHome = {
 theEl: $(".indt-tp-content"),
 toEl: $(".indt-tp-img"),
 setWidth: function() {
  var refVal = this.theEl.outerWidth();
     if(refVal > 238) {
  		//this.toEl.parent().parent().addClass("remove-col");
        this.toEl.parent().parent().parent().removeClass("row");
        this.toEl.css({'height':'238px','width':'238px !important'});
         //$(".indt-tp-img:hidden").css({'height':'238px','width':'238px !important'});
     } else {
		this.toEl.css('height', refVal + 'px');
         //$(".indt-tp-img:hidden").css('height', refVal + 'px');
     }
 },
    setSlick: function(){
		var width = $(window).outerWidth();		
        if(width < 1001) {
            $(".tp-slick").on('init', function(event, slick){
                //tpHome.setWidth();
                //setTimeout(function(){ tpHome.setWidth(); }, 2000);
            });

            $(".tp-slick").slick({
                infinite: false,
                slidesToShow: 3,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }
                ]
            });

        } else {
			//tpHome.setWidth();
        }
    }
}
</script>

</div>
<div class="spotlight aem-GridColumn aem-GridColumn--default--12"><style>
.spotlight-container {
    /*padding-bottom: 40px;
    padding-top: 30px;*/
    background-color: #efefef;
    background-image: linear-gradient(to left, rgb(213, 51, 124), rgb(239, 126, 49));
}
.splt-col {
	padding-top: 5px;
}
.spotlight-container h3 {
    font-weight: 300;
    font-size:1.5em;
}
.spotlight-2 {
	margin-bottom: 30px;
}
h3.splt-title {
    margin-bottom:25px;
}
.spotlight-main-title {
    margin-bottom: 25px;
    padding: 20px 0px;
    color: white;
}
.splt-color {
    color:#D71984;
}
.splt-img {
    width: 100%;
    height: 250px;
    background-size: cover;
    background-position: center;
    height:250px;
    background-color:grey;
}
.splt-description {
	margin-top: 20px;
    font-size: smaller;
    line-height: 27px;
}
.splt-title-col-desc {
    font-size:larger;
}

.hovering {
    width:50%;
    height:3px;
    background-color:transparent;
    bottom:0px;
    position:absolute;
}
.the-splt-col {
    border-right: 1px solid #e1e1e1;
    padding-left:30px;
    padding-right:30px;
    position:relative;
}
.the-splt-col .splt-title {
    /*font-size: 20px !important;*/
    font-size: smaller !important;
    margin-top: 5px;
    line-height: 1.5;
}
.the-splt-col p:last-child {
    border-bottom:2px solid transparent;
}
.the-splt-col:hover {
    text-decoration:none;
}
.the-splt-col:hover .hovering {
    background-color:orange;
}
.the-splt-col:first-child {
    padding-left:15px;
}
.the-splt-col:last-child {
    border-right:0;
    padding-right:15px;
}
@media (max-width: 575px) {
	.spotlight-container .row {
        margin:0px !important;

    }
    .spotlight-container {
    	padding-top:15px !important;
    }
    .the-splt-col {
        border-right: 0px;
        padding-left:15px !important;
        padding-right:15px !important;
        border-bottom: 1px solid #e1e1e1;
        padding-top: 15px;
    }
    .spotlight-container h3 {
        font-size: 1.25rem !important;
    }
    h3.splt-title {
        margin-bottom: 15px !important;
    }
    .the-splt-col:first-child {
        padding-left: 0px;
        padding-right: 0px;
    }
    .spotlight-description {
        margin-top:20px;
    }
    .splt-description {
        margin-bottom: 0px;
    }
    .splt-title-col{
    	margin-bottom: 0px;
    }
    .splt-title-col-desc {
        font-size: small;
    }
    .spotlight-container {
    	padding-bottom: 0px;
    }
    .splt-img {
        height: 190px;
    }
}
@media screen and (min-width:768px) and (max-width: 991px) {
	.spotlight-container .row {
        margin:0px !important;
    }
    .the-splt-col:first-child {
        padding-left:30px;
    }
}
@media screen and (max-width: 991px) {
    .the-splt-col {

    }
}
@media screen and (max-width:908px) {
    .aem-video-players {
		height:auto !important;
    }
}
@media (min-width: 992px) and (max-width: 1300px) {
    .spotlight-container {
        padding-left:15px;
        padding-right:15px;
    }
}
.aem-video-players {
	height:240px;
    width:100%;
    overflow:hidden;
    position:relative;
}
.aem-video-players .video-desc {
	width:100%;
    position:absolute;
    background-color:rgba(0, 0, 0, 0.25);
    top:0px;left:0px;
}
.center-video-desc {
	position: absolute;
    top: 50%;
    left: 50%;
    margin-right: -50%;
    transform: translate(-50%, -50%);
    z-index:99;
}
.video-play-btn a {
    opacity: 0.8;
    color: white;
}
.video-play-btn:hover {
	opacity: 1;
}
.video-play-btn i {
	cursor:pointer;
}
.aem-video-players video {
	width:100% !important;
    height:auto;
}
.modal-video-container {
	/*height: calc(100% - 60px) !important;*/
    margin-top: auto;
    margin-bottom: auto;
    top: 50%;
	transform: translateY(-50%) !important;
}
.modal-body-video video {
	width:100%;
    height:100%;
}
.show-hide-spotlight-btn {
    background: #ef7e30;
    font-size: 14px;
    text-transform: uppercase;
    font-family: 'Open Sans';
    letter-spacing: 0.7px;
    cursor: pointer;
    border: none;
    border-radius: 2px;
    background-image: linear-gradient(to left, #d5337c, #ef7e31);

	border: 2px solid white;
    color: white;
}
.show-hide-spotlight-btn {
	box-shadow:unset !important;
}
@media (max-width:767px) {
    .show-hide-spotlight-btn {
        float: unset !important;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 0px;
        margin-top: 15px;
    }
    .spotlight-main-title {
        text-align:center;
    }
        .spotlight-main-body {
            padding-left: 15px !important;
            padding-right: 15px !important;
        }
}
::-webkit-media-controls {
  display:none !important;
  top:20%;
}
video::-webkit-media-controls {
  display:none !important;
  top:20%;
}
video::-webkit-media-controls-enclosure {
  display:none !important;
  top:20%;
}
</style>
<div class="full-width spotlight-container">
	
    <div class="container indt-container ">
        <div class="row">
            <div class="col-12">
            	<h3 class="splt-title spotlight-main-title" style="margin-bottom: 0px;">
                    Indonesia&#39;s  Spotlight
    				<button class="show-hide-spotlight-btn btn float-right" type="button" onclick="showhidespotlight()">Find out more</button>
				</h3>
            </div>
        </div>
    </div>
</div>
<div class="full-width spotlight-main-body" style="display:none;margin-top:30px;margin-bottom:30px;">
    <div class="container indt-container">
        <div class="spotlight-2 row">
            <div class="col-12 col-sm-6">
            	<a href="http://www.indonesia.travel/gb/en/event-festivals/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau">
            	<div class="aem-video-players">

                        <div class="video-desc">
                            <div class="center-video-desc">
                                <div class="video-play-btn">
                                </div>
                            </div>
                        </div>
						
                            <img class="lazy" data-src="/content/dam/indtravelrevamp/en/event/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau/header.jpg/_jcr_content/renditions/cq5dam.thumbnail.642.428.png" style="background-size: cover;background-position: 50% 50%;max-width: 100%;"/>
							<!--video id="vid" style="background-image:url(/content/dam/indtravelrevamp/en/event/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau/header.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png);background-size: cover;background-position: 50% 50%;">
                                <source src="" type="video/mp4">
                                Your browser does not support the video tag.
                            </video-->
                        
                        
                </div>
                </a>
                <!--
                <a href="/content/indtravelrevamp/gb/en/event-festivals/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau.html">
                    <div class="splt-img" style="background-image:url('/content/dam/indtravelrevamp/en/event/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau/header.jpg/jcr:content/renditions/cq5dam.thumbnail.642.428.png')"></div>
				</a>-->
            </div>
            <div class="col-12 col-sm-6 spotlight-description">
				<p class="splt-color">Event Festivals</p>
                <a href="http://www.indonesia.travel/gb/en/event-festivals/thrill-to-be-bekudo-bono-festival-2018-surf-kilometers-upriver-in-riau">
                    <h3>Thrill to the BEKUDO BONO FESTIVAL 2018: Surf Kilometers Upriver in Riau!</h3>
				</a>

                <p class="splt-description">
                    <script>
                        var spotlightString = 'Calling all thrill seekers, adrenaline junkies, and surfing enthusiasts! The heart\u002Dstopping Bekudo Bono Festival 2018 of tidal waves is here once more, promising some most challenging barrels that do not crash on the beach but roll deep into the Kampar River in the Pelalawan Regency of the Riau Province.';
    					var spotlightLink = '\/content\/indtravelrevamp\/gb\/en\/event\u002Dfestivals\/thrill\u002Dto\u002Dbe\u002Dbekudo\u002Dbono\u002Dfestival\u002D2018\u002Dsurf\u002Dkilometers\u002Dupriver\u002Din\u002Driau';
    					var readmore = 'Read More';
                    </script>
                </p>
            </div>
        </div>

        <div class="splt-col row">
			<a href="http://www.indonesia.travel/gb/en/event-festivals/wakatobi-wave-2018-explore-the-breathtaking-seas-and-culture-of-wakatobi" class="col-12 col-sm-6 col-md-6 col-lg-3 the-splt-col">
                <p class="splt-title-col splt-color">Event Festivals</p>
                <h3 class="splt-title">
        			WAKATOBI WAVE 2018: Explore the Breathtaking Seas and Culture of Wakatobi
        		</h3>
                <div class="hovering"></div>
			</a>
		
			<a href="http://www.indonesia.travel/gb/en/destinations/java/jatim-park-3-east-java-s-world-of-theme-park-s-and-awesome-fun-for-the-family" class="col-12 col-sm-6 col-md-6 col-lg-3 the-splt-col">
                <p class="splt-title-col splt-color">Destinations</p>
                <h3 class="splt-title">
        			JATIM PARK 3: EAST JAVA’S WORLD OF THEME PARKS and Awesome Fun for the Family
        		</h3>
                <div class="hovering"></div>
			</a>
		
			<a href="http://www.indonesia.travel/gb/en/event-festivals/don-t-miss-10-th-djakarta-warehouse-project-at-garuda-wisnu-gwk-cultural-park-bali.html" class="col-12 col-sm-6 col-md-6 col-lg-3 the-splt-col">
                <p class="splt-title-col splt-color">Event Festivals</p>
                <h3 class="splt-title">
        			Don’t Miss: 10th DJAKARTA WAREHOUSE PROJECT at Garuda Wisnu GWK Cultural Park BALI
        		</h3>
                <div class="hovering"></div>
			</a>
		
			<a href="http://www.indonesia.travel/gb/en/destinations/village-tourism" class="col-12 col-sm-6 col-md-6 col-lg-3 the-splt-col">
                <p class="splt-title-col splt-color">Village Tourism</p>
                <h3 class="splt-title">
        			Welcome to Indonesia! An archipelago filled with wondrous sites and magical destinations.
        		</h3>
                <div class="hovering"></div>
			</a>
		</div>


	</div>

<script>
	$("document").ready(function(){
		$('#exampleModalLong').on('hidden.bs.modal', function (e) {
        	//var vid = document.getElementById("full-spotlight-video")
        	//vid.pause();
        })

        $(".splt-description").append('<span>'+ spotlightString.substr(0, 140) +'</span><span class="hidden-md-down">'+ spotlightString.substr(140) +'</span>');
        $(".splt-description").append('<a href="' + spotlightLink + '.html" class="splt-color">' + readmore + ' &rbarr;</a>');
    })

    function showhidespotlight(){
		$('.spotlight-main-body').slideToggle(300, function(){
            var hide_text = "Hide";
            var show_text = "Find out more";
            if($(this).is(":hidden")){$(".show-hide-spotlight-btn").html(show_text)} else {$(".show-hide-spotlight-btn").html(hide_text)}
        });
    }

	var spotlight = "";
	//spotlight != "" ? enableAutoplay() : "";
	function enableAutoplay() { 
            var vid = document.getElementById("vid");
        	//vid.preload = "auto";
            vid.autoplay = true;
        	vid.loop = true;
            vid.load();
    }
</script>

</div></div>

    <div class="new newpar section aem-Grid-newComponent">

</div>

</div></div>

        

        <div><style>
.new-footer {
    background-color: #6d519d;
    color:white;
    position:relative;
}
.new-footer a { 
    color:white;
}
.new-footer-pattern {
    opacity: .5;
    background-image: url(/content/dam/indtravelrevamp/page-assets/sticky-menu/footer_pattern_small-02.png);
    width: 100%;
    height: 100%;
    position: absolute;
    bottom: 0px;
    left: 0;
    background-position: bottom;
    background-repeat-y: no-repeat;
    background-repeat: repeat-x;
}
.new-footer .indt-container {
    padding-top:2em;
    padding-bottom:2em;
}
.footer-ministry {
    padding-bottom:2em;
    font-size: 14pt;
    letter-spacing: 1px;
}
.footer-ministry-partner a:last-child {
    margin-left:15px;
}
.footer-disclaimer {
    color: #dddddd;
    padding-top: 5px;
    padding-bottom: 5px;
    font-size: 8pt;
    margin-top: 1em;
}
.footer-menu {
	font-size: 10pt;
    margin-top: 2em;
}
.footer-menu li {
    border-right: 1px solid white;
    padding: 0px 15px;
    color: white;
    list-style-type: none;
    display: inline-block;
}
.footer-menu li:first-child {
    padding-left:0px;
}
.footer-menu li:last-child {
    border-right:0px !important;
}

.footer-sosial-a a {
    margin-left: 40px;
    font-size: large;
}
.footer-sosial-a a:first-child {
    margin-left:0px !important;
}

.indt-republik-indonesia {
    font-weight:bold;
    display:inline-block;
}

@media (max-width:767px) {
    .indt-republik-indonesia {
        display:block;
        width:100%;
    }
    .new-footer .indt-container {
        padding-bottom: 3.5em;
    }

    .footer-ministry-partner a:last-child {
        width: 100%;
        display: block;
        margin-left: 0px;
        margin-top: 15px;
    }

    .footer-menu li {
        border-right: 0px;
        padding: 0px;
        text-align: left;
        width: 100%;
    }
    .footer-sosial-a {
        text-align:left !important;
        margin-top: 1em;
        margin-bottom: 2em;
    }
    .new-footer-order {
        flex-direction: column-reverse !important;
    }
}

@media (max-width:1245px) {
	.new-footer .indt-container > .row {
        margin-right:0px !important;
    }
    .new-footer .indt-container {
        padding-left:15px !important;
    }
    .row.row-mob {
        margin-right: 0px;
    }
}

.old-cookie-privacy-term {
    display:block;
}
.new-cookie-privacy-term {
    display:none;
}
</style>
<div class="full-width new-footer">

    

    <div class="new-footer-pattern"></div>
	<div class="container indt-container">
		<div class="row">
			<div class="col-12 footer-ministry">Ministry of Tourism, <span class="indt-republik-indonesia">Republic of Indonesia</span></div>
			<div class="col-12 footer-ministry-partner">
				<a href="//www.am2018bali.go.id" class="">
					<img src="/content/dam/indtravelrevamp/page-assets/footer/garuda-bw-small.png" style="width: 180px; height:auto;">
				</a>
				<a href="//asiangames2018.id" class="">
					<img src="/content/dam/indtravelrevamp/page-assets/footer/AsianGame-small.png" style="width: 80px; height:auto;">
				</a>
			</div>
			<div class="col-12">
				<ul class="footer-menu" style="font-size: 10pt;">
                    <li>
						<a href="http://www.indonesia.travel/gb/en/cookie-policy" class="old-cookie-privacy-term">Cookie Policy</a>
                        <a href="http://www.indonesia.travel/gb/en/cookie-policy" class="new-cookie-privacy-term">Cookie Policy</a>
					</li>
					<li>
						<a href="http://www.indonesia.travel/gb/en/privacy-policy" class="old-cookie-privacy-term">Privacy Policy</a>
                        <a href="http://www.indonesia.travel/gb/en/privacy-policy" class="new-cookie-privacy-term">Privacy Policy</a>
						<div class="dropdown-content">
							<a href="//www.indonesia.travel/content/dam/indtravelrevamp/en/brand-guidelines/Media-Applications.pdf">Brand Guidelines</a>
							<a href="//www.indonesia.travel/content/dam/indtravelrevamp/en/brand-guidelines/brand-guideline.pdf">Brand &amp; Design</a>
						</div>
					</li>

					<li>
						<a href="http://www.indonesia.travel/gb/en/term-condition" class="old-cookie-privacy-term">Terms and Conditions</a>
                        <a href="http://www.indonesia.travel/gb/en/term-condition" class="new-cookie-privacy-term">Terms and Conditions</a>
					</li>
					<li>
						<a href="http://www.indonesia.travel/gb/en/contact">Contact Us</a>
					</li>
				</ul>
			</div>
            <div class="col-12">
				<div class="row new-footer-order">
                    <div class="col-12 col-md-7 footer-disclaimer" style="margin-top:0px !important;">This is the official website of the Ministry of Tourism, Republic of Indonesia. The contents listed on this website are intended for informational purposes rather than commercial. Any displayed sale is meant as a token of partnership and will always redirect you to our partners' sites.</div>
					<div class="col-12 col-md-5 text-right footer-sosial-a">
						<a target="_blank" href="//www.twitter.com/indtravel/" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a>
						<a target="_blank" href="//www.instagram.com/indtravel/" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a>
						<a target="_blank" href="//www.facebook.com/indonesiatravel/" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a>
						<a target="_blank" href="//www.youtube.com/c/indonesiatravel" title="Youtube"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
						<a href="//www.tripadvisor.com/Tourism-g294225-Indonesia-Vacations.html" title="Trip Advisor">
							<img src="/content/dam/indtravelrevamp/partner-assets/TripAdvis-small.png" style="width: 30px; height:auto;">
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
/*$(document).ready(function(){
    if(window.location.hostname == "www.indonesia.travel") {
		console.clear();
    }
});*/
</script>

<style type="text/css">
.cookies-banner-container {
    display:none;
    background-color: #2a2a2a;
    color: white;
    position: fixed;
    bottom: 0;
    left: 0px;
    text-align: center;
    z-index: 100;
    font-size: small;
}
.cookies-banner-parent {
    padding: 15px;
    font-size: 12px;
}
/*.close-cookies-banner {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    background-color: black;
    color: white;
    text-align: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: pointer;
}
.close-cookies-banner span {
    display: block;
    position: absolute;
    top: 50%;
    height: 10px;
    width: 10px;
    left: 50%;
    transform: translate(-50%, -50%);
}

.close-cookies-banner:hover {
    opacity: .75;
}*/
.close-cookies-home {
    padding: 6px 20px;
    background-color: #6d4f9f;
    margin: 15px;
    border-radius: 2px;
    cursor: pointer;
}
.close-cookies-home:hover {
    opacity:0.9;
}
#headcontainer {
	transition:all 300ms;
}
@media (min-width:768px) {
    .close-cookies-banner span {
        height: unset;
        width: unset;
    }
}

@media (max-width:767px) {
    .cookies-banner-parent {
        font-size: 80%;
    }
    /*.close-cookies-banner {
        width: 18px;
        height: 18px;
    }*/
    .header_search_kiri {
        height: 79px !important;
        padding-top: unset;
        /*margin-top: -132px !important;*/
        transition: all 300ms;
    }
    .header_search {
        padding-bottom: 0px !important;
    }
    .img-explore {
        position: absolute !important;
        top: 0;
        right: 0;
        padding-top: 5px !important;
    }
}
</style>


<style>
	@media (max-width:767px) {
        .close-cookies-home {
            display: block;
            margin-bottom: 0px;
        }
    }
</style>



<div class="full-width cookies-banner-container">
    <div class="cookies-banner-parent">
        <div class="text-cookies-banner">
			
                To make your experience more immersive, we use cookies on indonesia.travel. By continuing to browse on this site, you are agreeing to our use of cookies as defined in our 
                <a href="http://www.indonesia.travel/gb/en/cookie-policy" style="text-decoration:underline;color:#9e64ff;">cookie policy</a>.
                <a class="close-cookies-home close-cookies-banner" onclick="removeBannerCookiesPolicy()">I agree</a>
            
            
        </div>
    </div>
</div>

<script type="text/javascript">
$(document).ready(function() {
    checkCookieS();
    //$("#headcontainer").css("top",$(".cookies-banner-parent").outerHeight()+"px")
})

function removeBannerCookiesPolicy() {
    $(".close-cookies-banner").parents(".full-width").slideUp(300);
    //$("#headcontainer").css("top","0px");
    if ($(window).width() < 768) {
        //$(".header_search_kiri").removeAttr("style");
    }
	//$("#explorecontainer").css("top","79px");
    setCookiesS(7);
}

function setCookiesS(exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    var expires = "expires=" + d.toUTCString();
    document.cookie = "SESSION_COOKIES=agree;" + expires + ";path=/";
}

function deleteCookieSS(name) {
    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
};

function get_cookieS(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
}

function checkCookieS() {
    if (get_cookieS("SESSION_COOKIES") === "agree") {
        $(".close-cookies-banner").parents(".full-width").remove();
		//$("#headcontainer").css("top","0px");
        if ($(window).width() < 768) {
            //$(".header_search_kiri").css("margin-top", "-79px !important");
        }
    } else {
        $(".close-cookies-banner").parents(".full-width").slideDown(300);
        if ($(window).width() < 768) {
            //$(".header_search_kiri").css("margin-top", "-24px");
        }
        //$(".header_search_kiri").attr("style","margin-top:-117px !important");
    }
    //$("#headcontainer").css("top",$(".cookies-banner-parent").outerHeight()+"px")
}
</script>
</div>

        <div><style>
.sidemenu {
    width:55px;
    height: 150px;
    position:fixed;
    top: 174px;
    right:-100px;
    font-size: smaller;
    transition:right 1s, tranform 1s, width .2s;
    transition-delay: .25s;
    z-index: 98;

    border-top-left-radius:10px;
	border-bottom-left-radius:10px;
}
.sidemenu:hover  {
    width: 210px;
	transition-delay: 0s;
}
.sidemenu a {
	/*height: 100px;
    text-align: center;
    font-size: xx-small;
    color: white;
    padding-top: 15px;
    padding-bottom: 15px;
    font-weight: 900;*/
    height: 50px;
    width: 100%;
    color: white;
    position: relative;
    display: block !important;
  	text-decoration:none;
    overflow:hidden;
}
.sidemenu a:hover {
	filter: brightness(120%);
}

.sidemenu-show {
    right:0px;
    bottom:0px;
}
.sidemenu-hide {
    right:-50px;
    bottom:-50px;
}
.box-shadow {
    -moz-box-shadow: 0 0 4px rgba(0,0,0,0.4);
    -webkit-box-shadow: 0 0 4px rgba(0,0,0,0.4);
    box-shadow: 0 0 4px rgba(0,0,0,0.4);
}
.sticky-hide {
    right:-50px;
}
.sticky-show {
    right:0px;
}
.hidePanelSticky {
	left: 0;
    top: 0;
    transform: translateX(-100%);
    position: absolute;
    z-index: 9999;
    font-weight: bold;
    padding: 0 7px;
    background-color: #d71984;
    color: white;
    height: 27px;
    line-height: 150%;
    cursor:pointer;
}
.hidePanelSticky:hover {
	opacity:0.8;
}
.sidemenu-icon {
    height: 32px;
    width: 32px;
    background-size: 32px;
    margin: 8px;
    float: right;
    margin-right: 11px;
}
.sticky-menu-desc {
    height: 100%;
    padding: 14px 17px;
    letter-spacing: 1px;
    font-size: 14px;
    float: left;
}
.sidemenu-icon:first-child {

}
.sidemenu-icon:last-child {
	background-position: 0px -60px;
    width: 25px;
    background-size: 90px 30px;
}

@media (min-width: 576px) {
	.hidePanelSticky {
        display:none;
    }
    .sidemenu {
        border-top-left-radius:7px;
        border-bottom-left-radius:7px;
    }
    .sidemenu a:first-child {
		border-top-left-radius:7px;
    }
	.sidemenu a:last-child {
		border-bottom-left-radius:7px;
    }
}
@media (max-width: 575px) {
	.sidemenu:hover {
        width: 100%;
    }
	.sidemenu {
        width:100%;
        height:50px;
        top: auto;
        right:0;
    }
    .footer-content {
        /*padding-bottom: calc(1.5em + 100px) !important;*/
    }
    .hidePanelSticky {    
        right: 0;
        left: auto;
        transform: rotate(90deg) translateX(-100%);
        position: absolute;
        z-index: 9999;
        font-weight: bold;
        padding: 0 7px;
        background-color: #d71984;
        color: white;
        height: 27px;
        width: 27px;
        line-height: 190%;
        cursor: pointer;
    }
    .sticky-hide {
        right:auto;
        transform: translateY(100%);
    }
    .sticky-show {
        right:auto;
        bottom: -2px;
    }
    .sidemenu a {
    	height: 100%;
        width:33.333333%;
    }
    .sticky-menu-desc {
        height: 100%;
        padding: 0;
        letter-spacing: 1px;
    	font-size: 8px;
        float: left;
        margin-top: 20px;
    }
    .sidemenu-icon {
        height: 25px;
        width: 25px;
        background-size: 25px;
        margin: 15px;
        float: left;
        margin-right: 11px;
    }
}
</style>
<div class="sidemenu col box-shadow" id="sidemenu-action">
    <div class="hidePanelSticky" onclick="hideSticky()"><i class="fa fa-forward"></i></div>
    <div class="row">
		<a href="http://www.indonesia.travel/gb/en/destinations" class="" style="background-color:#c8337c;">
        	<div class="sidemenu-icon" style="background-image:url(/content/dam/indtravelrevamp/page-assets/sticky-menu/Destination.png)"></div>
			<div class="sticky-menu-desc">Destinations</div>
        </a>
        <a href="http://www.indonesia.travel/gb/en/news" class="" style="background-color:#aa337c;">
        	<div class="sidemenu-icon" style="background-image:url(/content/dam/indtravelrevamp/page-assets/sticky-menu/whats%20on.png)"></div>
			<div class="sticky-menu-desc">What's On</div>
        </a>
        <a href="http://www.indonesia.travel/gb/en/packages" class="" style="background-color:#8c337c;">
        	<div class="sidemenu-icon" style="background-image:url(/content/dam/indtravelrevamp/page-assets/sticky-menu/Packages.png)"></div>
			<div class="sticky-menu-desc">Packages</div>
        </a>

    </div>
</div>
<script>
    var elSideMenu;
    $("document").ready(function(){
		elSideMenu = $("#sidemenu-action");
		elSideMenu.addClass("sidemenu-show");
    });

    var nilai = 0;
    var myVar;

	//to use this function onmousemove="moveFunction(event)" to html component
    function moveFunction(e) {
        elSideMenu.addClass("sidemenu-show").removeClass("sidemenu-hide");
        var x = e.clientX;
        var y = e.clientY;
        var z = x+y;
        nilai = z;
        //var coor = "Coordinates: (" + x + "," + y + ")";
        clearTimeout(myVar);
        myVar = setTimeout(function(){ moving(z); }, 1500);
        //document.getElementById("testmove").innerHTML = coor;
    }
	
    function moving(z) {
        if(nilai == z) {
            elSideMenu.addClass("sidemenu-hide");
            elSideMenu.removeClass("sidemenu-show");
        }
        else {
            elSideMenu.addClass("sidemenu-show");
            elSideMenu.removeClass("sidemenu-hide");
        }
    }

    function hideSticky(){
		elSideMenu.addClass("sticky-hide");
        elSideMenu.removeClass("sticky-show");
        $(".hidePanelSticky").html('<i class="fa fa-backward"></i>').attr("onclick","showSticky()");
        $("body").attr("onmousemove", "");
    }
	function showSticky(){
		elSideMenu.addClass("sticky-show");
        elSideMenu.removeClass("sticky-hide");
        $(".hidePanelSticky").html('<i class="fa fa-forward"></i>').attr("onclick","hideSticky()");
    }
</script></div>

		

    
<script type="text/javascript" src="/etc/designs/indtravelrevamp/clientlib-all.min.js"></script>



        <script>
$(document).ready(function(){
    //api_bahasa.start();
	//alert(api_bahasa.get[0]);
});

var api_bahasa = {
	get: ['english','en'],
	url: '',
	theURL: function() {
		var url = window.location.href;
		this.url = url;
		return url;
	},
	set: function(country, lang) {
		api_bahasa.get[0] = country; 
		api_bahasa.get[1] = lang;
	},
    start: function() {
		var str = this.theURL();
		if (str.indexOf("/en/") >= 0) {
			api_bahasa.set('english', 'en');
		} else if (str.indexOf("/fr/") >= 0) {
			api_bahasa.set('french', 'fr');
		} else if (str.indexOf("/ar/") >= 0) {
			api_bahasa.set('Arabic', 'ar');
		} else if (str.indexOf("/ja/") >= 0) {
			api_bahasa.set('japan', 'jp');
		} else if (str.indexOf("/ko/") >= 0) {
			api_bahasa.set('korean', 'ko');
		}
	}
}
</script>


    <script>
        /*Pace.stop*/
	</script>

<!-- Code for Lazy Load -->
<!-- cdnjs -->
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.lazy/1.7.7/jquery.lazy.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.lazy/1.7.7/jquery.lazy.plugins.min.js"></script>
    
<script type="text/javascript">
$(function() {
    $('.lazy').Lazy({
        scrollDirection: 'vertical',
        effect: 'fadeIn',
        visibleOnly: true,
        onError: function(element) {
        	console.log('error loading ' + element.data('src'));
        }
    });
});
</script>


<!-- Google Code for Remarketing Tag -->
<!--------------------------------------------------
Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. See more information and instructions on how to setup the tag on: http://google.com/ads/remarketingsetup
--------------------------------------------------->
<script type="text/javascript">
/* <![CDATA[ */
var google_conversion_id = 945725739;
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
/* ]]> */
</script>
<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
</script>
<noscript>
<div style="display:inline;">
<img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/945725739/?guid=ON&amp;script=0"/>
</div>
</noscript>


<sly data-sly-test="false">
<script>
 	//var addnewCom = document.getElementsByClassName("aem-Grid-newComponent");
	//addnewCom[0].style.height = "0px";
	//addnewCom[0].style.margin = "0px";
</script>
</sly>
    <script type="text/javascript">if(window.location.hostname == "indonesia.travel"){_satellite.pageBottom();}</script>
    <!--<div data-sly-resource="cloudservices"></div>-->

<!--<div data-sly-resource="login" data-sly-unwrap></div>--></body>
</html>
